<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Webs on James Doyle</title>
    <link>https://james2doyle.github.io/ohdoylerules.com/web/</link>
    <description>Recent content in Webs on James Doyle</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>james2doyle@gmail.com (James Doyle)</managingEditor>
    <webMaster>james2doyle@gmail.com (James Doyle)</webMaster>
    <copyright>This work is licensed under The MIT License (MIT).</copyright>
    <lastBuildDate>Mon, 18 May 2020 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://james2doyle.github.io/ohdoylerules.com/web/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Using slots in Vue js</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/using-slots-in-vue-js/</link>
      <pubDate>Mon, 18 May 2020 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/using-slots-in-vue-js/</guid>
      <description>&lt;p&gt;If you are working with server-rendered apps (your view is compiled on the server down to HTML), and you are a &lt;a href=&#34;https://vuejs.org/&#34;&gt;Vue.js&lt;/a&gt; user, then you should definitely learn to use a &lt;a href=&#34;https://vuejs.org/v2/guide/components-slots.html&#34;&gt;Vue feature called slots&lt;/a&gt;! Not only will it allow you to make more reusable and flexible components, but you will also improve the rendering performance of your apps as well.&lt;/p&gt;
&lt;h2 id=&#34;basic-example&#34;&gt;Basic Example&lt;/h2&gt;
&lt;p&gt;Here is the example we will be refactoring later. It is a &amp;ldquo;profile list&amp;rdquo; which takes in an array of users from a prop, and then creates &amp;ldquo;profile cards&amp;rdquo; for each one. Finally, it adds a button in each card that emits an event with the user data when someone clicks on it.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!--
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;  This is the way you might typically build a component like this
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; --&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;profile-list&amp;#34;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;ul&lt;/span&gt;&amp;gt;
      &lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- loop over all the users and create cards for them --&amp;gt;&lt;/span&gt;
      &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;li&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;profile-card&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-for&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;user in users&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;:key&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;user.id&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;profile-details&amp;#34;&lt;/span&gt;&amp;gt;
          &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;img&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;:src&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;user.profile_image&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;:alt&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;`${user.username}` profile image&amp;#34;&lt;/span&gt;&amp;gt;
          &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;h4&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-text&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;user.username&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;h4&lt;/span&gt;&amp;gt;
        &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
        &lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- we have a button event here --&amp;gt;&lt;/span&gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;button&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;button&amp;#34;&lt;/span&gt; @&lt;span style=&#34;color:#50fa7b&#34;&gt;click&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;prevent&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;buttonHandler(user)&amp;#34;&lt;/span&gt;&amp;gt;View&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;button&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;li&lt;/span&gt;&amp;gt;
    &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;ul&lt;/span&gt;&amp;gt;
  &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt;&amp;gt;

&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;default&lt;/span&gt; {
  name&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;ProfileList&amp;#39;&lt;/span&gt;,
  props&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
    &lt;span style=&#34;color:#6272a4&#34;&gt;// we take in our list of users
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    users&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
      type&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Array&lt;/span&gt;,
      required&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;,
    }
  },
  methods&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
    buttonHandler(user) {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.$emit(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;profile-change&amp;#39;&lt;/span&gt;, user);
    }
  }
};
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This is how you might use this component in your server-rendered templates:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- liquid or twig example --&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;profile-list&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-bind:users&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;{{ users | json | escape }}&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;profile-list&lt;/span&gt;&amp;gt;
&lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- plain php, short echo --&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;profile-list&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-bind:users&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;lt;?= htmlspecialchars(json_encode($users), ENT_QUOTES, &amp;#39;UTF-8&amp;#39;) ?&amp;gt;&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;profile-list&lt;/span&gt;&amp;gt;
&lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- laravel blade example, note single quotes --&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;profile-list&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-bind:users&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;@json($users)&amp;#39;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;profile-list&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As you can see the main approach here is to encode the users as JSON and pass them to the components &lt;code&gt;users&lt;/code&gt; prop. This can create quite a mess of JSON if you look at the source of your pages if you have lots of components that do this.&lt;/p&gt;
&lt;h2 id=&#34;why-use-slots&#34;&gt;Why Use Slots?&lt;/h2&gt;
&lt;p&gt;As I mentioned, with slots you can create more reusable and flexible components and improve the rendering performance of your apps. I&amp;rsquo;ll outline some of the details below.&lt;/p&gt;
&lt;h4 id=&#34;on-reusability-and-flexibility&#34;&gt;On Reusability and Flexibility&lt;/h4&gt;
&lt;p&gt;Normally, you would send data to your Vue component using props, events, or a store. But using slots, you can essentially skip a rendering step and send your pre-compiled Vue into your Vue components template. This allows you to create components with &lt;em&gt;flexible templates&lt;/em&gt; instead of adding tons of props and lots of switches in the templates.&lt;/p&gt;
&lt;p&gt;What I&amp;rsquo;ve typically seen in the past with larger apps, developers end up creating super-components with tons and tons of props. The reason this happens is usually because the components require flexibility. If you have lots of props, that is &lt;a href=&#34;https://en.wikipedia.org/wiki/Code_smell&#34;&gt;probably a code smell&lt;/a&gt;. A way to reduce the number of props is to use events, new components, and of course, slots, to split things up!&lt;/p&gt;
&lt;h4 id=&#34;on-passing-data&#34;&gt;On Passing Data&lt;/h4&gt;
&lt;p&gt;Since a slot is rendered on the server, you can also do some handy things with the template. Say you want to show or hide different content based on whether the user is authenticated. Well, this is super easy when working in server-rendered templates since the session is so easy to access. You might even have entire blocks of the UI that are not shown if the user is not logged in or is logged out.&lt;/p&gt;
&lt;p&gt;This can help to dramatically reduce the work you need to do on your frontend to access data or building token-based APIs.&lt;/p&gt;
&lt;h4 id=&#34;on-rendering&#34;&gt;On Rendering&lt;/h4&gt;
&lt;p&gt;Since a slot is prerended HTML, your component ends up changing to really only encapsulating &lt;em&gt;the logic&lt;/em&gt; of your component and less &amp;ldquo;template&amp;rdquo; of your component. You&amp;rsquo;ll notice that when using slots instead of props, your page with show the content inside the slot even before Vue has finished loading. This is great because it can help reduce &lt;a href=&#34;https://en.wikipedia.org/wiki/Flash_of_unstyled_content&#34;&gt;flashes of unstyled content&lt;/a&gt; that make your app look a little janky.&lt;/p&gt;
&lt;p&gt;Although &lt;a href=&#34;https://developers.google.com/search/docs/guides/javascript-seo-basics&#34;&gt;browers will run your javascript&lt;/a&gt;, a by-product of using slots is that you could improve the SEO of your site, as you are trying to fill the page with the most HTML possible.&lt;/p&gt;
&lt;p&gt;Mostly slots are good for making more flexible components. The performance benefit is super helpful though.&lt;/p&gt;
&lt;h2 id=&#34;refactored-to-slots&#34;&gt;Refactored to Slots&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!--
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;  All we need to do is cut that inside layout and replace it with a &amp;#34;default&amp;#34; slot
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; --&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;profile-list&amp;#34;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;ul&lt;/span&gt;&amp;gt;
      &lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- this is a default slot with a binding to the `buttonHandler` function --&amp;gt;&lt;/span&gt;
      &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;slot&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;:buttonHandler&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;buttonHandler&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;slot&lt;/span&gt;&amp;gt;
    &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;ul&lt;/span&gt;&amp;gt;
  &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt;&amp;gt;

&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;default&lt;/span&gt; {
  name&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;ProfileList&amp;#39;&lt;/span&gt;,
  methods&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
    buttonHandler(user) {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.$emit(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;profile-change&amp;#39;&lt;/span&gt;, user);
    }
  }
};
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can now see how we completely remove our inner template and props and replace it with the &lt;code&gt;slot&lt;/code&gt; tag. We don&amp;rsquo;t need the props now since we won&amp;rsquo;t be passing in any data. We are going to be passing in the entire block of rendered HTML on our server, and when Vue loads on the client side, the functionality will be hooked up!&lt;/p&gt;
&lt;p&gt;This is how you might use this component in your server-rendered templates:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;profile-list&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-slot&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;slotProps&amp;#34;&lt;/span&gt;&amp;gt;
  @foreach ($users as $user)
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;li&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;profile-card&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;{{ $user.id }}&amp;#34;&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;profile-details&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;img&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;{{ $user.profile_image }}&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;alt&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;{{ $user.username }} profile image&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;h4&lt;/span&gt;&amp;gt;{{ $user.username }}&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;h4&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
      &lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- we have a button event here --&amp;gt;&lt;/span&gt;
      &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;button&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;button&amp;#34;&lt;/span&gt; @&lt;span style=&#34;color:#50fa7b&#34;&gt;click&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;prevent&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;slotProps.buttonHandler(@json($user))&amp;#39;&lt;/span&gt;&amp;gt;View&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;button&lt;/span&gt;&amp;gt;
    &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;li&lt;/span&gt;&amp;gt;
  @endforeach
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;profile-list&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now if you view the source of your page in your browser, you will see that the HTML looks more like Vue is &lt;em&gt;decorating&lt;/em&gt; your HTML instead of generating it.&lt;/p&gt;
&lt;h4 id=&#34;another-example&#34;&gt;Another Example&lt;/h4&gt;
&lt;p&gt;Let&amp;rsquo;s create a modal with slots!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;modal-wrapper&amp;#34;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;button&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;button&amp;#34;&lt;/span&gt; @&lt;span style=&#34;color:#50fa7b&#34;&gt;click&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;prevent&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;toggle&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-text&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;openLabel&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;button&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;modal-overlay&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-if&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;open&amp;#34;&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;modal-header&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;h3&lt;/span&gt;&amp;gt;
          &lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- here is a named slot, we can force content right into this spot as long as we use named slots --&amp;gt;&lt;/span&gt;
          &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;slot&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;header&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;slot&lt;/span&gt;&amp;gt;
        &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;h3&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;modal-body&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;slot&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;body&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;slot&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;modal-footer&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;button&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;button&amp;#34;&lt;/span&gt; @&lt;span style=&#34;color:#50fa7b&#34;&gt;click&lt;/span&gt;.&lt;span style=&#34;color:#50fa7b&#34;&gt;prevent&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;toggle&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-text&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;closeLabel&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;button&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
    &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
  &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt;&amp;gt;

&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;default&lt;/span&gt; {
  name&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Modal&amp;#34;&lt;/span&gt;,
  props&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
    openLabel&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
      type&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;String&lt;/span&gt;,
      required&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;,
      &lt;span style=&#34;color:#ff79c6&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Open&amp;#34;&lt;/span&gt;
    },
    closeLabel&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
      type&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;String&lt;/span&gt;,
      required&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;,
      &lt;span style=&#34;color:#ff79c6&#34;&gt;default&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Close&amp;#34;&lt;/span&gt;
    }
  },
  data() {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; {
      open&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;
    };
  },
  methods&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
    toggle() {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.open &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.open;
    }
  }
};
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;script&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here we have a component that has 2 slots! One for the header of the modal and another for the body. We are still using props though. We don&amp;rsquo;t want to overwrite the main button that opens the modal, or the &lt;code&gt;modal-footer&lt;/code&gt; content that includes our button and the handler.&lt;/p&gt;
&lt;p&gt;Now we can use this component as follows:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- set our custom labels --&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;modal&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;openLabel&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;View Details&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;closeLabel&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Dismiss&amp;#34;&lt;/span&gt;&amp;gt;
  &lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- pass in our title --&amp;gt;&lt;/span&gt;
  &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-slot:header&lt;/span&gt;&amp;gt;Details&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt;&amp;gt;
  &lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- pass in our body content that will be displayed --&amp;gt;&lt;/span&gt;
  &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;v-slot:body&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;h3&lt;/span&gt;&amp;gt;This is my title&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;h3&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;p&lt;/span&gt;&amp;gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam ornare ipsum ligula, id pharetra neque lobortis nec. Mauris varius, felis eget interdum ultricies, libero nulla varius tortor, nec semper tortor leo id nisl. Fusce a est augue. In hac habitasse platea dictumst. Sed pretium egestas vestibulum. Nunc pellentesque aliquam justo, eu rutrum nunc vehicula ac. Nunc feugiat sed ipsum in dapibus. Quisque finibus, dolor at consequat.&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;p&lt;/span&gt;&amp;gt;
  &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;template&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;modal&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can actually conditionally show slots as well. Let&amp;rsquo;s add that:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -2,7 +2,7 @@
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;   &amp;lt;div class=&amp;#34;modal-wrapper&amp;#34;&amp;gt;
     &amp;lt;button type=&amp;#34;button&amp;#34; @click.prevent=&amp;#34;toggle&amp;#34; v-text=&amp;#34;openLabel&amp;#34;&amp;gt;&amp;lt;/button&amp;gt;
     &amp;lt;div class=&amp;#34;modal-overlay&amp;#34; v-if=&amp;#34;open&amp;#34;&amp;gt;
&lt;span style=&#34;color:#8b080b&#34;&gt;-      &amp;lt;div class=&amp;#34;modal-header&amp;#34;&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+      &amp;lt;div class=&amp;#34;modal-header&amp;#34; v-if=&amp;#34;hasHeaderSlot&amp;#34;&amp;gt;
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;         &amp;lt;h3&amp;gt;
           &amp;lt;!-- here is a named slot, we can force content right into this spot as long as we use named slots --&amp;gt;
           &amp;lt;slot name=&amp;#34;header&amp;#34;&amp;gt;&amp;lt;/slot&amp;gt;
&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -38,6 +38,11 @@
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;       open: false
     };
   },
&lt;span style=&#34;font-weight:bold&#34;&gt;+  computed: {
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    hasHeaderSlot() {
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+      return !this.$slots[&amp;#34;header&amp;#34;];
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    }
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+  },
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;   methods: {
     toggle() {
       this.open = !this.open;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;What we&amp;rsquo;ve done here is hide a slot (the &lt;code&gt;header&lt;/code&gt; one) if the slot is not filled in. This allows us to use the &lt;code&gt;body&lt;/code&gt; slot even more effectively! We can provide a full content replacement if we want. Nice!&lt;/p&gt;
&lt;h4 id=&#34;accordion-example&#34;&gt;Accordion Example&lt;/h4&gt;
&lt;p&gt;Here are a couple more example but done in the Codesandbox editor. They have code comments as well as some more organization:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Accordion&lt;/strong&gt;&lt;/p&gt;
&lt;iframe
   src=&#34;https://codesandbox.io/embed/slots-accordion-32c18?fontsize=14&amp;hidenavigation=1&amp;theme=dark&#34;
   style=&#34;width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;&#34;
   title=&#34;Slots - Accordion&#34;
   allow=&#34;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr&#34;
   sandbox=&#34;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&#34;
 &gt;&lt;/iframe&gt;
&lt;p&gt;&lt;strong&gt;Image Picker&lt;/strong&gt;&lt;/p&gt;
&lt;iframe
   src=&#34;https://codesandbox.io/embed/slots-image-picker-3yvlh?fontsize=14&amp;hidenavigation=1&amp;initialpath=%2Fsrc%2Fcomponents%2FImagePicker.vue&amp;theme=dark&#34;
   style=&#34;width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden; margin-bottom: 1rem&#34;
   title=&#34;Slots - Image Picker&#34;
   allow=&#34;accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr&#34;
   sandbox=&#34;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&#34;
 &gt;&lt;/iframe&gt;
&lt;h2 id=&#34;in-conclusion&#34;&gt;In Conclusion&lt;/h2&gt;
&lt;p&gt;So next time you find yourself making tons of props or duplicating component just because they have slightly different templates, just reach for slots!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Create JSON Sections In Shopify</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/create-json-sections-in-shopify/</link>
      <pubDate>Sun, 05 Jan 2020 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/create-json-sections-in-shopify/</guid>
      <description>&lt;p&gt;If you&amp;rsquo;re like me, you&amp;rsquo;re probably constantly running into issues with the flexibility of Shopify themes. There are a lot of issues that come up when trying to squeeze in features and functionality that are &amp;ldquo;shop-adjacent&amp;rdquo;. Shopify does a good job at running a store but it can be difficult to reach beyond that and make some more interactive experiences.&lt;/p&gt;
&lt;p&gt;Recently, I wanted to share the content from one section on one page to another section on another page. This isn&amp;rsquo;t really possible using liquid because you can&amp;rsquo;t pass variables to sections. So even including them both on the same page wouldn&amp;rsquo;t work. You also can&amp;rsquo;t include sections in other sections. So that also won&amp;rsquo;t work.&lt;/p&gt;
&lt;p&gt;So how can you pass data between sections? Well, I managed to get this done by using the &lt;a href=&#34;https://help.shopify.com/en/themes/development/sections/section-rendering-api&#34;&gt;Section Rendering API&lt;/a&gt;. Now, this is not something in liquid, but it can be used as a JS API. Specifically, you can render a section in isolation and without the surrounding page content.&lt;/p&gt;
&lt;p&gt;Now, since you can call this API in JS, how would you use this content? You can just go ahead and use it as HTML, but I wanted to use it as JSON. How do we do that? How can we make sure the section works normally when rendered on a page but returns &amp;ldquo;JSON&amp;rdquo; when rendered through the section API?&lt;/p&gt;
&lt;p&gt;Well, this is possible by taking advantage of the &amp;ldquo;page state&amp;rdquo; when being called via the API.&lt;/p&gt;
&lt;p&gt;Here is an example of the if statement required:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-liquid&#34; data-lang=&#34;liquid&#34;&gt;{% comment %}https://help.shopify.com/en/themes/development/sections/section-rendering-api{% endcomment %}
{% comment %}request.page_type will be &amp;quot;index&amp;quot; when using the section rendering API{% endcomment %}
{% comment %}content_for_header will contain the query string in the request{% endcomment %}
{%- if request.page_type == &#39;index&#39; and content_for_header contains &#39;section_id&#39; -%}
{
  {%- for block in section.blocks -%}
    {%- assign slug = block.settings.title | downcase -%}
    &amp;quot;{{ slug }}&amp;quot;: {{- block.settings | json -}}{%- unless forloop.last -%},{%- endunless -%}
  {%- endfor -%}
}
{%- else -%}
  {%- for block in section.blocks -%}
    {%- assign slug = block.settings.title | downcase -%}
    &amp;lt;div id=&amp;quot;{{ slug }}&amp;quot;&amp;gt;{{ block.settings.title }}&amp;lt;/div&amp;gt;
  {%- endfor -%}
{%- endif -%}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As you can see from the comment, &lt;code&gt;request.page_type&lt;/code&gt; will be equal to &lt;code&gt;&amp;quot;index&amp;quot;&lt;/code&gt; and &lt;code&gt;content_for_header&lt;/code&gt; will contain &lt;code&gt;&amp;quot;section_id&amp;quot;&lt;/code&gt; when rendered via the API. This means, we can use that state to return a string of JSON.&lt;/p&gt;
&lt;p&gt;When this is returned from the section API, it will still be treated as HTML and wrapped with markup. It will look something like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;my-section-id&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;shopify-section&amp;#34;&lt;/span&gt;&amp;gt;
{
  &amp;#34;my-block-title&amp;#34;: {&amp;#34;title&amp;#34;: &amp;#34;My Block Title&amp;#34;, &amp;#34;subtitle&amp;#34;: &amp;#34;This is my subtitle&amp;#34;},
  &amp;#34;second-block-title&amp;#34;: {&amp;#34;title&amp;#34;: &amp;#34;Second Block Title&amp;#34;, &amp;#34;subtitle&amp;#34;: &amp;#34;This is my second subtitle&amp;#34;}
}
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;div&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As you can tell, you can&amp;rsquo;t just &lt;code&gt;JSON.parse&lt;/code&gt; this. It has text inside that will bust up our JSON parser. How can we confidently parse the content inside the &lt;code&gt;div&lt;/code&gt; and get that sweet schema in the center?&lt;/p&gt;
&lt;p&gt;Let me introduce the &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/API/DOMParser&#34;&gt;DOMParser API&lt;/a&gt;. This is a &lt;a href=&#34;https://caniuse.com/#feat=xml-serializer&#34;&gt;well-supported&lt;/a&gt; API that will allow you to parse different types of structured documents.&lt;/p&gt;
&lt;p&gt;In this case we are going to treat this content as &lt;code&gt;text/html&lt;/code&gt; (which it is) and then use other DOM APIs to extract the JSON from the wrapper &lt;code&gt;div&lt;/code&gt; surrounding it.&lt;/p&gt;
&lt;p&gt;Here is the little function I came up with to fetch the rendered section, parse the content as HTML, extract the JSON inside, and return the object it contains.&lt;/p&gt;
&lt;p&gt;See below:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;/**
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * Get section from the rendering API
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * @see https://help.shopify.com/en/themes/development/sections/section-rendering-api
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; *
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * @param {string} section
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; *
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * @returns {Promise&amp;lt;Object&amp;gt;}
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; */&lt;/span&gt;
async &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; getSection(section) {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;try&lt;/span&gt; {
    &lt;span style=&#34;color:#6272a4&#34;&gt;// call the rendering API
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; data &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; await (await fetch(&lt;span style=&#34;color:#f1fa8c&#34;&gt;`/?section_id=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;section&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;)).text();
    &lt;span style=&#34;color:#6272a4&#34;&gt;// create a DOMParser and get the inside content of the section
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; parser &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; DOMParser();
    &lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; node &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; parser.parseFromString(data.toString(), &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;text/html&amp;#39;&lt;/span&gt;).querySelector(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;.shopify-section&amp;#39;&lt;/span&gt;);
    &lt;span style=&#34;color:#ff79c6&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;!&lt;/span&gt;node) {
      console.error(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;No node found in&amp;#39;&lt;/span&gt;, data);

      &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; {};
    }

    &lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; content &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (node.textContent &lt;span style=&#34;color:#ff79c6&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;).trim();

    &lt;span style=&#34;color:#6272a4&#34;&gt;// parse that content as JSON
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; JSON.parse(content);
  } &lt;span style=&#34;color:#ff79c6&#34;&gt;catch&lt;/span&gt; (e) {
    console.error(e);
  }

  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; {};
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nice, right? Pretty simple! We pass a string that represents the file name of the section we want to render, pass that to our DOMParser parse method, fetch the wrapper &lt;code&gt;div&lt;/code&gt;, grab the text content inside, and pass that all to &lt;code&gt;JSON.parse&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This seems strange &lt;em&gt;but it really works!&lt;/em&gt; It works really really well!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// usage:
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;getSection(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;name-of-section-template-file&amp;#39;&lt;/span&gt;)
.then((data) =&amp;gt; {
  &lt;span style=&#34;color:#6272a4&#34;&gt;// do stuff with the object...
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That is how you use this function. Just pass in the filename of the section template (without the &lt;code&gt;.liquid&lt;/code&gt; on the end) and you will get JSON back! The best part about this is that it still works with the normal HTML. So you can use this in both cases without any issues. This whole setup allows website admins to visually design JSON output for your more complex features.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Side Note&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Shopify likes to change things up every once in a while. They recently &lt;a href=&#34;https://developers.shopify.com/changelog/deprecating-the-include-liquid-tag-and-introducing-the-render-tag&#34;&gt;deprecated the &lt;code&gt;include&lt;/code&gt; tag in favour of a new &lt;code&gt;render&lt;/code&gt; tag&lt;/a&gt;. So there is no promise this will work forever.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You have been warned!&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Detect Theme Editor In Shopify Liquid Templates</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/detect-theme-editor-in-shopify-liquid-templates/</link>
      <pubDate>Sat, 04 Jan 2020 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/detect-theme-editor-in-shopify-liquid-templates/</guid>
      <description>&lt;p&gt;So you may already know that you cannot detect if an liquid page is running in the theme editor. You can however, &lt;a href=&#34;https://help.shopify.com/en/themes/development/theme-editor/other-theme-files#detecting-the-theme-editor-with-javascript&#34;&gt;detect this in Javascript&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But what if you want conditional content? What if you want to use this &amp;ldquo;switch&amp;rdquo; in a liquid template?&lt;/p&gt;
&lt;p&gt;There are a couple good reasons to do this. The first one being that sometimes you need to show the content the website admin is editing in a different way.&lt;/p&gt;
&lt;p&gt;I needed this feature when I had a repeating section of blocks that only showed when certain filters where applied to a form. This made it really hard to edit the content. You couldn&amp;rsquo;t see all the blocks at once while you were editing. I wanted to just show all the blocks, with no filtering applied, but only when the theme editor was being used to create and edit blocks.&lt;/p&gt;
&lt;p&gt;Shopify says you can&amp;rsquo;t do this though. I&amp;rsquo;m here to tell you they are incorrect.&lt;/p&gt;
&lt;p&gt;Before I continue, you will need to understand &lt;a href=&#34;http://freakdesign.com.au/blogs/news/get-the-url-querystring-values-with-liquid-in-shopify&#34;&gt;this hack used to detect query strings in liquid&lt;/a&gt;. Once read up on that snippet, you&amp;rsquo;ll see how we build on that to detect the theme editor.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-liquid&#34; data-lang=&#34;liquid&#34;&gt;{%- comment -%}
  http://freakdesign.com.au/blogs/news/get-the-url-querystring-values-with-liquid-in-shopify
  Capture the content for header containing the tracking data
{%- endcomment -%}
{%- capture contentForQuerystring -%}{{- content_for_header -}}{%- endcapture -%}

{% comment %}Use string splitting to pull the value from content_for_header and apply some string clean up{% endcomment %}
{%- assign pageUrl = contentForQuerystring | split:&#39;&amp;quot;pageurl&amp;quot;:&amp;quot;&#39; | last
  | split:&#39;&amp;quot;&#39;
  | first
  | split:&#39;.myshopify.com&#39;
  | last
  | replace:&#39;\/&#39;,&#39;/&#39;
  | replace:&#39;%20&#39;,&#39; &#39;
  | replace:&#39;\u0026&#39;,&#39;&amp;amp;&#39;
  | strip
-%}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The code above is a snippet of the &lt;a href=&#34;http://freakdesign.com.au/blogs/news/get-the-url-querystring-values-with-liquid-in-shopify&#34;&gt;trick used to detect query strings in liquid&lt;/a&gt;. We only need this piece. So let&amp;rsquo;s continue.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-liquid&#34; data-lang=&#34;liquid&#34;&gt;{% comment %}When in the theme editor, the pageUrl variable is malformed/empty{% endcomment %}
{% if pageUrl contains page.handle %}
  We are in the frontend of the website
{% else %}
  We are in the theme editor of the website
{% endif %}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;That&amp;rsquo;s all we need now. I&amp;rsquo;ll explain what is going on.&lt;/p&gt;
&lt;p&gt;Basically, when the liquid template is being accessed in the theme editor, the &lt;code&gt;pageUrl&lt;/code&gt; variable will not properly formed. Since that is the case, we just compare that value with the value that is in &lt;code&gt;page.handle&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;When the template is being loaded properly on the frontend of the site, the &lt;code&gt;pageUrl&lt;/code&gt; will be equal to the &lt;code&gt;page.handle&lt;/code&gt; value.&lt;/p&gt;
&lt;p&gt;In summation, we can now detect if the theme is running in the section editor! Yay!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Side Note&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Shopify likes to change things up every once in a while. They recently &lt;a href=&#34;https://developers.shopify.com/changelog/deprecating-the-include-liquid-tag-and-introducing-the-render-tag&#34;&gt;deprecated the &lt;code&gt;include&lt;/code&gt; tag in favour of a new &lt;code&gt;render&lt;/code&gt; tag&lt;/a&gt;. So there is no promise this will work forever.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You have been warned!&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Using Zapier Webhooks for HTML forms</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/zapier-webhooks-for-html-forms/</link>
      <pubDate>Sat, 28 Sep 2019 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/zapier-webhooks-for-html-forms/</guid>
      <description>&lt;p&gt;If you don&amp;rsquo;t know about &lt;a href=&#34;https://zapier.com/&#34;&gt;Zapier&lt;/a&gt;, it&amp;rsquo;s a service that allows you to &amp;ldquo;automate everything&amp;rdquo;. I&amp;rsquo;ve been using it for over 4 years to automate tons of different things like posting daily Trello tasks to Slack, activity in Intercom to Emails, and even a custom scheduled job that gives me task information for the current day.&lt;/p&gt;
&lt;p&gt;One of the best built-in zaps (that&amp;rsquo;s what they call the tasks) is the &lt;a href=&#34;https://zapier.com/app-directory/webhook/integrations&#34;&gt;webhook zap&lt;/a&gt; which let&amp;rsquo;s you send a &lt;code&gt;POST&lt;/code&gt; request to Zapier and then connect that with the 100s of other integrations. You can use this for all types of things. One thing I have found it to be good for is handling form submissions on static sites.&lt;/p&gt;
&lt;p&gt;As the concept of static sites and &amp;ldquo;serverless&amp;rdquo; keeps getting more and more popular, so do the services surrounding those concepts. But if you know where to look, and how to set things up, most of those &amp;ldquo;services&amp;rdquo; that supplement static sites can be replace with some savvy Zapier setups.&lt;/p&gt;
&lt;p&gt;There are tons of &amp;ldquo;form&amp;rdquo; apps out there to allow you to create endpoints for your site to submit to. A lot of them even suggest using Zapier to handle the post-submission step. It&amp;rsquo;s funny, because you can get a pretty robust setup just using Zapier on it&amp;rsquo;s own and not having to use these services. Also, Zapier supports file uploads! So you can even handle attachments in your forms or &lt;code&gt;POST&lt;/code&gt; request. Handy!&lt;/p&gt;
&lt;p&gt;Anyway, on to the form. Here is an example of an HTML form that will successfully:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;form&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;action&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;https://hooks.zapier.com/hooks/catch/1234567/abcd123/&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#50fa7b&#34;&gt;method&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;post&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#50fa7b&#34;&gt;enctype&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;multipart/form-data&amp;#34;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;for&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&amp;gt;Name:&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;label&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;input&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;for&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;email&amp;#34;&lt;/span&gt;&amp;gt;Email:&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;label&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;input&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;email&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;email&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;email&amp;#34;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;label&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;for&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;attachment&amp;#34;&lt;/span&gt;&amp;gt;Attachment:&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;label&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;input&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;file&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;attachment&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;attachment&amp;#34;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;input&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;submit&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;submit&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Submit&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;form&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Let&amp;rsquo;s break down the content above and talk about the details.&lt;/p&gt;
&lt;h5 id=&#34;action&#34;&gt;Action&lt;/h5&gt;
&lt;p&gt;Pretty straightforward. This is the URL of your webhook. You get this after you create the zap for the first time.&lt;/p&gt;
&lt;h5 id=&#34;method&#34;&gt;Method&lt;/h5&gt;
&lt;p&gt;Obviously, we need this to be a &lt;code&gt;POST&lt;/code&gt; since that is what the webhook is expecting. Nothing special here.&lt;/p&gt;
&lt;h5 id=&#34;enctype&#34;&gt;Enctype&lt;/h5&gt;
&lt;p&gt;Here is the weird part. If you are familiar with file uploads, you already know that in order to properly handling files, you need to make sure your request is using the correct encoding. Here is a description from the &lt;a href=&#34;https://www.w3.org/TR/1999/REC-html401-19991224/interact/forms.html#adef-enctype&#34;&gt;HTML Spec&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This attribute specifies the content type used to submit the form to the server (when the value of method is &amp;ldquo;post&amp;rdquo;). The default value for this attribute is &amp;ldquo;application/x-www-form-urlencoded&amp;rdquo;. The value &amp;ldquo;multipart/form-data&amp;rdquo; should be used in combination with the INPUT element, type=&amp;quot;file&amp;rdquo;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So there you go. Use this for files.&lt;/p&gt;
&lt;h5 id=&#34;caveats&#34;&gt;Caveats&lt;/h5&gt;
&lt;p&gt;One thing to keep in mind is, like all forms, the &lt;code&gt;name&lt;/code&gt; of each field will be assign that value that was used on submission. So you can&amp;rsquo;t really handle dynamic fields with Zapier. You also don&amp;rsquo;t have any validation other than the HTML validation (or javascript validation, if applied) to rely on. People could submit values you don&amp;rsquo;t expect or mess with the rules and submit other things you aren&amp;rsquo;t expecting.&lt;/p&gt;
&lt;p&gt;Something to keep in mind. I wouldn&amp;rsquo;t use this method for anything other than simple contact forms that send emails or maybe forms that fill rows in a spreadsheet or something. Basic stuff.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Use Laravel Valet for WordPress Multisites</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/use-laravel-valet-for-wordpress-multisites/</link>
      <pubDate>Sun, 01 Sep 2019 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/use-laravel-valet-for-wordpress-multisites/</guid>
      <description>&lt;p&gt;Working with WordPress multisites can sometimes be a pain. Especially if you are not using the amazing &lt;a href=&#34;https://laravel.com/docs/6.0/valet&#34;&gt;Laravel Valet&lt;/a&gt; tool to manage your local sites.&lt;/p&gt;
&lt;p&gt;From the site:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Valet is a Laravel (or any site really) development environment for Mac minimalists. No Vagrant, no /etc/hosts file.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I would add that everything can be managed from the command line as well. Very handy.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m going to make some assumptions for the rest of the post. Firstly, you already have a WordPress multisite setup at &lt;code&gt;~/Sites/my-blog&lt;/code&gt; (or wherever your root folder is) that is already resolving with &lt;code&gt;my-blog.localhost&lt;/code&gt;. The TLD (in my case &lt;code&gt;.localhost&lt;/code&gt;) is not important either. Just imagine yours there instead.&lt;/p&gt;
&lt;p&gt;We are going to want to add a new domain name that resolves to the exact same folder as our current blog setup. We can do that with &lt;code&gt;valet link&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So let&amp;rsquo;s run some commands:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cd ~/Sites/my-blog&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;valet link my-other-blog.localhost&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now we have 2 domains pointing to the same folder:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;my-blog.localhost&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;my-other-blog.localhost&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;They are both going to resolve to the same site right now. That&amp;rsquo;s OK. We need to tweak our &lt;code&gt;wp-config.php&lt;/code&gt; to work properly with the requests.&lt;/p&gt;
&lt;p&gt;If we have multisite already setup, we should see some sites in the &lt;code&gt;wp_blogs&lt;/code&gt; table of our database. We want each of these &amp;ldquo;sites&amp;rdquo; to reflect the domains on our system. You can update those now and make sure that the domains match the ones we are setting up.&lt;/p&gt;
&lt;p&gt;Then we need to update our &lt;code&gt;wp-config.php&lt;/code&gt; with some changes:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style=&#34;color:#6272a4&#34;&gt;// wp-config.php
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#6272a4&#34;&gt;// ... there is going to be other stuff in here at the top...
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#6272a4&#34;&gt;// check for HTTPS since valet makes it easy to add HTTPS locally...
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$protocol&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; isset(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_SERVER&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;HTTPS&amp;#39;&lt;/span&gt;]) &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_SERVER&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;HTTPS&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#ff79c6&#34;&gt;===&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;on&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;https://&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;http://&amp;#39;&lt;/span&gt;;

&lt;span style=&#34;color:#6272a4&#34;&gt;// set the home vars based on the domain that is being used for this request
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;WP_HOME&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$protocol&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_SERVER&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;HTTP_HOST&amp;#39;&lt;/span&gt;]);
define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;WP_SITEURL&amp;#39;&lt;/span&gt;, WP_HOME);

&lt;span style=&#34;color:#6272a4&#34;&gt;// multisite settings, should be the same
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;WP_ALLOW_MULTISITE&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;);
define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;MULTISITE&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;true&lt;/span&gt;);

&lt;span style=&#34;color:#6272a4&#34;&gt;// grab the domain from the request and just set it as the current site
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;DOMAIN_CURRENT_SITE&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_SERVER&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;HTTP_HOST&amp;#39;&lt;/span&gt;]);

&lt;span style=&#34;color:#6272a4&#34;&gt;// we get the IDs from `wp_blogs` table
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// and use them here as our domain =&amp;gt; wp_blog.id mappings
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$site&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;my-blog.localhost&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;,
    &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;my-other-blog.localhost&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;,
][&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_SERVER&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;HTTP_HOST&amp;#39;&lt;/span&gt;]];

&lt;span style=&#34;color:#6272a4&#34;&gt;// we set the active ID here now that we have the right one
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// based on the domain we are on in this request
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;SITE_ID_CURRENT_SITE&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$site&lt;/span&gt;);
define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;BLOG_ID_CURRENT_SITE&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$site&lt;/span&gt;);

&lt;span style=&#34;color:#6272a4&#34;&gt;// the rest of the regular stuff
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// up to you what you want here
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;WP_DEBUG&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;);
define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;WP_CACHE&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;);
define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;PATH_CURRENT_SITE&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;);
define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;COOKIE_DOMAIN&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;);
define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;ADMIN_COOKIE_PATH&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;);
define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;COOKIEPATH&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;);
define(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;SITECOOKIEPATH&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;So what we are doing here is taking advantage of the way PHP handles requests. Each request runs the entire application. So we can use the request itself as the state of our application. We use the domain to figure out which site we should be loading. Pretty simple.&lt;/p&gt;
&lt;p&gt;Now we don&amp;rsquo;t have to make multiple copies of the WordPress setup just to test the basic multisite features.&lt;/p&gt;
&lt;p&gt;I understand that you probably don&amp;rsquo;t want to do this as multisite is usually because you want to administrate multiple instances of WordPress at the same time. But when you are just using multisite for managing content. In my case, it was just that the site was multilingual and so we wanted the sites to be identical but the content is swapping in and out. So this is a setup for that instead of having two completely separate folders and copies.&lt;/p&gt;
&lt;p&gt;The nice thing about this is that it also scales nicely. If you have new sites, just &lt;code&gt;valet link&lt;/code&gt; the domain, and add to the array of &lt;code&gt;$sites&lt;/code&gt;. Done!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Build A Multi-lingual Laravel Site With Subdomains</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/build-a-multi-lingual-laravel-site-with-subdomains/</link>
      <pubDate>Sun, 25 Aug 2019 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/build-a-multi-lingual-laravel-site-with-subdomains/</guid>
      <description>&lt;p&gt;OK, so you want to make Laravel a multi-lingual (or just multi-functional) site based off the subdomain? Cool. Must be an interesting project.&lt;/p&gt;
&lt;p&gt;In order to test this on local development, we are going to use &lt;a href=&#34;https://laravel.com/docs/5.8/valet&#34;&gt;Valet&lt;/a&gt;. Let&amp;rsquo;s say our Laravel project folder is in &lt;code&gt;~/Sites/multisite&lt;/code&gt;. We can use that as our base path moving forward. With Valet, we can set up subdomains with &lt;code&gt;valet link&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m going to pretend that we want to add support for a new subdomain for the French version of our site. I&amp;rsquo;m also going to assume that your valet TLD is &lt;code&gt;.localhost&lt;/code&gt; and your project is called &lt;code&gt;multisite.localhost&lt;/code&gt;. The domain we are adding in this case, it will be &lt;code&gt;fr.multisite.localhost&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So in order to get that subdomain setup locally, we just go to our site folder and run &lt;code&gt;valet link fr.multisite&lt;/code&gt;. This will allow &lt;code&gt;fr.multisite.localhost&lt;/code&gt; to route to the same Laravel setup as &lt;code&gt;multisite.localhost&lt;/code&gt;. Beauty!&lt;/p&gt;
&lt;p&gt;Well, first things first. Let&amp;rsquo;s make a helper to grab the subdomain from the request. This will come in handy for a lot of the future logic switching or setting application state on a per-request basis.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s use a &lt;code&gt;macro&lt;/code&gt; to add a new method to the &lt;code&gt;Request&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;--- a/app/Providers/AppServiceProvider.php
&lt;/span&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+++ b/app/Providers/AppServiceProvider.php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -3,6 +3,7 @@
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt; namespace App\Providers;

 use Illuminate\Support\ServiceProvider;
&lt;span style=&#34;font-weight:bold&#34;&gt;+use Illuminate\Http\Request;
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;
 class AppServiceProvider extends ServiceProvider
 {
&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -13,7 +14,14 @@ class AppServiceProvider extends ServiceProvider
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;      */
     public function register()
     {
&lt;span style=&#34;color:#8b080b&#34;&gt;-        //
&lt;/span&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        // nice helper for getting the current subdomain
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        Request::macro(&amp;#39;subdomain&amp;#39;, function () {
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            $domain = request()-&amp;gt;server-&amp;gt;get(&amp;#39;HTTP_HOST&amp;#39;);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            $split = explode(&amp;#39;.&amp;#39;, $domain, 3);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            // get the subdomain or return null
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            return array_get($split, &amp;#39;0&amp;#39;, &amp;#39;&amp;#39;);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        });
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;     }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now any &amp;ldquo;request&amp;rdquo; instance will have a new &lt;code&gt;subdomain&lt;/code&gt; method that we can call.&lt;/p&gt;
&lt;p&gt;We need a way to organize the details of each domain. We can use a &lt;code&gt;config&lt;/code&gt; for this. So we are going to make a new one and fill it with some details:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;--- /dev/null
&lt;/span&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+++ b/config/multisite.php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -0,0 +1,25 @@
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+&amp;lt;?php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+return [
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    // we are going to set this in a future middleware
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;active&amp;#39; =&amp;gt; null,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;sites&amp;#39; =&amp;gt; [
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        &amp;#39;en&amp;#39; =&amp;gt; [
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            &amp;#39;default&amp;#39; =&amp;gt; true,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            &amp;#39;locale&amp;#39; =&amp;gt; &amp;#39;en&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            &amp;#39;domain&amp;#39; =&amp;gt; &amp;#39;http://multisite.localhost&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;English&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        ],
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        &amp;#39;fr&amp;#39; =&amp;gt; [
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            &amp;#39;locale&amp;#39; =&amp;gt; &amp;#39;fr&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            &amp;#39;domain&amp;#39; =&amp;gt; &amp;#39;http://fr.multisite.localhost&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+            &amp;#39;label&amp;#39; =&amp;gt; &amp;#39;Français&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        ],
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    ],
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+];
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now, we need a way to map the requested domain to the correct locale. We take in our subdomain and then map it to the correct config item. In order to make this happen, we need to make a middleware. A middleware manipulates the request as it moves through our app. We aren&amp;rsquo;t going to manipulate the request, we are just going to use the details in the request to set up more config settings.&lt;/p&gt;
&lt;p&gt;Here we go:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;--- /dev/null
&lt;/span&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+++ b/app/Http/Middleware/MultisiteMiddleware.php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -0,0 +1,36 @@
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+&amp;lt;?php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+namespace App\Http\Middleware;
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+use Illuminate\Support\Facades\App;
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+use Closure;
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+class MultisiteMiddleware
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+{
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    /**
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+     * Handle an incoming request.
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+     *
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+     * @param  \Illuminate\Http\Request  $request
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+     * @param  \Closure  $next
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+     * @return mixed
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+     */
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    public function handle($request, Closure $next)
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    {
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        $sites = collect(config(&amp;#39;multisite.sites&amp;#39;));
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        $defaultSite = $sites-&amp;gt;firstWhere(&amp;#39;default&amp;#39;, true);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        $currentSite = $sites-&amp;gt;get($request-&amp;gt;subdomain(), $defaultSite);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        // put this subdomain in the `env`
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        putenv(&amp;#39;SUBDOMAIN=&amp;#39; . $currentSite[&amp;#39;domain&amp;#39;]);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        // make it easier to access the current site config
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        config()-&amp;gt;set(&amp;#39;multisite.active&amp;#39;, $currentSite);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        // finally, set the app locale so translations load correctly
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        App::setLocale($currentSite[&amp;#39;locale&amp;#39;]);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+        return $next($request);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    }
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We got our new middleware, so we can enable it in the HTTP kernel array:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;--- a/app/Http/Kernel.php
&lt;/span&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+++ b/app/Http/Kernel.php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -14,6 +14,7 @@ class Kernel extends HttpKernel
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;      * @var array
      */
     protected $middleware = [
&lt;span style=&#34;font-weight:bold&#34;&gt;+        \App\Http\Middleware\MultisiteMiddleware::class,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;         \App\Http\Middleware\TrustProxies::class,
         \App\Http\Middleware\CheckForMaintenanceMode::class,
         \Illuminate\Foundation\Http\Middleware\ValidatePostSize::class,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Great! When we make requests now, the &lt;code&gt;config(&#39;multisite.active&#39;)&lt;/code&gt; is going to return a matched value from the multisite config. If the subdomain doesn&amp;rsquo;t match, it will just return the default site config. In our case, the &lt;code&gt;en&lt;/code&gt; one.&lt;/p&gt;
&lt;p&gt;Since we are setting the locale, we are going to need to make sure there are translations available for all our text. We do this by adding new language files. These files are PHP files that just return plain arrays. These files go under &lt;code&gt;resources/lang/{locale}&lt;/code&gt;. So for English (locale is &lt;code&gt;en&lt;/code&gt;) we put our files under &lt;code&gt;resources/lang/en&lt;/code&gt; and for French (or &lt;code&gt;fr&lt;/code&gt;), we put the files under &lt;code&gt;resources/lang/fr&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;--- /dev/null
&lt;/span&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+++ b/resources/lang/en/multisite.php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -0,0 +1,11 @@
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+&amp;lt;?php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+return [
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;site_title&amp;#39; =&amp;gt; &amp;#39;English Multisite&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;site_label&amp;#39; =&amp;gt; &amp;#39;English&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;welcome&amp;#39; =&amp;gt; &amp;#39;Welcome&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;welcome_message&amp;#39; =&amp;gt; &amp;#39;Welcome to the site. You can change the locale by changing to a supported subdomain.&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;switch_site&amp;#39; =&amp;gt; &amp;#39;Switch site&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+];
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;--- /dev/null
&lt;/span&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+++ b/resources/lang/fr/multisite.php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -0,0 +1,11 @@
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+&amp;lt;?php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+return [
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;site_title&amp;#39; =&amp;gt; &amp;#39;Multisite Français&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;site_label&amp;#39; =&amp;gt; &amp;#39;Français&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;welcome&amp;#39; =&amp;gt; &amp;#39;Bienvenue&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;welcome_message&amp;#39; =&amp;gt; &amp;#39;Bienvenue sur le site. Vous pouvez changer les paramètres régionaux avec le sous-domaine.&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    &amp;#39;switch_site&amp;#39; =&amp;gt; &amp;#39;Changer de site&amp;#39;,
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+];
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We access these files in a similar way to a &lt;code&gt;config&lt;/code&gt; value. We can use the &lt;code&gt;trans&lt;/code&gt; function, or we can use the &lt;code&gt;@lang&lt;/code&gt; blade directive. Either way, they take a string that represents the path to our array value that we want.&lt;/p&gt;
&lt;p&gt;So, if I want to display the &lt;code&gt;site_title&lt;/code&gt; from our &lt;code&gt;resources/lang/{locale}/multisite.php&lt;/code&gt;, I would need to run &lt;code&gt;trans(&#39;multisite.site_title&#39;)&lt;/code&gt;. Laravel will take care of the rest. If we are in a valid locale, great! We will get the correct language. If we are missing a translation for that key, it will fallback to whatever locale we have set in the &lt;code&gt;config/app.php&lt;/code&gt; under the &lt;code&gt;fallback_locale&lt;/code&gt; key. The default is &lt;code&gt;en&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So how about the javascript side? How do we deal with JSON when working with this setup?&lt;/p&gt;
&lt;h4 id=&#34;javascript-and-json&#34;&gt;JavaScript and JSON&lt;/h4&gt;
&lt;p&gt;Well, if we set things up correctly, the domain should set the locale for us and as long as the URL is correct, we should be good to go!&lt;/p&gt;
&lt;p&gt;We need to add an endpoint to get our JSON from. Let&amp;rsquo;s just toss it into &lt;code&gt;routes/web.php&lt;/code&gt; because we are animals like that:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;--- a/routes/web.php
&lt;/span&gt;&lt;span style=&#34;color:#8b080b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+++ b/routes/web.php
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;@@ -14,3 +14,7 @@
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;&lt;/span&gt; Route::get(&amp;#39;/&amp;#39;, function () {
     return view(&amp;#39;welcome&amp;#39;);
 });
&lt;span style=&#34;font-weight:bold&#34;&gt;+
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+Route::get(&amp;#39;/locale&amp;#39;, function () {
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+    return response()-&amp;gt;json(config(&amp;#39;multisite.active&amp;#39;), 200);
&lt;/span&gt;&lt;span style=&#34;font-weight:bold&#34;&gt;+});
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here, you can see we are just returning whatever the active site is. This will be a JSON object of the active site config. Nice!&lt;/p&gt;
&lt;h4 id=&#34;in-summation&#34;&gt;In Summation&lt;/h4&gt;
&lt;p&gt;Finally, let&amp;rsquo;s update the &lt;code&gt;welcome.blade.php&lt;/code&gt; just so we can see our changes in progress:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;html&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;lang&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;{{ str_replace(&amp;#39;_&amp;#39;, &amp;#39;-&amp;#39;, app()-&amp;gt;getLocale()) }}&amp;#34;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;head&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;charset&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;viewport&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;width=device-width, initial-scale=1&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;title&lt;/span&gt;&amp;gt;@lang(&amp;#39;multisite.site_title&amp;#39;)&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;title&lt;/span&gt;&amp;gt;
    &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;head&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;body&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;p&lt;/span&gt;&amp;gt;
            @foreach (config(&amp;#39;multisite.sites&amp;#39;) as $site)
                &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;{{ $site[&amp;#39;domain&amp;#39;] }}&amp;#34;&lt;/span&gt;&amp;gt;{{ $site[&amp;#39;label&amp;#39;] }}&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;a&lt;/span&gt;&amp;gt;
            @endforeach
        &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;p&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;h1&lt;/span&gt;&amp;gt;@lang(&amp;#39;multisite.welcome&amp;#39;)&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;h1&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;p&lt;/span&gt;&amp;gt;@lang(&amp;#39;multisite.welcome_message&amp;#39;)&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;p&lt;/span&gt;&amp;gt;

        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;pre&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;ajax&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;pre&lt;/span&gt;&amp;gt;

        &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;script&lt;/span&gt;&amp;gt;
            &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;DOMContentLoaded&amp;#39;&lt;/span&gt;, () =&amp;gt; {
                &lt;span style=&#34;color:#6272a4&#34;&gt;// call that endpoint we created in our route
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;                fetch(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;/locale&amp;#39;&lt;/span&gt;, {
                    credentials&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;include&amp;#39;&lt;/span&gt;,
                    headers&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; {
                        accept&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;application/json&amp;#39;&lt;/span&gt;,
                        &lt;span style=&#34;color:#6272a4&#34;&gt;// make sure we set the language explicitly
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;                        &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;accept-language&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.documentElement.lang
                    }
                })
                &lt;span style=&#34;color:#6272a4&#34;&gt;// do the fetch dance...
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;                .then((res) =&amp;gt; res.json())
                .then((data) =&amp;gt; {
                    &lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; ajaxField &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.getElementById(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;ajax&amp;#39;&lt;/span&gt;);

                    &lt;span style=&#34;color:#6272a4&#34;&gt;// prepend this to the output
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;                    ajaxField.innerHTML &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;// loaded via ajax\n&amp;#39;&lt;/span&gt;;
                    &lt;span style=&#34;color:#6272a4&#34;&gt;// put our JSON in but format it with 2 spaces
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;                    ajaxField.innerHTML &lt;span style=&#34;color:#ff79c6&#34;&gt;+=&lt;/span&gt; JSON.stringify(data, &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;);
                });
            });
        &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;script&lt;/span&gt;&amp;gt;
    &amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;body&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;html&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We should see something like this when we load up &lt;code&gt;multisite.localhost&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/multisite-demo.gif&#34; target=&#34;_blank&#34; title=&#34;laravel multi-lingual site demo&#34;&gt;&lt;img alt=&#34;laravel multi-lingual site demo&#34; src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/multisite-demo.gif&#34;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;Wow! Amazing. So it works! Very nice. We now have the basis for a multilingual site based completely off subdomains and we didn&amp;rsquo;t need to install any packages or do any weird magic!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Simple Slack Slash Supplier</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/simple-slash-commands/</link>
      <pubDate>Mon, 13 May 2019 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/simple-slash-commands/</guid>
      <description>&lt;p&gt;&lt;em&gt;This is a reprint of the README from my project &lt;a href=&#34;https://github.com/james2doyle/simple-slack-slash-supplier&#34;&gt;simple-slack-slash-supplier&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This examples project showcases a simple way to create new slash commands without having to work too hard.&lt;/p&gt;
&lt;p&gt;This example assumes you have access to &lt;a href=&#34;https://aws.amazon.com/lambda/&#34;&gt;AWS Lambda&lt;/a&gt; as well as have &lt;a href=&#34;https://api.slack.com/slash-commands&#34;&gt;created a Slash command in Slack&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;handling-applicationx-www-form-urlencoded&#34;&gt;Handling &lt;code&gt;application/x-www-form-urlencoded&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Slack sends their &lt;code&gt;POST&lt;/code&gt; requests using &lt;code&gt;Content-Type: application/x-www-form-urlencoded&lt;/code&gt;. This is not a content type that Lambda supports out-of-the-box. We need to do some legwork in order to map that raw request body to &lt;code&gt;JSON&lt;/code&gt; which we can understand more easily in our Node.js handler function.&lt;/p&gt;
&lt;p&gt;Preliminary setup:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You must create a standalone &lt;code&gt;POST&lt;/code&gt; resource action&lt;/li&gt;
&lt;li&gt;Be sure &amp;ldquo;Integration type&amp;rdquo; is set to &amp;ldquo;Lambda Function&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Make sure &lt;code&gt;Use Lambda Proxy integration&lt;/code&gt; is checked&lt;/li&gt;
&lt;li&gt;Remove the original &lt;code&gt;ANY&lt;/code&gt; resource action to be sure it doesn&amp;rsquo;t conflict&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;mapping-templates&#34;&gt;Mapping templates&lt;/h4&gt;
&lt;p&gt;In order to properly handle &lt;code&gt;application/x-www-form-urlencoded&lt;/code&gt;, we need to make a mapping template for it.&lt;/p&gt;
&lt;p&gt;Here are the steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Click on &amp;ldquo;Integration Request&amp;rdquo; when viewing the details of your &lt;code&gt;POST&lt;/code&gt; resource action&lt;/li&gt;
&lt;li&gt;Pop open the &amp;ldquo;Mapping templates&amp;rdquo; accordion&lt;/li&gt;
&lt;li&gt;Click &amp;ldquo;Add mapping template&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;application/x-www-form-urlencoded&lt;/code&gt; in the field that appears&lt;/li&gt;
&lt;li&gt;Scroll down and see the new form to enter in your template details&lt;/li&gt;
&lt;li&gt;Select &amp;ldquo;Method request passthrough&amp;rdquo; from the &amp;ldquo;Generate template&amp;rdquo; dropdown&lt;/li&gt;
&lt;li&gt;Put the following content in the textarea:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;##  Ripped from &amp;quot;https://stackoverflow.com/a/52705985/1170664&amp;quot;
{
    &amp;quot;body-json&amp;quot; : $input.json(&#39;$&#39;),
    &amp;quot;params&amp;quot; : {
        #foreach( $token in $input.path(&#39;$&#39;).split(&#39;&amp;amp;&#39;) )
            #set( $keyVal = $token.split(&#39;=&#39;) )
            #set( $keyValSize = $keyVal.size() )
            #if( $keyValSize &amp;gt;= 1 )
                #set( $key = $util.urlDecode($keyVal[0]) )
                #if( $keyValSize &amp;gt;= 2 )
                    #set( $val = $util.urlDecode($keyVal[1]) )
                #else
                    #set( $val = &#39;&#39; )
                #end
                &amp;quot;$key&amp;quot;: &amp;quot;$util.escapeJavaScript($val)&amp;quot;#if($foreach.hasNext),#end
            #end
        #end
    },
    &amp;quot;stage-variables&amp;quot; : {
        #foreach($key in $stageVariables.keySet())
        &amp;quot;$key&amp;quot; : &amp;quot;$util.escapeJavaScript($stageVariables.get($key))&amp;quot;
            #if($foreach.hasNext),#end
        #end
    },
    &amp;quot;context&amp;quot; : {
        &amp;quot;account-id&amp;quot; : &amp;quot;$context.identity.accountId&amp;quot;,
        &amp;quot;api-id&amp;quot; : &amp;quot;$context.apiId&amp;quot;,
        &amp;quot;api-key&amp;quot; : &amp;quot;$context.identity.apiKey&amp;quot;,
        &amp;quot;authorizer-principal-id&amp;quot; : &amp;quot;$context.authorizer.principalId&amp;quot;,
        &amp;quot;caller&amp;quot; : &amp;quot;$context.identity.caller&amp;quot;,
        &amp;quot;cognito-authentication-provider&amp;quot; : &amp;quot;$context.identity.cognitoAuthenticationProvider&amp;quot;,
        &amp;quot;cognito-authentication-type&amp;quot; : &amp;quot;$context.identity.cognitoAuthenticationType&amp;quot;,
        &amp;quot;cognito-identity-id&amp;quot; : &amp;quot;$context.identity.cognitoIdentityId&amp;quot;,
        &amp;quot;cognito-identity-pool-id&amp;quot; : &amp;quot;$context.identity.cognitoIdentityPoolId&amp;quot;,
        &amp;quot;http-method&amp;quot; : &amp;quot;$context.httpMethod&amp;quot;,
        &amp;quot;stage&amp;quot; : &amp;quot;$context.stage&amp;quot;,
        &amp;quot;source-ip&amp;quot; : &amp;quot;$context.identity.sourceIp&amp;quot;,
        &amp;quot;user&amp;quot; : &amp;quot;$context.identity.user&amp;quot;,
        &amp;quot;user-agent&amp;quot; : &amp;quot;$context.identity.userAgent&amp;quot;,
        &amp;quot;user-arn&amp;quot; : &amp;quot;$context.identity.userArn&amp;quot;,
        &amp;quot;request-id&amp;quot; : &amp;quot;$context.requestId&amp;quot;,
        &amp;quot;resource-id&amp;quot; : &amp;quot;$context.resourceId&amp;quot;,
        &amp;quot;resource-path&amp;quot; : &amp;quot;$context.resourcePath&amp;quot;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;Paste the content above in the textarea&lt;/li&gt;
&lt;li&gt;Click &amp;ldquo;Save&amp;rdquo; to confirm the content of the textarea&lt;/li&gt;
&lt;li&gt;From the &amp;ldquo;Actions&amp;rdquo; dropdown select &amp;ldquo;Deploy API&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Deploy the API changes as you normally would&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now you should now be able to handle &lt;code&gt;POST&lt;/code&gt; requests with content type of &lt;code&gt;application/x-www-form-urlencoded&lt;/code&gt; and they will be converted right into &lt;code&gt;JSON&lt;/code&gt; automatically!&lt;/p&gt;
&lt;h3 id=&#34;testing&#34;&gt;Testing&lt;/h3&gt;
&lt;p&gt;You can edit &lt;code&gt;hello-command.json&lt;/code&gt; to add details about your command in order to test the different handlers. Add new files and new tests scripts to &lt;code&gt;package.json&lt;/code&gt; to keep going.&lt;/p&gt;
&lt;p&gt;Run the commands with:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;npm install
npm run test
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>SQL As An API</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/sql-as-an-api/</link>
      <pubDate>Sun, 12 May 2019 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/sql-as-an-api/</guid>
      <description>&lt;p&gt;There has been a lot of fanfare around the idea of &lt;a href=&#34;https://graphql.org/&#34;&gt;GraphQL&lt;/a&gt; lately. For good reason in my opinion.&lt;/p&gt;
&lt;p&gt;GraphQL allows you to essentially define your API with your query. For example, if you want to only include a single field then you can do that. If you want to nest related items, or not, you can do that as well.&lt;/p&gt;
&lt;p&gt;If you take a quick look at the GraphQL website (as it is today) you can see how they lay this out:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Describe your data
type Project {
  name: String
  tagline: String
  created_at: Int
}

# Ask for what you want
{
  project(name: &amp;quot;My Project&amp;quot;) {
    tagline
  }
}

# Get predictable results
{
  &amp;quot;project&amp;quot;: {
    &amp;quot;tagline&amp;quot;: &amp;quot;A query language for APIs&amp;quot;
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Pretty straightforward. You create a model of your data that describes it, write a query that matches the model, and get the results.&lt;/p&gt;
&lt;p&gt;Although, this should already look familiar to anyone that has used a relational database before. What if we massage this example so it fits a more classic datastore:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Describe your data
CREATE TABLE &amp;quot;project&amp;quot;
(
    [name] NVARCHAR(40),
    [tagline] NVARCHAR(120),
    [created_at] INTEGER NOT NULL
);

# Ask for what you want
SELECT `tagline` FROM `projects` WHERE `name` = &amp;quot;My Project&amp;quot;

# Get predictable results
[
  {
    &amp;quot;tagline&amp;quot;: &amp;quot;A query language for APIs&amp;quot;
  }
]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So this really is just another way to store and query your data. We describe the structure, query it using the specified query language with our expected structure, and print out the results.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;So can we create a GraphQL experience using just SQL?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So can we create a GraphQL experience using just SQL? Short answer, yes. This isn&amp;rsquo;t a new concept though. There is a tool called &lt;a href=&#34;https://simonwillison.net/2017/Nov/13/datasette/#Arbitrary_SQL_55&#34;&gt;datasette&lt;/a&gt; that does just this.&lt;/p&gt;
&lt;p&gt;So where do we start? Well, we don&amp;rsquo;t want users to be able to modify our database. We want to safely expose SQL to the internet. Crazy idea but it just might work.&lt;/p&gt;
&lt;p&gt;So what we want to do is open a Sqlite database using the &amp;ldquo;ro&amp;rdquo; (read only) mode (see &lt;a href=&#34;http://www.sqlite.org/draft/c3ref/open.html&#34;&gt;mode details here&lt;/a&gt;). This mode means that you &lt;em&gt;cannot modify the database&lt;/em&gt;. You can only run queries that are reads. This is a great feature as we need to expose this database to the public internet if we are going to use it as an API.&lt;/p&gt;
&lt;p&gt;Once we have a mounted sqlite database that is set to &amp;ldquo;read only&amp;rdquo; mode, we can then pass queries right to it and return the results.&lt;/p&gt;
&lt;h3 id=&#34;basic-example&#34;&gt;Basic Example&lt;/h3&gt;
&lt;p&gt;We are going to whip up this example using PHP and the &lt;code&gt;chinook&lt;/code&gt; database &lt;a href=&#34;http://www.sqlitetutorial.net/sqlite-sample-database/&#34;&gt;from this site&lt;/a&gt;. It is insanely easy to get this working using the &lt;code&gt;SQLite3&lt;/code&gt; class and a single &lt;code&gt;json_encode&lt;/code&gt; call.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s see how to get this done:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style=&#34;color:#6272a4&#34;&gt;// be sure to open with `SQLITE3_OPEN_READONLY`
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$db&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;new&lt;/span&gt; SQLite3(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;chinook.sqlite&amp;#39;&lt;/span&gt;, SQLITE3_OPEN_READONLY);
&lt;span style=&#34;color:#6272a4&#34;&gt;// pull out the query from the POST request
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$rows&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$db&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;query&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$_POST&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;query&amp;#39;&lt;/span&gt;]);
&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$results&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [];
&lt;span style=&#34;color:#ff79c6&#34;&gt;while&lt;/span&gt; (&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$row&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$rows&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;fetchArray&lt;/span&gt;(SQLITE3_ASSOC)) {
    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$results&lt;/span&gt;[] &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$row&lt;/span&gt;;
}
&lt;span style=&#34;color:#ff79c6&#34;&gt;echo&lt;/span&gt; json_encode(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$results&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;OK. That was easy. This is all we need to support calls to this &amp;ldquo;server&amp;rdquo;. Let&amp;rsquo;s save this to &lt;code&gt;index.php&lt;/code&gt;. And start a webserver on port &lt;code&gt;8000&lt;/code&gt;. If you didn&amp;rsquo;t know this, PHP has a built-in server just like the one python has. We can start it like so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;php -S localhost:8000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You should see some output information about what the server is doing. Now we can make calls to this API:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl --request POST &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --url http://localhost:8000 &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --header &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;query=SELECT LastName FROM employees&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We should see the following output in our console:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;[
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Adams&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Edwards&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Peacock&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Park&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Johnson&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Mitchell&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;King&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Callahan&amp;#34;&lt;/span&gt;
  }
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;getting-fancier&#34;&gt;Getting fancier&lt;/h3&gt;
&lt;p&gt;Nice! So this works. Let&amp;rsquo;s try to do something a little more fancy:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl --request POST &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --url http://localhost:8000 &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --header &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;query=SELECT printf(&amp;#34;%s %s&amp;#34;, FirstName, LastName) AS FullName, FirstName, LastName FROM employees&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Our output:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;[
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FullName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Andrew Adams&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FirstName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Andrew&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Adams&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FullName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Nancy Edwards&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FirstName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Nancy&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Edwards&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FullName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Jane Peacock&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FirstName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Jane&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Peacock&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FullName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Margaret Park&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FirstName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Margaret&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Park&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FullName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Steve Johnson&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FirstName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Steve&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Johnson&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FullName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Michael Mitchell&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FirstName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Michael&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Mitchell&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FullName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Robert King&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FirstName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Robert&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;King&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FullName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Laura Callahan&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;FirstName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Laura&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Callahan&amp;#34;&lt;/span&gt;
  }
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;How about a little example that searches a users name?&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl --request POST &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --url http://localhost:8000 &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --header &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;query=SELECT printf (&amp;#34;%s %s&amp;#34;, employees.FirstName, employees.LastName) AS full_name FROM employees WHERE full_name LIKE &amp;#34;an%&amp;#34;&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We see that we found the user:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;[
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Andrew Adams&amp;#34;&lt;/span&gt;
  }
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Let&amp;rsquo;s do an even more sophisticated example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl --request POST &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --url http://localhost:8000 &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --header &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;query=SELECT e2.EmployeeId AS employee_id, e2.ReportsTo AS reports_to, printf (&amp;#34;%s %s&amp;#34;, e2.FirstName, e2.LastName) AS employee_full_name, printf (&amp;#34;%s %s&amp;#34;, e1.FirstName, e1.LastName) AS reports_to_full_name FROM employees e1 INNER JOIN employees e2 ON e1.EmployeeId = e2.ReportsTo WHERE e1.ReportsTo IS NOT NULL&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And our output:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;[
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;3&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Jane Peacock&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Nancy Edwards&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;4&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Margaret Park&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Nancy Edwards&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;5&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Steve Johnson&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Nancy Edwards&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;7&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;6&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Robert King&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Michael Mitchell&amp;#34;&lt;/span&gt;
  },
  {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;8&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;6&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;employee_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Laura Callahan&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;reports_to_full_name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Michael Mitchell&amp;#34;&lt;/span&gt;
  }
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Awesome! As you can see this is pretty great! We have a basic API that we can use not only to read but to handle relationships as well. Sweet!&lt;/p&gt;
&lt;h3 id=&#34;handling-malicious-queries&#34;&gt;Handling malicious queries&lt;/h3&gt;
&lt;p&gt;Let&amp;rsquo;s try to execute a bad command:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl --request POST &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --url http://localhost:8000 &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --header &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type: application/x-www-form-urlencoded&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  --data &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;query=INSERT INTO &amp;#34;artists&amp;#34; (&amp;#34;Name&amp;#34;) VALUES (&amp;#34;Philip Glass Ensemble&amp;#34;)&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We should see this output from the server:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;br&lt;/span&gt; /&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;Warning&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;:  SQLite3::query(): Unable to execute statement: attempt to write a readonly database in &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;/Users/james/Sites/sqliteapi/index.php&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt; on line &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;6&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;br&lt;/span&gt; /&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;br&lt;/span&gt; /&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;Fatal error&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;:  Uncaught Error: Call to a member function fetchArray() on bool in /Users/james/Sites/sqliteapi/index.php:8
Stack trace:
#0 {main}
  thrown in &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;/Users/james/Sites/sqliteapi/index.php&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt; on line &amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;8&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;b&lt;/span&gt;&amp;gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;br&lt;/span&gt; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As you can see, we try to execute a bad query that would manipulate the data and we get blocked.&lt;/p&gt;
&lt;h3 id=&#34;super-example&#34;&gt;Super example&lt;/h3&gt;
&lt;p&gt;Here is a much more robust example with some error handling, proper status codes, parsing of JSON input, and it also allows you to put the &lt;code&gt;query&lt;/code&gt; in a &lt;code&gt;GET&lt;/code&gt; or a &lt;code&gt;POST&lt;/code&gt; request.&lt;/p&gt;
&lt;script src=&#34;https://gist.github.com/james2doyle/9e4b2b4f17e33bfb236fbdaf96c41a4c.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;Try running the example above and giving things a test. Here is our new request that uses JSON instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;curl -X POST &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  http://localhost:8000 &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  -H &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;Content-Type: application/json&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;  -d &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;{ &amp;#34;query&amp;#34;: &amp;#34;SELECT LastName FROM employees&amp;#34; }&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now we have the following output:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{
  &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;: [
    {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Adams&amp;#34;&lt;/span&gt;
    },
    {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Edwards&amp;#34;&lt;/span&gt;
    },
    {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Peacock&amp;#34;&lt;/span&gt;
    },
    {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Park&amp;#34;&lt;/span&gt;
    },
    {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Johnson&amp;#34;&lt;/span&gt;
    },
    {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Mitchell&amp;#34;&lt;/span&gt;
    },
    {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;King&amp;#34;&lt;/span&gt;
    },
    {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;LastName&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Callahan&amp;#34;&lt;/span&gt;
    }
  ],
  &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;meta&amp;#34;&lt;/span&gt;: {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;SELECT LastName FROM employees&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;#34;total&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#bd93f9&#34;&gt;8&lt;/span&gt;
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;So there you go. A pretty robust solution that has excellent performance, a simple and well-known query language, and supports almost any combination of data.&lt;/p&gt;
&lt;h3 id=&#34;in-summation&#34;&gt;In summation&lt;/h3&gt;
&lt;p&gt;So this could be a great option for a lot of applications. You can quickly imagine how this could be used for something like a simple search API. You could have an application hook to add data to this special database when your data is changed. Sqlite is a really viable option for a lot of things as it can grow to 140 TB, supports &lt;a href=&#34;https://www.sqlite.org/json1.html&#34;&gt;&lt;code&gt;json_&lt;/code&gt; functions&lt;/a&gt;, and even &lt;a href=&#34;https://effbot.org/zone/sqlite-blob.htm&#34;&gt;binary data&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Keep in mind that you can&amp;rsquo;t really nest the same way you can in GraphQL. But you might be ok with that depending on your use case.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Laravel Scout Sonic Driver</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/laravel-scout-sonic-driver/</link>
      <pubDate>Fri, 12 Apr 2019 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/laravel-scout-sonic-driver/</guid>
      <description>&lt;p&gt;If you haven&amp;rsquo;t heard about the cool new search indexer &lt;a href=&#34;https://github.com/valeriansaliou/sonic&#34;&gt;Sonic&lt;/a&gt; you must be living under a rock! If you want to read about Sonic directly from the author, &lt;a href=&#34;https://journal.valeriansaliou.name/announcing-sonic-a-super-light-alternative-to-elasticsearch/&#34;&gt;check out his blog post&lt;/a&gt; on why and how they went on building the tool.&lt;/p&gt;
&lt;p&gt;According to the Sonic page, it is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Fast, lightweight &amp;amp; schema-less search backend. An alternative to Elasticsearch that runs on a few MBs of RAM.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There are some main points on the site that outline some of the main features:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Search terms are stored in collections, organized in buckets&lt;/li&gt;
&lt;li&gt;Search results return object identifiers&lt;/li&gt;
&lt;li&gt;Search query typos are corrected&lt;/li&gt;
&lt;li&gt;Insert and remove items in the index at the same time&lt;/li&gt;
&lt;li&gt;Auto-complete any word in real-time via the suggest operation&lt;/li&gt;
&lt;li&gt;Full Unicode compatibility on 80+ languages&lt;/li&gt;
&lt;li&gt;Built as a TCP protocol&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All these items make this an ideal candidate for the &lt;a href=&#34;https://laravel.com/docs/5.8/scout&#34;&gt;Laravel Scout search tool&lt;/a&gt;. Scout expects your search engine to return IDs that then get mapped to your query builder which will apply further transformations like &lt;code&gt;WHERE&lt;/code&gt; clauses and pagination.&lt;/p&gt;
&lt;p&gt;I took it upon myself to write a driver for Sonic. You can find it on my Github at &lt;a href=&#34;https://github.com/james2doyle/laravel-scout-sonic&#34;&gt;Laravel Scout Sonic Driver&lt;/a&gt; and you can also install it via composer with the following command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;composer require james2doyle/laravel-scout-sonic
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You will need to add some extra config information to &lt;code&gt;config/scout.php&lt;/code&gt; before you can use everything correctly. Just checkout the &lt;code&gt;README.md&lt;/code&gt; because all the instructions are in there.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Function Currying To Make Reusable Code</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/function-currying-to-make-reusable-code/</link>
      <pubDate>Sun, 17 Feb 2019 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/function-currying-to-make-reusable-code/</guid>
      <description>&lt;p&gt;Function currying. If you haven&amp;rsquo;t heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve readability.&lt;/p&gt;
&lt;p&gt;Currying is just a fancy way to describe a &lt;em&gt;function that returns a function&lt;/em&gt;. Pretty simple right? I mean this literally. There are no gotchas here. A &lt;em&gt;function that returns a function&lt;/em&gt; is a curried function. Enough words though. I will show you some common code samples and then refactor them to use curried functions.&lt;/p&gt;
&lt;h3 id=&#34;cleaning-up-prototype-chains&#34;&gt;Cleaning up prototype chains&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;m sure everyone has written code like this before:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; items &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;4&lt;/span&gt;];
items.map((num) =&amp;gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;`item-&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;num&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;);
&lt;span style=&#34;color:#6272a4&#34;&gt;// returns [&amp;#39;item-1&amp;#39;, &amp;#39;item-2&amp;#39;, &amp;#39;item-3&amp;#39;, &amp;#39;item-4&amp;#39;]
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;items.map((num) =&amp;gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;`key-&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;num&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;);
&lt;span style=&#34;color:#6272a4&#34;&gt;// returns [&amp;#39;key-1&amp;#39;, &amp;#39;key-2&amp;#39;, &amp;#39;key-3&amp;#39;, &amp;#39;key-4&amp;#39;]
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can see that this function is very specific to the area it&amp;rsquo;s being used. We support a variable number of items via our array and they don&amp;rsquo;t even have to be numbers. We can build new results with either numbers or strings. That&amp;rsquo;s great. But we do have repeated code that essentially does the same thing. The only difference is the string we are prepending.&lt;/p&gt;
&lt;p&gt;Here is an example using currying to &lt;em&gt;D.R.Y&lt;/em&gt; (don&amp;rsquo;t repeat yourself) this up:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; labelMaker &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (label) =&amp;gt; {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; (num) =&amp;gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;label&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;num&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;;
};

&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; items &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;4&lt;/span&gt;];
items.map(labelMaker(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;item&amp;#39;&lt;/span&gt;));
&lt;span style=&#34;color:#6272a4&#34;&gt;// returns [&amp;#39;item-1&amp;#39;, &amp;#39;item-2&amp;#39;, &amp;#39;item-3&amp;#39;, &amp;#39;item-4&amp;#39;]
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;items.map(labelMaker(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;key&amp;#39;&lt;/span&gt;));
&lt;span style=&#34;color:#6272a4&#34;&gt;// returns [&amp;#39;key-1&amp;#39;, &amp;#39;key-2&amp;#39;, &amp;#39;key-3&amp;#39;, &amp;#39;key-4&amp;#39;]
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;When refactoring to curried functions, the thing to keep in mind is &lt;em&gt;what is unique about each function and what is the same?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Things that are unique should be the arguments to the first function call. The things that are the same should be the second function that is called. At least when using this pattern of currying.&lt;/p&gt;
&lt;p&gt;We can actually go a step further again and make this function very flexible:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; labelMaker &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (label, splitter &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;) =&amp;gt; {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; (num) =&amp;gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;label&lt;span style=&#34;color:#f1fa8c&#34;&gt;}${&lt;/span&gt;splitter&lt;span style=&#34;color:#f1fa8c&#34;&gt;}${&lt;/span&gt;num&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;;
};

&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; items &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#bd93f9&#34;&gt;4&lt;/span&gt;];
items.map(labelMaker(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;item&amp;#39;&lt;/span&gt;));
&lt;span style=&#34;color:#6272a4&#34;&gt;// returns [&amp;#39;item-1&amp;#39;, &amp;#39;item-2&amp;#39;, &amp;#39;item-3&amp;#39;, &amp;#39;item-4&amp;#39;]
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;items.map(labelMaker(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;key&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;_&amp;#39;&lt;/span&gt;));
&lt;span style=&#34;color:#6272a4&#34;&gt;// returns [&amp;#39;key_1&amp;#39;, &amp;#39;key_2&amp;#39;, &amp;#39;key_3&amp;#39;, &amp;#39;key_4&amp;#39;]
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now that you have seen this in action under a simple example. I think it is useful to chat about using currying to create &amp;ldquo;constructors&amp;rdquo;.&lt;/p&gt;
&lt;h3 id=&#34;using-currying-to-create-constructors&#34;&gt;Using currying to create &amp;ldquo;constructors&amp;rdquo;&lt;/h3&gt;
&lt;p&gt;Take this example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; logger &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (level &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;info&amp;#39;&lt;/span&gt;) =&amp;gt; {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; console[level].bind(console);
};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;In this example, we have a function called &lt;code&gt;logger&lt;/code&gt; which returns an instance of &lt;code&gt;console&lt;/code&gt; but bound to whichever &lt;code&gt;level&lt;/code&gt; you want. Here is how we might use it:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; logger &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (level &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;info&amp;#39;&lt;/span&gt;) =&amp;gt; {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; console[level].bind(console);
};

&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; infoLogger &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; logger();
&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; errorLogger &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; logger(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;);
&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; traceLogger &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; logger(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;trace&amp;#39;&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;See what I mean about creating &amp;ldquo;constructors&amp;rdquo;? We can use the first function almost like a constructor that will return a function that will be called with that first set of arguments applied in some way. Pretty useful right? Instead of making classes or global variables, we can make curried functions that can store those values for use in the returned function.&lt;/p&gt;
&lt;h3 id=&#34;currying-event-handlers&#34;&gt;Currying event handlers&lt;/h3&gt;
&lt;p&gt;Given the &amp;ldquo;constructor&amp;rdquo; nature of function currying, I typically use these for event handlers. I think of it like tagging. I&amp;rsquo;ll show you why here:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;/* &amp;lt;input type=&amp;#34;text&amp;#34; id=&amp;#34;username&amp;#34;&amp;gt; */&lt;/span&gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; handleInput &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (name) =&amp;gt; {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; ({ target&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; { value } }) =&amp;gt; {
    console.log(&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;name&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt; input was set to &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;value&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;`&lt;/span&gt;);
  };
};

&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; username &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.getElementById(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;);
username.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;input&amp;#39;&lt;/span&gt;, handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;In this example, we are adding an event handler to an input and basically giving it a label of &amp;ldquo;username&amp;rdquo;. Not too special at the moment. If we wanted just the name that would be easy. So let&amp;rsquo;s make this function handle more input types:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;/**
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * &amp;lt;input type=&amp;#34;text&amp;#34; id=&amp;#34;username&amp;#34;/&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * &amp;lt;input type=&amp;#34;checkbox&amp;#34; id=&amp;#34;accept&amp;#34; value=&amp;#34;1&amp;#34; /&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * &amp;lt;select id=&amp;#34;age&amp;#34;&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; *   &amp;lt;option value=&amp;#34;below 18&amp;#34;&amp;gt;below 18&amp;lt;/option&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; *   &amp;lt;option value=&amp;#34;above 18&amp;#34;&amp;gt;above 18&amp;lt;/option&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * &amp;lt;/select&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; **/&lt;/span&gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; handleInput &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (name) =&amp;gt; {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; ({ target&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; { type, value, checked } }) =&amp;gt; {
    console.log(&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;name&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt; input was set to &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;type &lt;span style=&#34;color:#ff79c6&#34;&gt;!==&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;checkbox&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;?&lt;/span&gt; value &lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; checked&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;`&lt;/span&gt;);
  };
};

&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; username &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.getElementById(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;);
username.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;input&amp;#39;&lt;/span&gt;, handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;));
&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; accept &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.getElementById(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;accept&amp;#39;&lt;/span&gt;);
accept.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;change&amp;#39;&lt;/span&gt;, handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;accept&amp;#39;&lt;/span&gt;));
&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; age &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.getElementById(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;age&amp;#39;&lt;/span&gt;);
age.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;change&amp;#39;&lt;/span&gt;, handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;age&amp;#39;&lt;/span&gt;));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ok, so now we see 3 different input types, all using the same function but the output is &amp;ldquo;tagged&amp;rdquo; via that first function&amp;rsquo;s argument.&lt;/p&gt;
&lt;p&gt;We can actually clean this up more though:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;/**
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * &amp;lt;input type=&amp;#34;text&amp;#34; id=&amp;#34;username&amp;#34;/&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * &amp;lt;input type=&amp;#34;checkbox&amp;#34; id=&amp;#34;accept&amp;#34; value=&amp;#34;1&amp;#34; /&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * &amp;lt;select id=&amp;#34;age&amp;#34;&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; *   &amp;lt;option value=&amp;#34;below 18&amp;#34;&amp;gt;below 18&amp;lt;/option&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; *   &amp;lt;option value=&amp;#34;above 18&amp;#34;&amp;gt;above 18&amp;lt;/option&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; * &amp;lt;/select&amp;gt;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt; **/&lt;/span&gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; handleInput &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (name, prop &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;value&amp;#39;&lt;/span&gt;) =&amp;gt; {
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; ({ target }) =&amp;gt; {
    console.log(&lt;span style=&#34;color:#f1fa8c&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;name&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt; input was set to &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;target[prop]&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;`&lt;/span&gt;);
  };
};

&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; username &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.getElementById(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;);
username.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;input&amp;#39;&lt;/span&gt;, handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;));
&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; accept &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.getElementById(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;accept&amp;#39;&lt;/span&gt;);
accept.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;change&amp;#39;&lt;/span&gt;, handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;accept&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;checked&amp;#39;&lt;/span&gt;));
&lt;span style=&#34;color:#ff79c6&#34;&gt;const&lt;/span&gt; age &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.getElementById(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;age&amp;#39;&lt;/span&gt;);
age.addEventListener(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;change&amp;#39;&lt;/span&gt;, handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;age&amp;#39;&lt;/span&gt;));
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now you can see our function handles the one special exception on the &amp;ldquo;checkbox&amp;rdquo; via an optional argument instead of a ternary. &lt;strong&gt;Slick!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This becomes a really nice pattern when working in React or other virtual DOMs since your function can really only access the data directly available to it. Here is the same thing wrapped up to use just a single class method to manage the state for 3 different inputs:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; React from &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;react&amp;#39;&lt;/span&gt;;
&lt;span style=&#34;color:#ff79c6&#34;&gt;import&lt;/span&gt; ReactDOM from &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;react-dom&amp;#39;&lt;/span&gt;;

&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; Form &lt;span style=&#34;color:#ff79c6&#34;&gt;extends&lt;/span&gt; React.Component {
  state &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; {
    username&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;null&lt;/span&gt;,
    accept&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;false&lt;/span&gt;,
    age&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;below 18&amp;#39;&lt;/span&gt;,
  }

  handleInput &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; (name, prop &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;value&amp;#39;&lt;/span&gt;) =&amp;gt; {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; ({ target }) =&amp;gt; {
      &lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.setState({
        [name]&lt;span style=&#34;color:#ff79c6&#34;&gt;:&lt;/span&gt; target[prop]
      });
    }
  }

  render() {
    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; (&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;div className&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;form&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;input type&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;text&amp;#39;&lt;/span&gt; onInput&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;{&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;)} &lt;span style=&#34;color:#ff79c6&#34;&gt;/&amp;gt;&lt;/span&gt;
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;input type&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;checkbox&amp;#39;&lt;/span&gt; onChange&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;{&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;accept&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;checked&amp;#39;&lt;/span&gt;)} &lt;span style=&#34;color:#ff79c6&#34;&gt;/&amp;gt;&lt;/span&gt;
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;select onChange&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;{&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.handleInput(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;age&amp;#39;&lt;/span&gt;)}&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;option value&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;below 18&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;below &lt;span style=&#34;color:#bd93f9&#34;&gt;18&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/option&amp;gt;
        &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;option value&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;above 18&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;above &lt;span style=&#34;color:#bd93f9&#34;&gt;18&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/option&amp;gt;
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/select&amp;gt;
      {&lt;span style=&#34;color:#6272a4&#34;&gt;/* shows the state in the document body - not required */&lt;/span&gt;}
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;pre&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;code&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;{JSON.stringify(&lt;span style=&#34;color:#ff79c6&#34;&gt;this&lt;/span&gt;.state)}&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/code&amp;gt;&amp;lt;/pre&amp;gt;
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;/div&amp;gt;);
  }
}

ReactDOM.render(&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;&lt;/span&gt;Form &lt;span style=&#34;color:#ff79c6&#34;&gt;/&amp;gt;&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.body);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://6nv8q86yk3.codesandbox.io/&#34;&gt;View this example on codesandbox.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This is where I think curried functions really shine. This is a very compact way to support a lot of different form items but they can all use the same function even though they may all be unique items. Obviously, you can use this for any type of event handlers. Hopefully you can see the flexibility here and the potential to make simpler code that is more usable.&lt;/p&gt;
&lt;h3 id=&#34;in-summation&#34;&gt;In summation&lt;/h3&gt;
&lt;p&gt;So next time you see some of these patterns pop up in your code (or some smells with global variables and repeated code) maybe reach for a curried function instead. &lt;em&gt;Delicious&lt;/em&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>When And Where To Compromise Your App Design</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/when-and-where-to-compromise-your-app-design/</link>
      <pubDate>Sun, 21 Oct 2018 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/when-and-where-to-compromise-your-app-design/</guid>
      <description>&lt;p&gt;&lt;em&gt;&lt;strong&gt;You won&amp;rsquo;t believe number 3!&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When initially developing an application or a new feature we are constantly trying to balance best practices in system/application design with delivering a finished product. Usually, things like scaling or flexibility become a secondary thought or something that would be &lt;em&gt;&amp;ldquo;nice to have, if we had the time&amp;rdquo;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Given those restrictions or that type of scenario, we need to pick places to &lt;em&gt;compromise on purpose&lt;/em&gt;. We need to actively choose a section of the app to cut corners and hide garbage. Fun! Right?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Should we hardcode this? Should we store this in a column instead of a pivot table? Can we stick it in the HTML for now?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We have all heard (or spoken) these types of phrases at some point. If you haven&amp;rsquo;t, well it must be nice to live in a fantasy land full of rainbows, puppies, and perfectly designed systems.&lt;/p&gt;
&lt;p&gt;So here is my list of the top 3 places you should not compromise when getting stuck in a situation where compromise is necessary.&lt;/p&gt;
&lt;h3 id=&#34;3-http-json-api-design&#34;&gt;3. HTTP JSON API design&lt;/h3&gt;
&lt;p&gt;Building a crappy API for you service or application can be crippling. It can stifle updates, cause a lot of &amp;ldquo;patch&amp;rdquo; code inside consumers and clients to fix issues, create uncomfortable conversations with customers who need to update (because you didn&amp;rsquo;t think about versioning), and even force you to maintain multiple implementations of similar end-points that are almost identical because you had to fill in gaps after the fact.&lt;/p&gt;
&lt;p&gt;Think of HTTP APIs as contracts. I mean literal contracts not just &amp;ldquo;code contracts&amp;rdquo; or interfaces.&lt;/p&gt;
&lt;p&gt;What happens if you enter into an agreement with someone and the contract is missing key information? You could end up really missing out on a lot, or worse still, &lt;em&gt;being sucked into something that you didn&amp;rsquo;t understand you were getting into with no feasible escape&lt;/em&gt; beyond writing a new contract and getting every single party to sign again. Gross.&lt;/p&gt;
&lt;p&gt;My advice would be to spend more time on designing a robust and verbose API with lots of tests and less time on organizing things behind the scenes. Organization can always come later. I would edge more towards including more information than you need in a response than you are actually using. Maybe even including keys that are empty if you know you are going to need to use them in the near future. Consider using &amp;ldquo;501 Not Implemented&amp;rdquo; responses for endpoints that are coming in the future.&lt;/p&gt;
&lt;p&gt;Changing an API once it&amp;rsquo;s in the wild is difficult and annoying. If you have a single-page app, this could mean refactoring major parts of the front-end to work with new datasets and responses. So consider what you need now, and in the near future, when designing that JSON response object. Also, try to keep your types consistent. Having to deal use with mixed types and constant variation of types is incredibly painful and adds a lot of type checking for API consumers!&lt;/p&gt;
&lt;h3 id=&#34;2-leveraging-vendor-codetools&#34;&gt;2. Leveraging vendor code/tools&lt;/h3&gt;
&lt;p&gt;As developers we like making stuff. Sometimes that stuff is mixed quality, quickly assembled, or just plain buggy. In the last 10 years or so, the quality and volume of excellent production-grade open source projects has been phenomenal. Unless you are on the bleeding edge of some burgeoning industry or technology, there is probably an open source equivalent of pretty much everything you need.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve typically seen people develop their own solutions and spend a lot of energy thinking about problems that someone has already solved. On top of that, instead of choosing a package or service that provides all they need, they decided on a DIY solution or a patchwork of different offerings. Too many times I&amp;rsquo;ve seen a project rapidly go from a bespoke group of loose packages to a company&amp;rsquo;s main offering with a handful of developers charged to take care of it.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s not just server-side apps, I&amp;rsquo;ve seen this a lot in front-end development. I&amp;rsquo;ve done it to myself a dozen times. I can&amp;rsquo;t even count the number of hours I spent building my own sliders that were never really perfect and often had bugs in some specific browser because I didn&amp;rsquo;t test it enough. Whoops!&lt;/p&gt;
&lt;p&gt;When it comes to support infrastructure like queues, caches, CDNs, and databases, unless you have the time or need, you shouldn&amp;rsquo;t be spinning up your own on a dedicated host. There are a lot of services that are reasonably priced that can manage all that for you. It&amp;rsquo;s hard to set things up correctly (secure defaults, scalability, interoperability, etc) with tight time frames. So don&amp;rsquo;t bother. Choose your flavour of hosting and pick the service that fits your needs and move on. Use those saved hours for more development time. Like organization of code, you can always swap things later when you find the time or you grow to a place where it matters.&lt;/p&gt;
&lt;h3 id=&#34;1-database-design&#34;&gt;1. Database design&lt;/h3&gt;
&lt;p&gt;This is my number one place to spend all your time. Doing database tweaks early on is not too hard. But once you start getting a few hundred thousand rows, data in the gigabytes, or distributed databases, migrations become super painful. They need to be meticulously programmed, tested, and then timed properly in order not to break things or take the service down.&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t have much experience with no-SQL databases at scale. So I can&amp;rsquo;t really speak to much on them. But generally, I think the advice is similar to relational database design: big migrations are painful. So try to make sure you have a scalable and sustainable design is important.&lt;/p&gt;
&lt;p&gt;Regarding relation data stores, my advice is mostly about relationships. Too often I see things like &lt;code&gt;address1&lt;/code&gt;, &lt;code&gt;address2&lt;/code&gt;, &lt;code&gt;address3&lt;/code&gt;, etc. You get the deal. Instead of using a pivot table, someone decided it was too much work. So now you are growing the table horizontally and with each row instead of, get this, &lt;em&gt;being relational&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Another one I&amp;rsquo;ve been bit by is using one-to-many relationships instead of designing for many-to-many with a &lt;code&gt;LIMIT 1&lt;/code&gt; by default. It is so much easier to turn a many-to-many into a one-to-many than it is to do the reverse. How many times have you made something and then a week or a month later someone from product development or business asks &lt;em&gt;&amp;ldquo;how hard it would be to make it so that X could have many Y&amp;rsquo;s?&amp;quot;&lt;/em&gt; Only to be met with you screaming at the top of your lungs because you need to not only migrate the existing database but update all the code as well.&lt;/p&gt;
&lt;h3 id=&#34;in-summation&#34;&gt;In Summation&lt;/h3&gt;
&lt;p&gt;I&amp;rsquo;ve really become a fan of &amp;ldquo;where should we hide our garbage?&amp;rdquo;. It&amp;rsquo;s always going to happen so we should figure out where to put the mess so that it&amp;rsquo;s either easy to clean up or it isn&amp;rsquo;t somewhere critical.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Using Sqlite As A Cache In Laravel</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/laravel-sqlite-cache/</link>
      <pubDate>Thu, 04 Oct 2018 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/laravel-sqlite-cache/</guid>
      <description>&lt;p&gt;I was playing with a new project using &lt;a href=&#34;https://laravel.com/docs/5.7&#34;&gt;Laravel 5.7&lt;/a&gt; and I wanted to use &lt;a href=&#34;https://www.sqlite.org/index.html&#34;&gt;sqlite&lt;/a&gt; for the &lt;a href=&#34;https://laravel.com/docs/5.7/cache&#34;&gt;cache feature&lt;/a&gt; that comes with the framework. If you didn&amp;rsquo;t know, Laravel allows you to choose a cache &amp;ldquo;driver&amp;rdquo; and Laravel will handle writes, reads, and even locks, using that cache.&lt;/p&gt;
&lt;p&gt;By default, Laravel includes drivers for &amp;ldquo;database&amp;rdquo;, &amp;ldquo;redis&amp;rdquo;, &amp;ldquo;memcached&amp;rdquo;, &amp;ldquo;file&amp;rdquo;, and &amp;ldquo;array&amp;rdquo;. In typical Laravel fashion, you can even &lt;a href=&#34;https://laravel.com/docs/5.7/cache#adding-custom-cache-drivers&#34;&gt;write your own drivers&lt;/a&gt;. All you need to do is implement the &lt;code&gt;Illuminate\Contracts\Cache\Store&lt;/code&gt; interface using the technology you wish to turn into a cache driver.&lt;/p&gt;
&lt;p&gt;To my surprise, the &amp;ldquo;database&amp;rdquo; cache driver does not support multiple database connections. Which means whatever &lt;code&gt;DB_CONNECTION&lt;/code&gt; you are using is also going to be used for the cache database driver when it is selected. I took a look to see how the &amp;ldquo;database&amp;rdquo; driver was implemented (it&amp;rsquo;s in the &lt;code&gt;Illuminate\Cache\DatabaseStore&lt;/code&gt; class) to see if there is any way I can make the database driver use a different connection than the one set in &lt;code&gt;DB_CONNECTION&lt;/code&gt;. Looking deeper, it turns out that by extending &lt;code&gt;Illuminate\Cache\DatabaseStore&lt;/code&gt;, I was able to put together a &amp;ldquo;sqlite&amp;rdquo; cache driver really quickly.&lt;/p&gt;
&lt;p&gt;Before you set this all up, make sure you create the empty database. From the root of your project run: &lt;code&gt;touch database/cache.sqlite&lt;/code&gt;. This creates an empty file that sqlite will mount as the database. To learn more about sqlite and how the file works, check out the page at the sqlite site about the &lt;a href=&#34;https://www.sqlite.org/onefile.html&#34;&gt;Single-file Cross-platform Database&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For the next step, you will need to make sure that the &lt;code&gt;sqlite3&lt;/code&gt; command line tool is installed. If you need help getting that going, &lt;a href=&#34;https://www.sqlite.org/download.html&#34;&gt;check out the download page for the tool&lt;/a&gt;. Once that is installed, or if you already have it, you can then connect to the database file via the sqlite cli: &lt;code&gt;sqlite3 database/cache.sqlite&lt;/code&gt;. If you want more info about the CLI tool, &lt;a href=&#34;https://www.sqlite.org/cli.html&#34;&gt;check out the sqlite docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Finally, you need to setup that sqlite database by executing the following SQL statement:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;CREATE&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;TABLE&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;cache&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt; (
   &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt; STRING &lt;span style=&#34;color:#ff79c6&#34;&gt;PRIMARY&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;KEY&lt;/span&gt;,
   &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;value&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;TEXT&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;NOT&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;NULL&lt;/span&gt;,
   &lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt;expiration&lt;span style=&#34;color:#ff79c6&#34;&gt;`&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;INT&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;DEFAULT&lt;/span&gt; &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;
);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This statement will update the sqlite database with the required table and columns. This SQL is the same statement that runs when the cache migrations are created via the &lt;code&gt;artisan&lt;/code&gt; command. To see that the SQL statement worked, you can run the &lt;code&gt;.tables&lt;/code&gt; command. You should see &lt;code&gt;cache&lt;/code&gt; in the list. To close out of the sqlite cli, run &lt;code&gt;.exit&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now that everything is all setup, here is the class that implements the &lt;code&gt;SqliteStore&lt;/code&gt; that allows for a sqlite driver:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style=&#34;color:#6272a4&#34;&gt;// put in app\Extensions
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;namespace&lt;/span&gt; App\Extensions;

&lt;span style=&#34;color:#ff79c6&#34;&gt;use&lt;/span&gt; Illuminate\Cache\DatabaseStore;
&lt;span style=&#34;color:#ff79c6&#34;&gt;use&lt;/span&gt; Illuminate\Support\Facades\Config;

&lt;span style=&#34;color:#f1fa8c&#34;&gt;/**
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt; * SqliteStore delegates to DatabaseStore but with an sqlite connection instead
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt; */&lt;/span&gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;SqliteStore&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;extends&lt;/span&gt; DatabaseStore
{
    &lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; __construct()
    {
        &lt;span style=&#34;color:#6272a4&#34;&gt;// load the config or use the default
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$config&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; config(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;cache.stores.sqlite&amp;#39;&lt;/span&gt;, [
            &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;driver&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;sqlite&amp;#39;&lt;/span&gt;,
            &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;table&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;cache&amp;#39;&lt;/span&gt;,
            &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;database&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt; env(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;CACHE_DATABASE&amp;#39;&lt;/span&gt;, database_path(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;cache.sqlite&amp;#39;&lt;/span&gt;)),
            &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;prefix&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;,
        ]);

        &lt;span style=&#34;color:#6272a4&#34;&gt;// Set the temporary configuration
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;        Config&lt;span style=&#34;color:#ff79c6&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;set&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;database.connections.sqlite_cache&amp;#39;&lt;/span&gt;, [
            &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;driver&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;sqlite&amp;#39;&lt;/span&gt;,
            &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;database&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$config&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;database&amp;#39;&lt;/span&gt;],
            &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;prefix&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$config&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;prefix&amp;#39;&lt;/span&gt;],
        ]);

        &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$connection&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; app(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;db&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;connection&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;sqlite_cache&amp;#39;&lt;/span&gt;);
        &lt;span style=&#34;color:#ff79c6&#34;&gt;parent&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;__construct&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$connection&lt;/span&gt;, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$config&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;table&amp;#39;&lt;/span&gt;], &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$config&lt;/span&gt;[&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;prefix&amp;#39;&lt;/span&gt;]);
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You may need to run &lt;code&gt;composer dumpautoload&lt;/code&gt; in order for the new class to be picked up if you are creating the &lt;code&gt;app/Extensions&lt;/code&gt; folder for the first time.&lt;/p&gt;
&lt;p&gt;Then, add the following to your &lt;code&gt;AppServiceProvider@boot&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;// AppServiceProvider@boot
\Cache::extend(&amp;#39;sqlite&amp;#39;, function ($app) {
    return \Cache::repository(new \App\Extensions\SqliteStore);
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That&amp;rsquo;s it for the code side. But we still need to setup the config so the driver details exist. Open up the &lt;code&gt;config/cache.php&lt;/code&gt; file. Add these details so the config can be properly loaded:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;// ... the rest of config/cache.php
&amp;#39;sqlite&amp;#39; =&amp;gt; [
    &amp;#39;driver&amp;#39; =&amp;gt; &amp;#39;sqlite&amp;#39;,
    &amp;#39;table&amp;#39; =&amp;gt; &amp;#39;cache&amp;#39;,
    &amp;#39;database&amp;#39; =&amp;gt; env(&amp;#39;CACHE_DATABASE&amp;#39;, database_path(&amp;#39;cache.sqlite&amp;#39;)),
    &amp;#39;prefix&amp;#39; =&amp;gt; &amp;#39;&amp;#39;,
],
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can then update your &lt;code&gt;.env&lt;/code&gt; to have &lt;code&gt;CACHE_DRIVER=sqlite&lt;/code&gt; and everything should be good!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Angular (v1.x) Through iFrame</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/angular-through-iframe/</link>
      <pubDate>Sun, 29 Apr 2018 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/angular-through-iframe/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: This is an older project/repo that uses the previous version of Angular (v1.x) so keep that in mind.&lt;/p&gt;
&lt;p&gt;I was working on a project that required users to generate content that had dynamic templates. The goal was to make the entire thing was just a javascript client application and not have to worry about adding a server for handling the updates. Even better, if we could avoid AJAX requests for each keypress to update the content of the template, that would be even better.&lt;/p&gt;
&lt;p&gt;This was a perfect problem for an iframe to solve as we had remote HTML files that would be loaded into an editor and then you can edit the data insde them. When you were finished, you could generate a PDF from the content inside the iframe. It was pretty sweet and worked really well.&lt;/p&gt;
&lt;p&gt;While writing the app, I had to find a way to get data from the parent window into the iframe. If you didn&amp;rsquo;t know this, you can actually call &lt;code&gt;window&lt;/code&gt; functions on an iframe you own (one that has &lt;code&gt;sandbox=&amp;quot;allow-same-origin allow-scripts&amp;quot;&lt;/code&gt; set on the tag and is the same domain) which will allow you to send data down to the iframe and have it run events, change code, or in my case, trigger &lt;code&gt;$scope&lt;/code&gt; updates.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/angular-iframe.gif&#34; alt=&#34;angular through iframe demo&#34;&gt;
  &lt;p&gt;&lt;small&gt;Angular Through iFrame Preview&lt;/small&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;All we need to do is access the &lt;code&gt;contentWindow&lt;/code&gt; (on our parent iframe) property and call functions that exist in the &lt;code&gt;window&lt;/code&gt; of the child iframe.&lt;/p&gt;
&lt;p&gt;This looks like the following:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Parent page:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// somewhere in the parent main js file probably another controller
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; iframe &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.getElementById(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;iframe&amp;#39;&lt;/span&gt;);
iframe.contentWindow.update(dataFromParent);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Child iframe page:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;// inside the iframe controller
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;window&lt;/span&gt;.update &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(dataFromParent) {
  $scope.$apply(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;() {
    &lt;span style=&#34;color:#6272a4&#34;&gt;// replace the scope with an object from the parent
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    $scope &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; dataFromParent;
  });
};
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As you can see, this is incredibly simple and allows for &lt;em&gt;write-only&lt;/em&gt; control of an iframe.&lt;/p&gt;
&lt;p&gt;What I did to integrate with Angular was use that window function inside the iframes controller to call &lt;code&gt;$scope.$apply&lt;/code&gt; with the new data.&lt;/p&gt;
&lt;p&gt;You can &lt;a href=&#34;https://james2doyle.github.io/angular-through-iframe&#34;&gt;see a live demo&lt;/a&gt; of the technique or &lt;a href=&#34;https://github.com/james2doyle/angular-through-iframe&#34;&gt;visit the demo project on Github&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Nuxt Firebase Starter</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/nuxt-firebase-starter/</link>
      <pubDate>Thu, 21 Dec 2017 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/nuxt-firebase-starter/</guid>
      <description>&lt;p&gt;Over the past few weeks, I have been working on &lt;a href=&#34;https://github.com/james2doyle/nuxt-firebase-auth&#34;&gt;a boilerplate/starting template for using the Nuxt.js framework with Firebase&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I plan to use this boilerplate for easily creating apps that require authentication, real-time feedback from the database (chats, threads, account balances, etc.), and proper modern support for the new PWA (progressive web app) conventions (service worker, offline, code-splitting, etc.) without having to worry too much about laying the ground work each time.&lt;/p&gt;
&lt;p&gt;If you already know about Nuxt and Firebase, I suggest just checking out the project and playing around with it. By default, I have setup the Nuxt PWA module, social login support for Google and Github, and also setup a database convention called “accounts” where users manage their public profile inside the application.&lt;/p&gt;
&lt;p&gt;If you are unfamiliar with the tools, keep reading!&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;nuxt&#34;&gt;Nuxt&lt;/h3&gt;
&lt;p&gt;As you may be able to tell from this post and some of the other posts on this site, I am also a &lt;a href=&#34;https://vuejs.org/&#34;&gt;Vue.js&lt;/a&gt; fan. I have been using it since before version 1 was released.&lt;/p&gt;
&lt;p&gt;About four months ago, I started using a relatively new framework created on top of Vue.js (and stolen from the &lt;a href=&#34;https://github.com/zeit/next.js/&#34;&gt;Next.js React project&lt;/a&gt;) called &lt;a href=&#34;https://nuxtjs.org/&#34;&gt;Nuxt.js&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Essentially, Nuxt (and Next) setup conventions for routing pages, creating components, adding “stores” (flux, redux, etc.) based on a directory setup.&lt;/p&gt;
&lt;p&gt;So, for example (these are taken from the Nuxt documentation), you have a structure as follows:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pages/
--| _slug/
-----| comments.vue
-----| index.vue
--| users/
-----| _id.vue
--| index.vue
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And this will generate the following routes automatically:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;router: {
  routes: [
    {
      name: &amp;#39;index&amp;#39;,
      path: &amp;#39;/&amp;#39;,
      component: &amp;#39;pages/index.vue&amp;#39;
    },
    {
      name: &amp;#39;users-id&amp;#39;,
      path: &amp;#39;/users/:id?&amp;#39;,
      component: &amp;#39;pages/users/_id.vue&amp;#39;
    },
    {
      name: &amp;#39;slug&amp;#39;,
      path: &amp;#39;/:slug&amp;#39;,
      component: &amp;#39;pages/_slug/index.vue&amp;#39;
    },
    {
      name: &amp;#39;slug-comments&amp;#39;,
      path: &amp;#39;/:slug/comments&amp;#39;,
      component: &amp;#39;pages/_slug/comments.vue&amp;#39;
    }
  ]
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can then call &lt;code&gt;this.$route.params.slug&lt;/code&gt;  (for slug-comments) or &lt;code&gt;this.$route.params.id&lt;/code&gt; (for users-id) inside the components or pages that are on that route.&lt;/p&gt;
&lt;p&gt;Pretty slick right?&lt;/p&gt;
&lt;p&gt;So Nuxt is cool. It lets me quickly create an SPA (single-page app) without worrying about setting up an elaborate route object or worrying about how to organize my projects folders and logic. You just toss files in folders, and everything pretty much works.&lt;/p&gt;
&lt;p&gt;Some people &lt;strong&gt;hate this&lt;/strong&gt; but I find the structure liberating. I plan to use that additional time/energy to focus on building my app and not organizing configs or fiddling with route logic.&lt;/p&gt;
&lt;p&gt;Now onto the Firebase portion of the project:&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;firebase&#34;&gt;Firebase&lt;/h3&gt;
&lt;p&gt;If you have some experience with &lt;a href=&#34;https://firebase.google.com/&#34;&gt;Firebase&lt;/a&gt; you probably know that it is an excellent service offering some nice features for dealing with &amp;ldquo;real-time&amp;rdquo; data as well as some other features like storage, push notifications, serverless functions, and authentication. The best part is that it is usually free for most small projects as they don&amp;rsquo;t use enough resources to qualify for the paid tiers of service.&lt;/p&gt;
&lt;p&gt;When I first started using Firebase, I didn&amp;rsquo;t like it. The concept of &lt;code&gt;snapshots&lt;/code&gt; and paths was confusing for someone coming from a key-value store or a more traditional relational database. It also lacks higher order sorting and querying. For example, you can query for ranges, but you can&amp;rsquo;t query for &lt;code&gt;LIKE&lt;/code&gt; or &amp;ldquo;matches/patterns”.&lt;/p&gt;
&lt;p&gt;Queries like that can be limiting, but once you shift your mentality to something more like reducing and filtering, these issues disappear. You also need to be conscious about how you structure your database, &lt;em&gt;but I digress&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;As I got more comfortable with it, I began to see how powerful and easy it is to build things like chats, threads/commenting systems, atomic counters (“like” systems, ratings, etc.), and even used it to do browser push notifications. I am using it right now to build an API rate limiter!&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;combining-forces&#34;&gt;Combining Forces!&lt;/h3&gt;
&lt;p&gt;Using Nuxt and Firebase together has been easy. I was able to create a nice login flow (with support for Google and Github OAuth!) within about a day.&lt;/p&gt;
&lt;p&gt;I also added support for this convention called “accounts”. When a new user signs up, we create an account on the Firebase database that is read-write for that user. This object contains their display name and profile image path.&lt;/p&gt;
&lt;p&gt;Since we have a profile image (either pulled from the social login or assigned a default), I figured; &lt;em&gt;why not add support for uploading a new profile image to the Firebase storage?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;So I did! And now you can easily manage a mini-profile on the app without any extra configuration. It is there by default:&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/nuxt-firebase-account-preview.gif&#34; alt=&#34;nuxt firebase account preview&#34;&gt;
  &lt;p&gt;&lt;small&gt;Nuxt Firebase Account Preview&lt;/small&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;As you can see from the animation above, super simple interface with live updating thanks to the bindings from our application store to the Firebase database!&lt;/p&gt;
&lt;p&gt;Again, you can check out the project &lt;a href=&#34;https://github.com/james2doyle/nuxt-firebase-auth&#34;&gt;at the repo on Github&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Using DigitalOcean Spaces</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/using-digitalocean-spaces/</link>
      <pubDate>Sat, 18 Nov 2017 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/using-digitalocean-spaces/</guid>
      <description>&lt;p&gt;If you are a fan of &lt;a href=&#34;https://m.do.co/c/802f151adea5&#34;&gt;DigitalOcean&lt;/a&gt;, or you keep an eye on DevOps news, then you probably heard about the new &lt;a href=&#34;https://www.digitalocean.com/products/object-storage/&#34;&gt;DigitalOcean Spaces&lt;/a&gt; offering.&lt;/p&gt;
&lt;p&gt;Spaces is essentially an AWS S3-compatible service but with that special DigitalOcean touch.&lt;/p&gt;
&lt;p&gt;Now Spaces is not a 1:1 replacement for S3. There are quite a few features that have not yet been implemented. They also don&amp;rsquo;t have any GUI interfaces for things like managing bucket policies or CORS configurations.&lt;/p&gt;
&lt;p&gt;I made an example project for how to use Spaces with an S3 node module (&lt;a href=&#34;https://github.com/james2doyle/digitalocean-spaces-example&#34;&gt;which you can find here&lt;/a&gt;) to see what the differences were when actually using the service.&lt;/p&gt;
&lt;p&gt;I was really surprised to find that it was almost identical.&lt;/p&gt;
&lt;p&gt;Here is an example of how you might tweak your config from an S3 project:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{
  region: &amp;#39;nyc3&amp;#39;, // very familiar setting
  endpoint: &amp;#39;https://nyc3.digitaloceanspaces.com&amp;#39;, // something you probably ignored before
  signatureVersion: &amp;#39;v4&amp;#39;, // spaces supports the V4 API
  s3DisableBodySigning: true // not sure if this is always required...
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As you can see there is really nothing different. The main thing is &lt;code&gt;endpoint&lt;/code&gt;. That controls the service basically. By default in S3 it is set to &lt;code&gt;{service}.{region}.amazonaws.com&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Other than that, there was really nothing much different from the regular S3 usage. I found that DigitalOcean was &lt;em&gt;much easier&lt;/em&gt; to get started with. I created a bucket in a few seconds and generated an API key right away.&lt;/p&gt;
&lt;p&gt;With S3, you usually have a few steps to create the bucket, then create an IAM user for the bucket, then update the policy, and finally, update the CORS configuration to allow the referrers and methods you want. That&amp;rsquo;s a lot of steps.&lt;/p&gt;
&lt;p&gt;If you need that level of control I would still recommend S3. But if you have a simple use-case like a public CDN, I think DigitalOcean Spaces would be a great option.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>3 Ways A Website Project Falls Apart</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/3-ways-a-website-project-falls-apart/</link>
      <pubDate>Sat, 29 Jul 2017 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/3-ways-a-website-project-falls-apart/</guid>
      <description>&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/broken-glass.jpg&#34; alt=&#34;Mens shoes on broken glass. Photo by veeterzy on Unsplash&#34;&gt;
  &lt;p&gt;&lt;small&gt;Photo by &lt;a href=&#34;https://unsplash.com/photos/afq5-t0ZGtQ?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText&#34;&gt;veeterzy&lt;/a&gt; on &lt;a href=&#34;https://unsplash.com/?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText&#34;&gt;Unsplash&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Over the last seven years, I have been involved in hundreds of website projects.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve worked with a ton of different clients on various types and sizes. From design/branding projects all the way to sophisticated web applications. From a couple of thousand dollars to hundreds of thousands of dollars.&lt;/p&gt;
&lt;p&gt;While working on these projects, I noticed that whenever a project started to go sideways, I can trace back the timeline to a single point, or a single reason, where the pain began to manifest.&lt;/p&gt;
&lt;p&gt;So, here are the top 3 reasons (in my opinion) that will cause a website project to fall apart.&lt;/p&gt;
&lt;h2 id=&#34;3-confusion-around-responsibilities&#34;&gt;3. Confusion Around Responsibilities&lt;/h2&gt;
&lt;p&gt;Now, this may sound vague, and you can probably assign all these reasons below to this category - but - let me lay out some sub-reasons that will break this down a little better.&lt;/p&gt;
&lt;h3 id=&#34;technical-misunderstandings&#34;&gt;Technical Misunderstandings&lt;/h3&gt;
&lt;p&gt;Who owns the domain? Who owns the hosting? Where is the email managed? Which company (yours or mine) pays the hosting bill? How do updates work? What about maintenance?&lt;/p&gt;
&lt;p&gt;All these questions fall under this sub-reason of responsibilities. These are vital points that need to be answered &lt;em&gt;before a project starts&lt;/em&gt;. In my experience, these issues tend to arise when you have a client that has no experience with online projects or lacks a general understanding of how a website hierarchy works. They probably don&amp;rsquo;t understand how a domain works or how their email is setup.&lt;/p&gt;
&lt;p&gt;These are usually non-issues if you are working with a client that has a technical team in place for any existing web properties.&lt;/p&gt;
&lt;p&gt;For me, these issues tend to become quite a pain as hosting can stop a project in its tracks. Without a place to put the site, we cannot finish. Same rules apply to a domain. Without one, we cannot continue.&lt;/p&gt;
&lt;p&gt;For email, it is typical for a website to have a contact form of some sort or maybe they have a public email listed in the footer or on a contact page. Finding out that the email doesn&amp;rsquo;t exist or that the access to that email is lost, will crush a client and make you seem completely incompetent.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Finding out that the email doesn&amp;rsquo;t exist or that the access to that email is lost, will crush a client and make you seem completely incompetent.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You may say that you &amp;ldquo;don&amp;rsquo;t control the email&amp;rdquo; or &amp;ldquo;it is managed with the hosting company&amp;rdquo;. You can even say &amp;ldquo;they already had a hosting company when they came to us&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;The problem is that the client doesn&amp;rsquo;t usually care about the reason why the problem occurred. Even if you can say, it is their fault. They care that &lt;em&gt;you let it slip by&lt;/em&gt; and the fact &lt;em&gt;that it became an issue at all&lt;/em&gt;. It means you missed something.&lt;/p&gt;
&lt;h3 id=&#34;assumptions&#34;&gt;Assumptions&lt;/h3&gt;
&lt;p&gt;A lot of project managers will encounter this one.&lt;/p&gt;
&lt;p&gt;The client believes that there are a certain number of things that &amp;ldquo;should just be included&amp;rdquo;. They will never vocalise or acknowledge these things until they come up. I call these &amp;ldquo;Oh, By The Way&amp;rdquo; moments. Mainly, they will say they forgot something, or they will slide something in last minute under the veil of it being obvious or assumed it would be included.&lt;/p&gt;
&lt;p&gt;One of the most common ones that I have seen fall under this umbrella would be things like setting up email for a new domain, providing hosting (for free or not), and on-going support.&lt;/p&gt;
&lt;p&gt;You should make a list of items that you find people believe will be included and make those deliverables explicitly included or not.&lt;/p&gt;
&lt;p&gt;I suggest having a section in your scope of work (S.O.W) for &amp;ldquo;included items&amp;rdquo; and &amp;ldquo;excluded items&amp;rdquo;. Be sure to walk through these things with the client. If they point out something that they don&amp;rsquo;t agree with, then that is the perfect time to discuss it. Don&amp;rsquo;t assume anything.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Be sure to walk through these things with the client. If they point out something that they don&amp;rsquo;t agree with, then that is the perfect time to discuss it&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The includes/excludes discussion can sometimes be painful and even uncomfortable. Especially if you have a client that is already sensitive to budget. You are pointing out all the things they are not getting. Depending on the size of the list, it can easily be longer than the list of deliverables.&lt;/p&gt;
&lt;h2 id=&#34;2-arbitrary-deadlines&#34;&gt;2. Arbitrary deadlines&lt;/h2&gt;
&lt;p&gt;This one kills me. Always question deadlines. A time limit must be tied to a real-world (physical event or the business opening) reason. Do not make deadlines because you think you will be done at a particular time or just because someone asks you to set a date for when it will be done.&lt;/p&gt;
&lt;p&gt;Also, be wary of a deadline that is tied to an item that can be easily moved. I once had a client who wanted their website done in time for a newsletter. Just a newsletter. It wasn&amp;rsquo;t an annual report or anything, just a general newsletter. And guess what? They moved the date back at least three times.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Also, be wary of a deadline that is tied to an item that can be easily moved.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We rushed to get it done for the initial date, but the date passed, and there were no consequences. Instead, we just waited and waited to go live. Eventually, they managed to get their newsletter done, and we went live. But it was three weeks later. We could have used that time for something else other than just waiting.&lt;/p&gt;
&lt;p&gt;When a future date becomes established, the pressure is on. It can be a great milestone moment when you hit a deadline (early or right on). But it can become a real challenge when the client cannot hold up their end of the deal. Whether that is paying on time, providing information (logins, hosting access, domain details, etc.) or attending important meetings/status updates. The project requires both parties to be on the ball and bringing their A-game all the time.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The project requires both parties to be on the ball and bringing their A-game all the time.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The only caveat here is if you charge for time. Then you have to set a deadline or discuss the monthly/hourly cost. But in the billable-time scenario, the only person that is watching and monitoring time is the client. They become the advocate for speed and efficiency. You just work away until the budget runs out or the project becomes finalised.&lt;/p&gt;
&lt;p&gt;Everyone understands that concept of cutting corners. When you promised to get something done at a particular time and things didn&amp;rsquo;t quite move as quickly as you would have hoped, or you encountered some friction with a piece of the project, you rush. You reduce certain things to their bare essentials or you slash hours in one area to compensate in another. You miss things (remember the email section?), and then you fall behind.&lt;/p&gt;
&lt;p&gt;Another downside to this is that if there are delays for either party or just general hiccups, the problem becomes compounded. Now both sides are rushing since one side held up the other. This is not a great place to be.&lt;/p&gt;
&lt;p&gt;A general rule to follow is to establish the deadline on when the client will be satisfied with the project and within a timeframe that you know you can deliver. That could mean 100%, or that could mean 75%. Either way, do it right and don&amp;rsquo;t rush because of some misplaced trust in &amp;ldquo;setting deadlines&amp;rdquo; or having an obvious &amp;ldquo;finish&amp;rdquo; date in mind.&lt;/p&gt;
&lt;h2 id=&#34;1-content&#34;&gt;1. Content&lt;/h2&gt;
&lt;p&gt;Content is by far the biggest culprit for project failures. Who is generating the content? Who enters the content? What happens if it is missing or incomplete? What if the content isn&amp;rsquo;t ready in time? How does the blog look if we have no posts? When are we replacing the placeholder images?&lt;/p&gt;
&lt;p&gt;All these questions should, again, be answered &lt;em&gt;before the project starts&lt;/em&gt;. I have never encountered so much anxiety and frustration when talking to a client about content. These feelings come from both sides.&lt;/p&gt;
&lt;p&gt;Often, they believe they can write the content themselves. That can sometimes be the case. But it is a lot more complicated than people understand. Unless you have a marketing team or have an experienced copy writer, do not rely on the word of the client that the content will be done on time and in perfect format.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Imagine the first thing a potential client sees on your site is mistakes, placeholder copy, or missing/broken links. That would not be a great first impression.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Another concern when it comes to content is that there are a lot of people out there that do not want to pay someone to write their content. I have no idea where this mindset comes from. But you can see it in the result. When people describe their own business, it is often too verbose, too deep, and littered with industry speak. Sometimes that is great (looking at you, lawyers!) but it usually makes the site difficult to read and will affect the performance of the site in search rankings.&lt;/p&gt;
&lt;p&gt;The solution is to hire a copy writer or at least hire someone to run through the content after you believe it to be complete. Not only will you have the peace of mind that it is correct (both grammatically and in the communication sense) but you can publish it without getting an email the day of the launch where someone points out errors in your site.&lt;/p&gt;
&lt;p&gt;Imagine the first thing a potential client sees on your site is mistakes, placeholder copy, or missing/broken links. That would not be a great first impression.&lt;/p&gt;
&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;The pattern here is that &lt;em&gt;discovery is your friend&lt;/em&gt;. What is a discovery? Discovery is a service (paid or included/unpaid) that will take an inventory and assessment of the client, the project, the business, the competitors, and the target industry for that project.&lt;/p&gt;
&lt;p&gt;Even a simple checklist or survey can act as a project discovery. You can ask the questions about email and hosting, content, timelines or deadlines, and the holy grail: &lt;em&gt;budget&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;I don’t know how many times I have said, &amp;ldquo;we should have found this in discovery&amp;rdquo; when lamenting the fact that we rushed to start a project and skipped some of the upfront due diligence.&lt;/p&gt;
&lt;p&gt;If you are a client, and you are reading this to educate yourself, then hear this: a discovery &lt;em&gt;will save you money&lt;/em&gt;. Why? Well, you can reduce timeline (get ahead of problems), understand your role and the required tasks for you and your team, and accept or deny any recommendations from the service provider before its too late.&lt;/p&gt;
&lt;p&gt;How about just generally auditing the competence of the people who are about to become entangled with you and your business for months or possibly years?&lt;/p&gt;
&lt;p&gt;If that doesn&amp;rsquo;t sound like a good idea, then I don’t know what is.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>WordPress Browser Body Class</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/wordpress-browser-body-class/</link>
      <pubDate>Wed, 21 Jun 2017 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/wordpress-browser-body-class/</guid>
      <description>&lt;p&gt;Sometimes, browsers just don&amp;rsquo;t behave. While working on a WordPress site, I had a particular styling issue that was affecting Safari. I was wondering what the best way to target the browser was.&lt;/p&gt;
&lt;p&gt;If you didn&amp;rsquo;t know, there are some primitive &lt;a href=&#34;https://codex.wordpress.org/Global_Variables#Browser_Detection_Booleans&#34;&gt;browser detection booleans&lt;/a&gt; that are built into WordPress.&lt;/p&gt;
&lt;p&gt;Using those primitives, I was able to whip up a little snippet that adds classes to the body tag depending on the browser - no plugins required.&lt;/p&gt;
&lt;script src=&#34;https://gist.github.com/james2doyle/979b09fc7c676baf3283bdb113b3db6d.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;As you can see, we simply loop over each one of those browser booleans and append them to the output.&lt;/p&gt;
&lt;p&gt;Easy, and no plugin needed. Just add that code to your &lt;code&gt;functions.php&lt;/code&gt; file.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Update Laravel Pagination With New Collection</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/update-laravel-pagination-with-new-collection/</link>
      <pubDate>Sun, 04 Jun 2017 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/update-laravel-pagination-with-new-collection/</guid>
      <description>&lt;p&gt;Have you even done a database search (using the &lt;code&gt;DB&lt;/code&gt; facade) and got back an array of results that wasn&amp;rsquo;t wrapped in lovely little Eloquent Models? After some googling, I am sure you probably found out about the &lt;a href=&#34;http://commandz.io/create-models-from-query-builder/&#34;&gt;hydrate&lt;/a&gt; method. Using &lt;code&gt;hydrate&lt;/code&gt;, you can turn an array of results from the database into real models from your application. This works phenomenally.&lt;/p&gt;
&lt;p&gt;But what if you want to return paginated results? How do you used the results after they are already paginated? Well there is a method called &lt;code&gt;setCollection&lt;/code&gt; on the &lt;a href=&#34;https://laravel.com/api/5.4/Illuminate/Pagination/LengthAwarePaginator.html&#34;&gt;LengthAwarePaginator&lt;/a&gt; class. What it will let you do actually set the results of the pagination to a new collection.&lt;/p&gt;
&lt;p&gt;Here is an example of how that works in practice:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span style=&#34;color:#f1fa8c&#34;&gt;/**
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt; * Hydrates the paginated results for the query
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt; */&lt;/span&gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;simpleSearchQuery&lt;/span&gt;()
{
    &lt;span style=&#34;color:#6272a4&#34;&gt;// contrived example of a &amp;#34;DB search&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$results&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; DB&lt;span style=&#34;color:#ff79c6&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;table&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;users&amp;#39;&lt;/span&gt;)
        &lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;select&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;name&amp;#39;&lt;/span&gt;)
        &lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;where&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;email&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;LIKE&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;%@gmail.com%&amp;#39;&lt;/span&gt;)
        &lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;orderBy&lt;/span&gt;(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;created_at&amp;#39;&lt;/span&gt;)
        &lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;paginate&lt;/span&gt;(&lt;span style=&#34;color:#bd93f9&#34;&gt;15&lt;/span&gt;);

    &lt;span style=&#34;color:#6272a4&#34;&gt;// we can hydrate a model with the results from a DB call
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$hydrated&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; User&lt;span style=&#34;color:#ff79c6&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;hydrate&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$results&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;all&lt;/span&gt;());

    &lt;span style=&#34;color:#6272a4&#34;&gt;// updates the pagination with a new collection of models instead of raw DB array results
&lt;/span&gt;&lt;span style=&#34;color:#6272a4&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$results&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#50fa7b&#34;&gt;setCollection&lt;/span&gt;(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$hydrated&lt;/span&gt;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now this is a pretty simple example of how this could be used. I used this feature to search across a couple tables that didn&amp;rsquo;t have models. The results were for a specific model type, but I wanted the results to be real models so that I can use nice methods on them to get relationships, trigger mutations, etc.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Use Nginx for A/B Testing</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/use-nginx-for-a-b-testing/</link>
      <pubDate>Sun, 28 Aug 2016 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/use-nginx-for-a-b-testing/</guid>
      <description>&lt;p&gt;I was starting a new project the other day that had a heavy marketing influence. The team was wondering about possibly A/B testing the main content section of the website.&lt;/p&gt;
&lt;p&gt;It got me thinking about doing A/B test with content and how that works.&lt;/p&gt;
&lt;p&gt;There are a couple of ways that A/B testing can be accomplished. After some quick Google-ing, I found this cool feature of Nginx called &lt;code&gt;split_clients&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here is a little breakdown of that module:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The &lt;code&gt;ngx_http_split_clients_module&lt;/code&gt; module creates variables suitable for A/B testing, also known as split testing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There is a &lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-target-your-users-with-nginx-analytics-and-a-b-testing&#34;&gt;great article at DigitalOcean&lt;/a&gt; about getting &lt;code&gt;split_clients&lt;/code&gt; setup.&lt;/p&gt;
&lt;p&gt;Nginx will allow you to apply certain variables to a segment of your traffic. For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http {
    split_clients &amp;quot;${remote_addr}&amp;quot; $variant {
            0.5%    .one;
            2.0%    .two;
            *       &amp;quot;&amp;quot;;
    }

    server {
        location / {
            index index${variant}.html;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You can break this down as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;0.5% of the traffic will see &lt;code&gt;index.one.html&lt;/code&gt;, 2.0% of the traffic will see &lt;code&gt;index.two.html&lt;/code&gt;, and the rest will see &lt;code&gt;index.html&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Although this is perfect for serving static content, what about dynamic content? I figured this would be better if it set a &lt;em&gt;custom header&lt;/em&gt; that could then be handled in a response middleware and applied to my views. Here is the resulting code for that:&lt;/p&gt;
&lt;h4 id=&#34;etcnginxconfdsplit-clientsconf-file&#34;&gt;&lt;code&gt;/etc/nginx/conf.d/split-clients.conf&lt;/code&gt; file&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;split_clients &amp;quot;${remote_addr}&amp;quot; $ab_test {
    # 50% of the traffic is &amp;quot;A&amp;quot; traffic
    50%     &amp;quot;A&amp;quot;;
    # the remaining traffic (the other 50%) will be set to &amp;quot;B&amp;quot;
    *       &amp;quot;B&amp;quot;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;If your Nginx is setup with the default &lt;code&gt;nginx.conf&lt;/code&gt;, then there is an include that will autoload all &lt;code&gt;.conf&lt;/code&gt; files in &lt;code&gt;/etc/nginx/conf.d/&lt;/code&gt; folder.&lt;/p&gt;
&lt;p&gt;So you can put files in there that you want to be globally loaded in the main &lt;code&gt;http {}&lt;/code&gt; block.&lt;/p&gt;
&lt;h4 id=&#34;etcnginxsites-enableddefault-or-etcnginxsites-enabledsomewebsite-file&#34;&gt;&lt;code&gt;/etc/nginx/sites-enabled/default&lt;/code&gt; or &lt;code&gt;/etc/nginx/sites-enabled/somewebsite&lt;/code&gt; file&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;server {
    # probably some `listen 80;` code above, and some other things

    # this will come out in our response headers
    add_header X-AB-Testcase $ab_test;

    # the rest of the code below for `location / {}` and all that...
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This would be the resulting response from any HTTP request:&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/nginx-ab-header.png&#34; title=&#34;Nginx example of the custom a/b header&#34; target=&#34;_blank&#34;&gt;&lt;img alt=&#34;Nginx example of the custom a/b header&#34; src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/nginx-ab-header.png&#34; &gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;Awesome! Now half of all traffic will be tagged with either &lt;em&gt;X-AB-Testcase: A&lt;/em&gt; or &lt;em&gt;X-AB-Testcase: B&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Finally, we could add a middleware to collect that information from the header and pass it to variables in your views, or you could use AJAX to check the headers of a piece of conditionally content.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;split_clients&lt;/code&gt; directive uses the IP of the request to assign it to either pool. Given this functionality, &lt;em&gt;if you are using shared internet connection in the office, this can be difficult to test&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;I used &lt;code&gt;curl&lt;/code&gt; requests from 2 different external servers to make sure that we were getting both A and B set by various IPs.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Add A Counter For Duplicate Uploads</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/add-a-counter-for-duplicate-file-uploads/</link>
      <pubDate>Fri, 12 Feb 2016 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/add-a-counter-for-duplicate-file-uploads/</guid>
      <description>&lt;p&gt;Wouldn&amp;rsquo;t it be nice if, when you uploaded a file, the duplicate filenames just get a counter added in front?&lt;/p&gt;
&lt;p&gt;Some people add timestamps on their files, and add some type of date, but I always found that to be very cumbersome.&lt;/p&gt;
&lt;p&gt;How about something like this?&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;some-file.jpg
1-some-file.jpg
2-some-file.jpg
3-some-file.jpg
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Well, now you can! I have used this little script a couple times to remove any conflicting filenames when uploading files with the same name.&lt;/p&gt;
&lt;p&gt;I use this in &lt;a href=&#34;https://laravel.com&#34;&gt;Laravel&lt;/a&gt; (with an instance of &lt;code&gt;Symfony\Component\HttpFoundation\File\UploadedFile&lt;/code&gt; which extends &lt;a href=&#34;http://php.net/SplFileInfo&#34;&gt;SplFileInfo&lt;/a&gt;) but it can easily be modified for any other framework or system.&lt;/p&gt;
&lt;script src=&#34;https://gist.github.com/james2doyle/516483af423d4643ac83.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;If you are OCD, and wanted to all files to start with a number, just remove the if statement for the &lt;code&gt;$client_name&lt;/code&gt;, only leaving the string concatenate line, and it will always add a the counter when the file is new.&lt;/p&gt;
&lt;p&gt;So give it a shot, and if you modify it for some other framework, post the link in the comments.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Add $.getStylesheet To jQuery</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/add-getstylesheet-to-jquery/</link>
      <pubDate>Fri, 05 Feb 2016 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/add-getstylesheet-to-jquery/</guid>
      <description>&lt;p&gt;Have you ever wanted to do this?&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;$.when($.getStylesheet(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;css/main.css&amp;#39;&lt;/span&gt;), $.getScript(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;js/main.js&amp;#39;&lt;/span&gt;))
.then(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; () {
  console.log(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;the css and js loaded successfully and are both ready&amp;#39;&lt;/span&gt;);
}, &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt; () {
  console.log(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;an error occurred somewhere&amp;#39;&lt;/span&gt;);
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Well, now you can! I have created an alternative to &lt;code&gt;$.getScript&lt;/code&gt; that handles stylesheets. I called it &lt;a href=&#34;https://gist.github.com/james2doyle/9456c3e145f8d0afbe25&#34;&gt;$.getStylesheet&lt;/a&gt; for obvious reasons.&lt;/p&gt;
&lt;p&gt;It implements the &lt;a href=&#34;https://api.jquery.com/jQuery.Deferred/&#34;&gt;$.Deferred&lt;/a&gt; object, which allows for chaining and pseudo-promises-style code. Just like &lt;code&gt;$.ajax&lt;/code&gt;, &lt;code&gt;$.post&lt;/code&gt;, and &lt;code&gt;$.get&lt;/code&gt;. This also means you would have access to all the other methods on that object too, this means: &lt;code&gt;.then()&lt;/code&gt;, &lt;code&gt;.always()&lt;/code&gt;, &lt;code&gt;.done()&lt;/code&gt;, and &lt;code&gt;.fail()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here is the little function for &lt;a href=&#34;https://gist.github.com/james2doyle/9456c3e145f8d0afbe25&#34;&gt;$.getStylesheet&lt;/a&gt;. It is just hosted on Github gist, so I can update it if I need to:&lt;/p&gt;
&lt;script src=&#34;https://gist.github.com/james2doyle/9456c3e145f8d0afbe25.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;You can see this is pretty simple. Just add the function after your jQuery script, or somewhere in your main script file.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Slack Meta Data For URLs and Links</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/slack-url-meta-data/</link>
      <pubDate>Sat, 31 Oct 2015 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/slack-url-meta-data/</guid>
      <description>&lt;p&gt;If you use &lt;a href=&#34;https://slack.com/&#34;&gt;Slack&lt;/a&gt;, then you have probably noticed the awesome feature they have for generating nice meta data whenever you paste a URL or an image.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/slack-example.png&#34; title=&#34;Slack meta tag fetching example&#34; target=&#34;_blank&#34;&gt;&lt;img alt=&#34;Slack meta tag fetching example&#34; src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/slack-example.png&#34; &gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;That is pretty slick! So how does it know what to grab for us?&lt;/p&gt;
&lt;p&gt;From the Slack website:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It fetches as little of the page as it can (using HTTP Range headers) to extract meta tags about the content. Specifically, we are looking for &lt;a target=&#34;_blank&#34; href=&#34;http://oembed.com/&#34;&gt;oEmbed&lt;/a&gt; and &lt;a target=&#34;_blank&#34; href=&#34;https://dev.twitter.com/docs/cards&#34;&gt;Twitter Card&lt;/a&gt; / &lt;a target=&#34;_blank&#34; href=&#34;http://ogp.me/&#34;&gt;Open Graph&lt;/a&gt; tags. If a page&amp;rsquo;s tags refer to an image, video, or audio file, we will fetch that file as well to check validity and extract other metadata.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&amp;rsquo;ve never used &lt;em&gt;oEmbed&lt;/em&gt;, so I am going to skip that.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s break down each part of the resulting meta fetch by Slack. Here is what we have, and the order it appears.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;WARPAINT Media (Site Title)&lt;/li&gt;
&lt;li&gt;Homepage | WARPAINT Media (Page Title)&lt;/li&gt;
&lt;li&gt;WARPAINT Media specializes in improving customer experience through marketing, design, analytics, and development. (Meta Description)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now we can look at the Open Graph meta tags that are being used to generate these results:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;property&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;og:site_name&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;WARPAINT Media&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;property&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;og:title&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Homepage | WARPAINT Media&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;property&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;og:description&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;WARPAINT Media specializes in improving customer experience through marketing, design, analytics, and development.&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;property&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;og:image&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://warpaintmedia.ca/img/meta-image.jpg&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;property&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;og:url&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://warpaintmedia.ca&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Open Graph tags are pretty popular. The biggest user of Open Graph is Facebook. Here is the result when the link is shared on Facebook:&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/warpaint-facebook.png&#34; title=&#34;Facebook meta tag fetching example&#34; target=&#34;_blank&#34;&gt;&lt;img alt=&#34;Facebook meta tag fetching example&#34; src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/warpaint-facebook.png&#34; &gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;Make sure you test your tags using the &lt;a href=&#34;https://developers.facebook.com/tools/debug/og/object/&#34;&gt;Facebook Open Graph Object Debugger&lt;/a&gt;. This will help you spot errors in your tags. If there are errors, &lt;strong&gt;Slack will not load the content&lt;/strong&gt;. You need to have valid tags to make Slack work nicely.&lt;/p&gt;
&lt;p&gt;How about the &lt;a href=&#34;https://dev.twitter.com/cards/overview&#34;&gt;Twitter Card&lt;/a&gt; meta tags?&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;twitter:card&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;summary_large_image&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;twitter:title&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;Homepage | WARPAINT Media&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;twitter:description&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;WARPAINT Media specializes in improving customer experience through marketing, design, analytics, and development.&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;twitter:site&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;@warpaintmedia&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;twitter:creator&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;@warpaintmedia&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;twitter:url&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://warpaintmedia.ca&amp;#34;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;meta&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;twitter:image:src&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;content&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://warpaintmedia.ca/img/meta-image.jpg&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As you noticed, there is no &amp;ldquo;site title&amp;rdquo; being set. You can also see in the screenshot that Twitter doesn&amp;rsquo;t really care about the site title, they just show the page title. If that was something you wanted to adjust, then you would tweak the &lt;code&gt;twitter:title&lt;/code&gt; tag to reflect what you wanted for a page title.&lt;/p&gt;
&lt;p&gt;Now you may have copied these Twitter meta tags and pasted them in your site and filled in your information. That &lt;strong&gt;will not work&lt;/strong&gt;. You need to use the &lt;a href=&#34;https://cards-dev.twitter.com/validator&#34;&gt;Twitter Card Validator&lt;/a&gt; to test, and then register, your account and URL.&lt;/p&gt;
&lt;p&gt;When you&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Fixing Wordpress wp-content 500 Errors</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/wordpress-wp-content-500-errors/</link>
      <pubDate>Tue, 29 Sep 2015 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/wordpress-wp-content-500-errors/</guid>
      <description>&lt;p&gt;Yesterday, a friend emailed me about her Wordpress site acting crazy. For some reason all the site assets weren&amp;rsquo;t loading and were returning 500 errors.&lt;/p&gt;
&lt;h4 id=&#34;troubleshooting&#34;&gt;Troubleshooting&lt;/h4&gt;
&lt;p&gt;I had her check the usual things: &lt;code&gt;.htaccess&lt;/code&gt; is there, the asset actually existed, some plugin wasn&amp;rsquo;t busting the site. Each one was throwing a 500 error, so it was something else.&lt;/p&gt;
&lt;p&gt;Eventually she gave me her log in, which had a &lt;em&gt;super simple password&lt;/em&gt;, and I logged in to see what was up. Nothing seemed to be wrong, no crazy plugins or weird issues.&lt;/p&gt;
&lt;p&gt;I then logged into the FTP server to sniff around. Checked the &lt;code&gt;.htaccess&lt;/code&gt;, nothing was wrong. I checked the &lt;code&gt;index.php&lt;/code&gt;, didn&amp;rsquo;t see anything weird.&lt;/p&gt;
&lt;p&gt;I opened the &lt;code&gt;wp-config.php&lt;/code&gt; and added all the &lt;a href=&#34;https://codex.wordpress.org/Debugging_in_WordPress#Example_wp-config.php_for_Debugging&#34;&gt;debugging constants&lt;/a&gt;, here there are for laziness:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;// Enable WP_DEBUG mode
define(&amp;#39;WP_DEBUG&amp;#39;, true);

// Enable Debug logging to the /wp-content/debug.log file
define(&amp;#39;WP_DEBUG_LOG&amp;#39;, true);

// Disable display of errors and warnings
define(&amp;#39;WP_DEBUG_DISPLAY&amp;#39;, false);
@ini_set(&amp;#39;display_errors&amp;#39;, 0);

// Use dev versions of core JS and CSS files (only needed if you are modifying these core files)
define(&amp;#39;SCRIPT_DEBUG&amp;#39;, true);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I then navigated around the site. The content (text, database data) was loading fine, but all the assets were busted. There was a map plugin that was hitting Google Maps and that loaded fine. I then knew it was this specific site.&lt;/p&gt;
&lt;p&gt;After poking around some more, I noticed an &lt;code&gt;index.php&lt;/code&gt; and a &lt;code&gt;.htaccess&lt;/code&gt; in the root of &lt;code&gt;/wp-content&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&#34;the-fix&#34;&gt;The Fix&lt;/h4&gt;
&lt;p&gt;Well, I have come across this problem before. &lt;strong&gt;Wordpress was hacked&lt;/strong&gt;. Hacked might be a strong word, since the password was really weak. A bot probably had that password in it&amp;rsquo;s script and guessed it without issue.&lt;/p&gt;
&lt;p&gt;The &amp;ldquo;hacker&amp;rdquo; then uploaded a file to &lt;code&gt;/wp-content/.htaccess&lt;/code&gt; and &lt;code&gt;/wp-content/index.php&lt;/code&gt;. These files were intercepting request to the &lt;code&gt;wp-content&lt;/code&gt; folder.&lt;/p&gt;
&lt;p&gt;When I removed the files, the site came back to life!&lt;/p&gt;
&lt;p&gt;So if your Wordpress site is suddenly getting 500 errors, check for rogue &lt;code&gt;index.php&lt;/code&gt; or &lt;code&gt;.htaccess&lt;/code&gt; files.&lt;/p&gt;
&lt;h4 id=&#34;create-a-better-password&#34;&gt;Create A Better Password&lt;/h4&gt;
&lt;p&gt;If you are looking to create a strong (but human readable) password, you should take a look at &lt;a href=&#34;https://en.wikipedia.org/wiki/Diceware&#34;&gt;Diceware&lt;/a&gt;. In short, it is a huge list of uncommon words that get randomly combined to give you a strong password you can read.&lt;/p&gt;
&lt;p&gt;Here is the definition from Wikipedia:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Diceware is a method for creating passphrases, passwords, and other cryptographic variables using an ordinary die from a pair of dice as a hardware random number generator. For each word in the passphrase, five rolls of the dice are required. The numbers from 1 to 6 that come up in the rolls are assembled as a five-digit number, e.g. 43146. That number is then used to look up a word in a word list.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here is an &lt;a href=&#34;http://www.ethanresnick.com/diceware/&#34;&gt;online tool that can generate passwords for you&lt;/a&gt;. This site has the default set to word count set to &lt;em&gt;5&lt;/em&gt;. As of today, you should probably use &lt;em&gt;6&lt;/em&gt; words to generate your password.&lt;/p&gt;
&lt;h4 id=&#34;has-your-wordpress-been-hacked&#34;&gt;Has Your Wordpress Been Hacked?&lt;/h4&gt;
&lt;p&gt;Do you know any common Wordpress hacks that occur?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Simple Benchmarks With Apache AB</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/simple-benchmarks-with-apache-ab/</link>
      <pubDate>Tue, 22 Sep 2015 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/simple-benchmarks-with-apache-ab/</guid>
      <description>&lt;h3 id=&#34;why-benchmark&#34;&gt;Why Benchmark?&lt;/h3&gt;
&lt;p&gt;Did you know that Apache has a benchmarking tool for testing the HTTP server? It is called &lt;a href=&#34;http://httpd.apache.org/docs/2.4/programs/ab.html&#34; title=&#34;Apache ab&#34;&gt;ab&lt;/a&gt;, and it is pretty great!&lt;/p&gt;
&lt;p&gt;As your site grows in popularity, complexity, or size, you will want to test the site to see how it preforms. Having the site crash or lock up during peak time can be devastating for a small blog or e-commerce site. It means lost revenue, and can leave a visitor with a bad impression of your site. This can drive them to generate a bad referral, or worse, go to your competitor.&lt;/p&gt;
&lt;p&gt;Users aren&amp;rsquo;t going to care if your site is being bombarded with traffic constantly, they really only care about &lt;em&gt;their own personal experience&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.kissmetrics.com/loading-time/?wide=1&#34; title=&#34;Kiss Metrics loading time infographic&#34;&gt;Studies and analytics show&lt;/a&gt; that the slower your site is, the impact on your sales or target actions is affected exponentially.&lt;/p&gt;
&lt;h3 id=&#34;getting-ab&#34;&gt;Getting ab&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;ab&lt;/code&gt; tool can be found in most default Apache (httpd 2.2 and 2.4) setups. If you don&amp;rsquo;t have it, you can install the &lt;code&gt;apache2-utils&lt;/code&gt; package and get it from there.&lt;/p&gt;
&lt;h3 id=&#34;testing&#34;&gt;Testing&lt;/h3&gt;
&lt;p&gt;I found &lt;a href=&#34;https://www.devside.net/wamp-server/load-testing-apache-with-ab-apache-bench&#34; title=&#34;Load testing apache with ab apache bench&#34;&gt;a great article on this site&lt;/a&gt; that explains a lot of details about using ab, setting up Apache, configuring PHP, and information about the results. You should check it out.&lt;/p&gt;
&lt;p&gt;I used the following script, based on that article above, that tests a site in succession and prints the results to a file.&lt;/p&gt;
&lt;script src=&#34;https://gist.github.com/james2doyle/1b77386317af93a0e5b2.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;To run the script, download it and unzip it. Then run &lt;code&gt;chmod +x bench.sh&lt;/code&gt; to allow the script to run. Then you can use &lt;code&gt;./bench&lt;/code&gt; and the script will begin.&lt;/p&gt;
&lt;p&gt;The article I linked to above mentioned using a &lt;a href=&#34;https://www.devside.net/wamp-server/load-testing-apache-with-ab-apache-bench&#34; title=&#34;Load testing apache with ab apache bench&#34;&gt;delay of 4 minutes&lt;/a&gt; between running &lt;code&gt;ab&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Be careful using &lt;code&gt;ab&lt;/code&gt;, as it essentially emulates a DDOS attack, in that it generates as many requests as possible as fast as possible. There is no delay option in ab, so there is no way to emulate something like &amp;ldquo;10 hits every 10 seconds&amp;rdquo; or anything like that.&lt;/p&gt;
&lt;h3 id=&#34;results&#34;&gt;Results&lt;/h3&gt;
&lt;p&gt;Here are the things you are going to want to pay attention to. These definitions are taken from the &lt;a href=&#34;http://httpd.apache.org/docs/2.4/programs/ab.html&#34; title=&#34;Apache ab&#34;&gt;ab site&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Failed requests:&lt;/strong&gt; The number of requests that were considered a failure. If the number is greater than zero, another line will be printed showing the number of requests that failed due to connecting, reading, incorrect content length, or exceptions.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Non-2xx responses:&lt;/strong&gt; The number of responses that were not in the 200 series of response codes. If all responses were 200, this field is not printed.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Requests per second:&lt;/strong&gt; This is the number of requests per second. This value is the result of dividing the number of requests by the total time taken.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Time per request:&lt;/strong&gt; The average time spent per request. The first value is calculated with the formula (concurrency * timetaken * 1000 / done) while the second value is calculated with the formula (timetaken * 1000 / done).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Failures and errors are generally not good. You should check your logs for anything that happened during your requests.&lt;/p&gt;
&lt;p&gt;For &lt;em&gt;Requests Per Second&lt;/em&gt;, this tells you how quickly your site was able to process all those requests. Higher is better because it means that your site was able to serve the content without hiccups.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;Time Per Request&lt;/em&gt;, although that article says it isn&amp;rsquo;t important in the context of ab, I think it is still important to watch. This metric tells you how long the average request takes. Keep in mind we don&amp;rsquo;t have javascript running, or&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Varnish For Static Sites</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/varnish-for-static-sites/</link>
      <pubDate>Sun, 20 Sep 2015 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/varnish-for-static-sites/</guid>
      <description>&lt;p&gt;Recently, &lt;a href=&#34;http://warpaintmedia.ca&#34;&gt;my company&lt;/a&gt; had a request to build a series of sites that could handle huge bursts of traffic. I asked some friends of mine, what a good solution for this would be. All of them said &lt;a href=&#34;https://www.varnish-cache.org/&#34;&gt;Varnish&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t know what Varnish is, check out this definition from their documentation:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Varnish Cache is a web application accelerator also known as a caching HTTP reverse proxy. You install it in front of any server that speaks HTTP and configure it to cache the contents. Varnish Cache is really, really fast. It typically speeds up delivery with a factor of 300 - 1000x, depending on your architecture.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So you can see that having this tool would be really nice. A simple way to get started with Varnish is to set it up on a flat-file site. Maybe something like &lt;a href=&#34;http://philecms.com/&#34;&gt;PhileCMS&lt;/a&gt; perhaps? Here is &lt;a href=&#34;https://www.staticgen.com/&#34;&gt;a nice curated list&lt;/a&gt; of flat-file site generators.&lt;/p&gt;
&lt;h3 id=&#34;setting-up&#34;&gt;Setting Up&lt;/h3&gt;
&lt;p&gt;This tutorial assumes the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You are using Ubuntu 14.04&lt;/li&gt;
&lt;li&gt;You have &lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-varnish-with-apache-on-ubuntu-12-04--3&#34;&gt;Varnish and Apache installed&lt;/a&gt; *&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;* This tutorial is for Ubuntu 12.04. Replace this command: &lt;code&gt;deb http://repo.varnish-cache.org/ubuntu/ lucid varnish-3.0&lt;/code&gt; with this one &lt;code&gt;deb http://repo.varnish-cache.org/ubuntu/ trusty varnish-4.0&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;apache-setup&#34;&gt;Apache Setup&lt;/h3&gt;
&lt;p&gt;First, you will want to serve Apache on a different port, because Varnish is going to act as our &amp;ldquo;web server&amp;rdquo; and Apache will only be used if the cache is stale or there is no item in the Varnish cache.&lt;/p&gt;
&lt;p&gt;We can open &lt;code&gt;/etc/apache2/ports.conf&lt;/code&gt; and make the following change:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Listen 80
Listen 127.0.0.1:8080
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;We commented out the original listening port, and added our own.&lt;/p&gt;
&lt;p&gt;If we have any sites setup, we should change their virtual host files as well. These files live in &lt;code&gt;/etc/apache2/sites-available&lt;/code&gt; and end in &lt;code&gt;.conf&lt;/code&gt;, so this demo file might be called &lt;code&gt;example.com.conf&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;VirtualHost *:8080&amp;gt;
  ServerAdmin hello@example.com
  ServerName  www.example.com
  ServerAlias example.com
  DocumentRoot /var/www/html/example.com
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;If this site is not enabled, it would be done with the command &lt;code&gt;a2ensite example.com&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&#34;remove-caching-and-header-changes&#34;&gt;Remove Caching And Header Changes&lt;/h4&gt;
&lt;p&gt;You need to &lt;strong&gt;disable all caching in Apache&lt;/strong&gt;!&lt;/p&gt;
&lt;p&gt;Varnish works by reading headers from any files served from our normal web server. Having caching in Apache might seem like killing 2 birds with 1 stone, but it doesn&amp;rsquo;t work that way.&lt;/p&gt;
&lt;p&gt;Rules you might want to check for in your &lt;code&gt;apache.conf&lt;/code&gt; files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mod_headers - used for modifying headers, use with caution&lt;/li&gt;
&lt;li&gt;mod_deflate - for setting compression details&lt;/li&gt;
&lt;li&gt;mod_filter - used with mod_deflate for setting compression&lt;/li&gt;
&lt;li&gt;mod_expires - used for setting how long to cache files, use with caution&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These different rule sets usually contain settings that would be great if we were &lt;em&gt;not&lt;/em&gt; using Varnish. In this case, we are going to trust Varnish to manage all the headers for us.&lt;/p&gt;
&lt;p&gt;When everything is good to go, restart Apache with &lt;code&gt;service apache2 restart&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&#34;varnish-setup&#34;&gt;Varnish Setup&lt;/h3&gt;
&lt;p&gt;First, we need to tell Varnish to live on port 80. We do that by editing the settings for the Varnish daemon.&lt;/p&gt;
&lt;p&gt;The file we need to edit is &lt;code&gt;/etc/default/varnish&lt;/code&gt;. Scroll down until you see the uncommented lines with code that looks like it does below. We need to it like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;DAEMON_OPTS=&amp;quot;-a :80 \
             -T localhost:6082 \
             -f /etc/varnish/default.vcl \
             -S /etc/varnish/secret \
             -s malloc,256m&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Most likely, you will only change the &lt;code&gt;-a&lt;/code&gt; part to &lt;code&gt;80&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Our Varnish configuration for our site lives at &lt;code&gt;/etc/varnish/default.vcl&lt;/code&gt;, here is the one I am using:&lt;/p&gt;
&lt;script src=&#34;https://gist.github.com/james2doyle/0feec6ab77078ad3fdce.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;It is very basic. I really only want to cache text files (HTML, CSS, Javascript/JSON) and images.&lt;/p&gt;
&lt;p&gt;To restart Varnish, use &lt;code&gt;service varnish restart&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&#34;restarting-varnish&#34;&gt;Restarting Varnish&lt;/h4&gt;
&lt;p&gt;If you restart or run out of memory, Varnish will rebuild the cache. This isn&amp;rsquo;t great because you are trying to keep Varnish alive and the cache enabled.&lt;/p&gt;
&lt;h3 id=&#34;testing&#34;&gt;Testing&lt;/h3&gt;
&lt;p&gt;At this point we are ready to test.&lt;/p&gt;
&lt;p&gt;I would suggest running the command &lt;code&gt;vanrnishstat&lt;/code&gt; on your remote server so you can see things happening in the Varnish cache. Pressing the arrow keys up and down will give you a description of the item.&lt;/p&gt;
&lt;p&gt;Then you can go to you site and click around. You should see the Varnish Stat table getting updated. You will want to watch the &lt;em&gt;MAIN.cache_hit&lt;/em&gt; and &lt;em&gt;MAIN.cache_miss&lt;/em&gt; numbers.&lt;/p&gt;
&lt;p&gt;You want the &lt;em&gt;MAIN.cache_hit&lt;/em&gt; to be as high as possible. This means that your Apache is not getting tapped for information, but Varnish is serving it straight to the client.&lt;/p&gt;
&lt;p&gt;For the &lt;em&gt;MAIN.cache_miss&lt;/em&gt;, you want that to be as low as possible. This number represents the number of times that Varnish had to hit Apache. Having a low &lt;em&gt;MAIN.cache_miss&lt;/em&gt; means that we are only tapping Apache when we must.&lt;/p&gt;
&lt;h4 id=&#34;troubleshooting&#34;&gt;Troubleshooting&lt;/h4&gt;
&lt;p&gt;Since we added that line in our &lt;code&gt;default.vcl&lt;/code&gt; file for &lt;code&gt;X-Cache&lt;/code&gt;, we can see which files are being served by Varnish. Using dev tools in Chrome/Safari or Firefox, we can look for a header in our request called &lt;code&gt;X-Cache&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/varnish-x-cache.png&#34; title=&#34;Varnish x-cache header example&#34; target=&#34;_blank&#34;&gt;&lt;img alt=&#34;Varnish x-cache header example&#34; src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/varnish-x-cache.png&#34; &gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;You can see that this item was &lt;em&gt;HIT&lt;/em&gt;. This means that it will be counted in the &lt;em&gt;MAIN.cache_hit&lt;/em&gt; column and not &lt;em&gt;MAIN.cache_miss&lt;/em&gt; column. Good!&lt;/p&gt;
&lt;p&gt;Things that mess up Varnish are headers and cookie headers especially. Sometimes you want or need some headers though. This setup does not allow any cookies to get through. If you had a normal CMS with this setup, you would find you wouldn&amp;rsquo;t be able to log in, or there might be some CSRF Token (Cross Site Request Forgery) issues with form submissions if you use CSRF.&lt;/p&gt;
&lt;p&gt;Varnish will let you control different areas where cookies or other things can change. You will want to refer to the &lt;a href=&#34;https://www.varnish-cache.org/trac/wiki/VCLExampleRemovingSomeCookies&#34;&gt;Varnish Documentation&lt;/a&gt; for these advanced features.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PhalconPHP Completions</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/phalconphp-completions/</link>
      <pubDate>Fri, 20 Mar 2015 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/phalconphp-completions/</guid>
      <description>&lt;p&gt;I have created a package of Sublime Text completions for &lt;a href=&#34;http://phalconphp.com/en/&#34;&gt;Phalcon PHP&lt;/a&gt; 1.3.*.&lt;/p&gt;
&lt;p&gt;There are &lt;strong&gt;414&lt;/strong&gt; total right now. This is pretty much a copy-paste from my &lt;a href=&#34;https://github.com/james2doyle/sublime-node-snippets&#34;&gt;sublime-node-snippets&lt;/a&gt; repo.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
    &lt;img src=&#34;https://raw.githubusercontent.com/james2doyle/phalconphp-completions/master/testing.gif&#34; alt=&#34;PhalconPHP Completions in action&#34; /&gt;
    &lt;p&gt;PhalconPHP Completions in action&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&#34;installing&#34;&gt;Installing&lt;/h2&gt;
&lt;h4 id=&#34;via-package-control&#34;&gt;Via Package Control&lt;/h4&gt;
&lt;p&gt;Just look for &lt;code&gt;phalconphp-completions&lt;/code&gt; on &lt;a href=&#34;https://packagecontrol.io/packages/PhalconPHP%20Completions&#34;&gt;Package Control&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&#34;manually-adding-repo&#34;&gt;Manually Adding Repo&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Open the Commands Palette (command+shift+p)&lt;/li&gt;
&lt;li&gt;Package Control: Add Repository&lt;/li&gt;
&lt;li&gt;Past in this repos URL&lt;/li&gt;
&lt;li&gt;Press Enter&lt;/li&gt;
&lt;li&gt;Open the palette again&lt;/li&gt;
&lt;li&gt;press enter on &amp;ldquo;phalconphp-completions&amp;rdquo;&lt;/li&gt;
&lt;li&gt;watch it install&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;by-download&#34;&gt;By Download&lt;/h4&gt;
&lt;p&gt;Drop this folder in your Sublime Text packages directory.&lt;/p&gt;
&lt;h2 id=&#34;using&#34;&gt;Using&lt;/h2&gt;
&lt;p&gt;Pressing &lt;code&gt;\&lt;/code&gt; (backslash) or &lt;code&gt;:&lt;/code&gt; will end the snippet lookup.&lt;/p&gt;
&lt;p&gt;Therefore, you will have better results if you &lt;em&gt;pretend the slashes and colons aren&amp;rsquo;t needed&lt;/em&gt;. So if you are looking for &lt;code&gt;Phalcon\Text::increment&lt;/code&gt;, you would type &lt;code&gt;phalcontextincrement&lt;/code&gt; and you would see the results coming up.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;See the GIF above!&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;building&#34;&gt;Building&lt;/h2&gt;
&lt;p&gt;I went to each page of the PhalconPHP docs, and copied the functions. Then I wrote a converter to take each function and convert it to a snippet.&lt;/p&gt;
&lt;p&gt;For Example, this line:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Phalcon\Text::endsWith($str, $end, $ignoreCase)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Is going to get converted to:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Phalcon\\Text::endsWith(\\$${1:str}, \\$${2:end}, \\$${3:ignoreCase});${0}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;sourcestxt&#34;&gt;sources.txt&lt;/h2&gt;
&lt;p&gt;This file is cool. It is just a line-by-line output of the Phalcon docs functions. This is the file that is parsed to generate the snippets.&lt;/p&gt;
&lt;h2 id=&#34;running-the-build&#34;&gt;Running The Build&lt;/h2&gt;
&lt;p&gt;Just run &lt;code&gt;node build.js&lt;/code&gt; and it will rake the &lt;code&gt;sources.txt&lt;/code&gt; file and then write the new snippet in the snippets folder.&lt;/p&gt;
&lt;p&gt;Everything before the first &lt;code&gt;(&lt;/code&gt; will be used as the filename.&lt;/p&gt;
&lt;h2 id=&#34;adding-new-snippets&#34;&gt;Adding New Snippets&lt;/h2&gt;
&lt;p&gt;Here is how I quickly got all these snippets.&lt;/p&gt;
&lt;p&gt;First, I went to the docs for the class, and I looked to see what the code examples were wrapped in. For the all the docs pages, the methods and properties are show in a &lt;code&gt;p.method-signature&lt;/code&gt; element.&lt;/p&gt;
&lt;p&gt;So to quickly get the list, I ran the following code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;Array&lt;/span&gt;.prototype.slice.call(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;document&lt;/span&gt;.querySelectorAll(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;.method-signature&amp;#34;&lt;/span&gt;), &lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;).map(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(item){
  &lt;span style=&#34;color:#ff79c6&#34;&gt;return&lt;/span&gt; item.textContent.trim();
}).join(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;\n&amp;#34;&lt;/span&gt;);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then copied the output in the Chrome console, added the class in front (replacing the type info), and pasted it in the &lt;code&gt;sources.txt&lt;/code&gt; file. Done!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Kijiji Vector Logo</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/kijiji-vector-logo/</link>
      <pubDate>Fri, 14 Nov 2014 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/kijiji-vector-logo/</guid>
      <description>&lt;p&gt;This logo was not only impossible to find, because searching for &amp;ldquo;kijiji vector logo&amp;rdquo; returns nothing but people wanting to sell vector logos &lt;strong&gt;on&lt;/strong&gt; Kijiji, but it was difficult to trace as well.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/kijiji.svg&#34; title=&#34;kijiji svg vector logo&#34; target=&#34;_blank&#34;&gt;&lt;img alt=&#34;kijiji svg vector logo&#34; src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/kijiji.svg&#34; &gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;The reason I had to find this logo, was that I made a new Chrome app called, &amp;ldquo;&lt;a href=&#34;http://goo.gl/8VXrlm&#34; title=&#34;Kijiji Enhanced on the Chrome Web Store&#34;&gt;Kijiji Enhanced&lt;/a&gt;&amp;rdquo;. It allows you to browse with larger thumbnails, rotate images in the image viewer, and also view inline maps at the bottom of posts.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Typeform Vector Logo</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/typeform-vector-logo/</link>
      <pubDate>Thu, 31 Jul 2014 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/typeform-vector-logo/</guid>
      <description>&lt;p&gt;Another difficult logo to find. This one is for the fun new Typeform service. Typeform allows you to create dynamic and fun forms for clients, events, and other general uses.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/typeform.svg&#34; title=&#34;typeform svg vector&#34; target=&#34;_blank&#34;&gt;&lt;img alt=&#34;typeform svg vector&#34; src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/typeform.svg&#34; &gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;If you are a photoshopper, you can also &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/typeform.eps&#34; title=&#34;typeform eps vector&#34; target=&#34;_blank&#34;&gt;grab the EPS file&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;update&#34;&gt;Update&lt;/h3&gt;
&lt;p&gt;Here is the &lt;a href=&#34;http://bit.ly/WPjXfZ&#34;&gt;official repository of Typeform branding graphics&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The Simple Spam Stopper</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/simple-spam-stopper/</link>
      <pubDate>Tue, 27 May 2014 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/simple-spam-stopper/</guid>
      <description>&lt;p&gt;For the last year at &lt;a href=&#34;http://warpaintmedia.ca&#34;&gt;WARPAINT Media&lt;/a&gt;, we have been getting assaulted with spam. Everything from &amp;ldquo;Chinese Jerseys&amp;rdquo; and &amp;ldquo;Super SEO Ultra Elite Package Extreme&amp;rdquo; offers.&lt;/p&gt;
&lt;p&gt;We are using &lt;a href=&#34;http://pyrocms.com&#34;&gt;PyroCMS&lt;/a&gt; for the website. The default contact plugin is pretty awesome. It has some really great features and couldn&amp;rsquo;t be easier to use. There is a little &lt;a href=&#34;http://www.sitepoint.com/forums/showthread.php?946120-Spam-Honey-Pot-trap&amp;amp;s=9cfd3419319d5c9bd1f5d597cdfa6113&amp;amp;p=5278832&amp;amp;viewfull=1#post5278832&#34;&gt;honeypot&lt;/a&gt; for spam bots, but it seems to not be doing a great job, at least for us.&lt;/p&gt;
&lt;p&gt;The great thing about the Pyro contact form is that it lets the developer define some validation without much work. In the past I have added questions like &lt;em&gt;&amp;ldquo;what is one plus one? (use a number)&amp;quot;&lt;/em&gt;, other times I have tried &lt;em&gt;&amp;ldquo;are you a human?&amp;quot;&lt;/em&gt; with a dropdown. Both seemed fine. But I wanted something a little more transparent and more conventional than strange questions about math or your species.&lt;/p&gt;
&lt;p&gt;The solution that I came up with was, 2 email fields. That&amp;rsquo;s it. I have one that is called &amp;ldquo;email&amp;rdquo; and another field that is called &amp;ldquo;check&amp;rdquo;. When the user submits the form, the email and check field and validated. The rules for them are that they need to be identical, &lt;em&gt;but&lt;/em&gt; they also need to be valid emails.&lt;/p&gt;
&lt;p&gt;So there is a sort of a double validation going on. They need to be putting in a real email and they need to know that the email needs to match the check field. The label for this second check field is just &amp;ldquo;Enter Your Email Again&amp;rdquo;. Since it comes after the first field with an Email label, people tend to figure it out.&lt;/p&gt;
&lt;p&gt;How about the results? Well we used to get about 10-20 spam per day. Now we get about 1-3 a week and none of them are from our websites contact form.&lt;/p&gt;
&lt;h4 id=&#34;tldr&#34;&gt;Tl;Dr&lt;/h4&gt;
&lt;p&gt;I added a second email input and practically eliminated our spam.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Flexible SVG Placeholder Images</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/flexible-svg-placeholders/</link>
      <pubDate>Sat, 24 May 2014 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/flexible-svg-placeholders/</guid>
      <description>&lt;p&gt;Do you use &lt;a href=&#34;http://placehold.it&#34; title=&#34;Placehold.it Homepage&#34;&gt;placehold.it&lt;/a&gt;? It is a great service. The only thing is when you are offline, or you are testing a page that needs a lot of placeholders, it may not be the greatest solution.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enter the SVG placeholder.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Here are the properties you can set:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;width and height&lt;/li&gt;
&lt;li&gt;background-fill&lt;/li&gt;
&lt;li&gt;font-color&lt;/li&gt;
&lt;li&gt;font-family&lt;/li&gt;
&lt;li&gt;font-size&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here is the actual SVG file. As you can see it is a PHP file, but you are serving it as an SVG (see the &lt;code&gt;Content-Type&lt;/code&gt; part?). Here we grab the URL arguments and assign them to the SVG.&lt;/p&gt;
&lt;script src=&#34;https://gist.github.com/3aad1d22163c3c3e5cfd.js?file=placeholder-svg.php&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt;
&lt;p&gt;If you saved the file as &lt;code&gt;placeholder-svg.php&lt;/code&gt; then it would be used like so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;img&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;placeholder-svg.php?wh=400x400&amp;amp;fill=bada55&amp;amp;color=000000&amp;amp;font=Georgia&amp;amp;size=20&amp;#34;&lt;/span&gt; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This would be the output:&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/placeholder.png&#34; alt=&#34;Placeholder Example&#34;&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Tips For Using SVGs</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/tips-for-using-svgs/</link>
      <pubDate>Sat, 17 May 2014 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/tips-for-using-svgs/</guid>
      <description>&lt;p&gt;I found using SVGs can be both amazing and extremely frustrating, so I have to share this information so no one looses their mind.&lt;/p&gt;
&lt;h3 id=&#34;use-viewbox&#34;&gt;Use Viewbox&lt;/h3&gt;
&lt;p&gt;This one is a little gem. The &lt;code&gt;viewBox&lt;/code&gt; property allows you to set the dimensions of the image but it will also allow you can have responsive SVGs.&lt;/p&gt;
&lt;p&gt;They maintain their ratios, but they will scale to 100% width and height. If you have an SVG that is 64 by 64, the syntax for the viewBox property would be &lt;code&gt;viewBox=&amp;quot;0 0 64 64&amp;quot;&lt;/code&gt;. Pretty simple. Just make sure you remove the width and height on the base SVG tag when using viewBox.&lt;/p&gt;
&lt;p&gt;If you open an SVG in a new window, like opening a new file in the browser, you will notice that when zooming in, if &lt;code&gt;viewBox&lt;/code&gt; property set properly, the image stays the same size. It won&amp;rsquo;t zoom.&lt;/p&gt;
&lt;h3 id=&#34;use-base64-images&#34;&gt;Use base64 Images&lt;/h3&gt;
&lt;p&gt;So there are a couple ways you can embed an image in an SVG. I have found that the best way is to use a &lt;a href=&#34;http://b1nary.ch/base64/&#34; title=&#34;embed base64 - easy, client side base64 encoder&#34;&gt;base 64 encoded string&lt;/a&gt; as the image href.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;svg&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;viewBox=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;0 0 64 64&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;xmlns=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://www.w3.org/2000/svg&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;xmlns:svg=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://www.w3.org/2000/svg&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;xmlns:xlink=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;http://www.w3.org/1999/xlink&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;defs&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;pattern&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;id=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;background-image&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;patternUnits=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;userSpaceOnUse&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;width=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;64&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;height=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;64&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;gt;&lt;/span&gt;
      &lt;span style=&#34;color:#6272a4&#34;&gt;&amp;lt;!-- the width and height of the image should match the pattern, in most cases --&amp;gt;&lt;/span&gt;
      &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;image&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;xlink:href=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;data:image/gif;base64,R0lGODdhQABAAOMAAMzMzJaWlr6+vqOjo8XFxZycnLGxsbe3t6qqqgAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAQABAAAAEpBDISau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru987//AoHBILBqPyKRyyRwSQk+bYDA5IDbT6rVGKAgmhSim+5WEbYbBQWItTBDwLSC9BrRthcHgGnaD/WZ6fF1cAQBdBAEFAXUAcBOJh2GKjDUBBAdUkpAFZxKXmRKENQedZaMAAwZpVaaigE2xsrO0tba3uLm6u7y9vr/AwcLDxMXGxxURADs=&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;x=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;y=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;width=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;64&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;height=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;64&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;id=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;svg-background&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;/pattern&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;/defs&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;g&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;ellipse&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;ry=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;32&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;rx=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;32&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;id=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;svg_1&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;cy=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;32&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;cx=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;32&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;fill=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;url(#background-image)&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;/g&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#ff79c6&#34;&gt;&amp;lt;/svg&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This is what the &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/placeholder.svg&#34;&gt;outputted image&lt;/a&gt; would look like.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;I&amp;rsquo;m using a very small gif so that the base64 string isn&amp;rsquo;t giant&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;You can also see &lt;code&gt;viewBox&lt;/code&gt; in action (try zooming). The reason I use this technique, is because it cuts down on requests but also cuts down on file size (for the most part). When you need to have multiple images inside the SVG, this works very well. Instead of having multiple requests (SVG, image1.jpg, image2.jpg, etc.) you get one request.&lt;/p&gt;
&lt;h4 id=&#34;note&#34;&gt;Note&lt;/h4&gt;
&lt;hr&gt;
&lt;p&gt;For some reason, Safari does not like the following scenario: &lt;strong&gt;an SVG, in an img tag, that has a base64 image in it&lt;/strong&gt;. I solved this problem, and this is how I did it.&lt;/p&gt;
&lt;p&gt;I changed this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;img&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;src&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;img/fun.svg&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;height&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;989&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;width&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;989&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&amp;lt;&lt;span style=&#34;color:#ff79c6&#34;&gt;object&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;height&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;989px&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;width&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;989px&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;data&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;img/fun.svg&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#50fa7b&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;image/svg+xml&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#ff79c6&#34;&gt;object&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then it worked. In an &lt;code&gt;img&lt;/code&gt; tag, the image worked fine in all browsers, yes even IE (checked 11 and 10), but in Safari (7.0.3) it would not render. If I opened the SVG directly in a new tab, it worked fine. So there was some sort of reason that it would not render inside of an &lt;code&gt;img&lt;/code&gt; tag. Annoying.&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;be-careful-with-masks&#34;&gt;Be Careful With Masks&lt;/h3&gt;
&lt;p&gt;Masking in SVG seems to be a magical mistress. I find sometimes it works wonderfully, and sometimes it is just wrong. Firefox is a pain with this one.&lt;/p&gt;
&lt;h3 id=&#34;simple-is-better&#34;&gt;Simple Is Better&lt;/h3&gt;
&lt;p&gt;Always check your files to make sure there aren&amp;rsquo;t any hidden layers. Firefox, again, will punish you for this. I find a lot of SVG documents will have some strange layers that are just empty paths or unfilled objects. This usually is the product of using live trace.&lt;/p&gt;
&lt;h3 id=&#34;text-to-outlines&#34;&gt;Text To Outlines&lt;/h3&gt;
&lt;p&gt;Always outline your text. Enough said. Without it, the person may see a font that you didn&amp;rsquo;t intend. I would only use a system font if I had to make sure it stayed as text. A case for this might be dynamically creating SVGs on the fly or something.&lt;/p&gt;
&lt;h3 id=&#34;use-css-fo&#34;&gt;Use CSS Fo&lt;/h3&gt;
</description>
    </item>
    
    <item>
      <title>Font Awesome SVG Icons</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/font-awesome-svg-icons/</link>
      <pubDate>Thu, 06 Feb 2014 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/font-awesome-svg-icons/</guid>
      <description>&lt;p&gt;This one was kind of annoying. I was looking for all the &lt;a href=&#34;http://fontawesome.io/&#34;&gt;font-awesome icons&lt;/a&gt; in a nice sheet so that &lt;a href=&#34;warpaintmedia.ca&#34;&gt;WARPAINT&lt;/a&gt; could design some mockups for a client. Well, of course this sheet doesn&amp;rsquo;t exists.&lt;/p&gt;
&lt;p&gt;So I used the following code to grab the icons from the &lt;a href=&#34;http://fontawesome.io/cheatsheet/&#34;&gt;cheatsheet page&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;var&lt;/span&gt; arr &lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
$(&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;.container .col-md-4&amp;#39;&lt;/span&gt;).each(&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;function&lt;/span&gt;(i, e) {
  arr &lt;span style=&#34;color:#ff79c6&#34;&gt;+=&lt;/span&gt; e.innerText.slice(&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#bd93f9&#34;&gt;1&lt;/span&gt;) &lt;span style=&#34;color:#ff79c6&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;;
});
console.log(arr);
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I then took that output and pasted it into Sublime Text. I split the output into multiple lines, and replaced the commas with double spaces. That was then pasted into Illustrator and exported as SVG.&lt;/p&gt;
&lt;p&gt;Voila! There you have this sprite sheet.&lt;/p&gt;
&lt;p&gt;You can &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/font-awesome-sheet.svg&#34;&gt;download it here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;These icons are from version 4.0.2&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>IICRC Vector Logo</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/iicrc-vector-logo/</link>
      <pubDate>Wed, 18 Dec 2013 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/iicrc-vector-logo/</guid>
      <description>&lt;p&gt;Another lost logo, this one is for the IICRC (institute of inspection cleaning and restoration). They are an international cleaning certification institure. Clearly. Here is their vector logo.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/iicrc.svg&#34; title=&#34;iicrc svg vector&#34; target=&#34;_blank&#34;&gt;&lt;img alt=&#34;iicrc svg vector&#34; src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/iicrc.svg&#34; &gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;Enjoy. This was a huge pain to get right.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CMS Watch List</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/cms-watch-list/</link>
      <pubDate>Fri, 26 Jul 2013 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/cms-watch-list/</guid>
      <description>&lt;p&gt;I created a new post on WARPAINT about some of the upcoming CMS platforms you may not have heard of.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://warpaintmedia.ca/blog/2013/07/cms-watch-list&#34; title=&#34;CMS Watch List&#34;&gt;Here is the article&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The $100 Website</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/the-100-dollar-website/</link>
      <pubDate>Tue, 23 Jul 2013 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/the-100-dollar-website/</guid>
      <description>&lt;p&gt;I wrote a post on WARPAINT Media about people who ask about getting a website for $100. It isn&amp;rsquo;t an angry rant, although there is some frustration. It is more about courtesy.&lt;/p&gt;
&lt;p&gt;I wouldn&amp;rsquo;t ask you to take $100 for an entire weeks worth of work. So please, don&amp;rsquo;t ask me. &lt;a href=&#34;http://warpaintmedia.ca/blog/2013/07/the-100-dollar-website&#34; title=&#34;The $100 Website&#34;&gt;Here is the article&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Custom Google Forms</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/custom-google-forms/</link>
      <pubDate>Wed, 22 May 2013 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/custom-google-forms/</guid>
      <description>&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/googleforms.png&#34; alt=&#34;&#34; align=&#34;middle&#34;&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Update: Google has added the tools to customize a form with logos, colours, fonts, and backgrounds. Use this guide if you want even more custom styles, or if you want to embed the form within another page.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I have been complaining about the lack of themes for google forms for a while now. I finally decided to stop crying and do something. After a bit of research I have found a way to create custom forms rather easily.&lt;/p&gt;
&lt;h3 id=&#34;how-to-create-a-custom-form&#34;&gt;How to create a custom form&lt;/h3&gt;
&lt;p&gt;This is just the normal way to make a new google form. If you have made one before then just skip this.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a form as normal&lt;/li&gt;
&lt;li&gt;Click the view live form&lt;/li&gt;
&lt;li&gt;Copy everything inside the form tag including the form tag itself&lt;/li&gt;
&lt;li&gt;Create a new blank HTML file&lt;/li&gt;
&lt;li&gt;Create an empty div with a container class&lt;/li&gt;
&lt;li&gt;Paste all the form markup inside there&lt;/li&gt;
&lt;li&gt;Link the style.css stylsheet&lt;/li&gt;
&lt;li&gt;Test the form and check the response in Google drive&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;hosting-the-form&#34;&gt;Hosting the form&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Edit: This feature is &lt;a href=&#34;https://support.google.com/drive/answer/2881970?hl=en&#34;&gt;no longer avaliable&lt;/a&gt; to the new google drive.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Something relatively new to Google drive is the ability to host static HTML pages.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a public shared folder&lt;/li&gt;
&lt;li&gt;Upload all your static html files&lt;/li&gt;
&lt;li&gt;Open the index.html file in drive and click the preview button&lt;/li&gt;
&lt;li&gt;Copy the link to the page it sends you too&lt;/li&gt;
&lt;li&gt;Share that link with whoever because you are done!&lt;/li&gt;
&lt;li&gt;This is how the &lt;a href=&#34;https://googledrive.com/host/0B3SHb_huRFdyNENfQjVzSGpIOFU/index.html&#34; title=&#34;Hosted Demo of custom Google Form&#34;&gt;demo form&lt;/a&gt; is hosted.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As a starting point I basically just copied the stylesheet from the default Google form page. Then I took all the colors and placed them into variables. The stylesheet needs to be stripped of things not necessary.&lt;/p&gt;
&lt;h3 id=&#34;moving-forward&#34;&gt;Moving Forward&lt;/h3&gt;
&lt;p&gt;I do not want to add any extra markup to the pages. The idea hear is to just copy the form mark that Google gives you and then just add a stylesheet that will make it themed.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Think themes for bootstrap. Markup stays, stylesheets change.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;But right now I am just going to try and normalize the current stylsheet into something as default as possible so that I can then create a my-theme-name.css file that contains all the variables to do the styling. I am currently only using the variables in LESS but eventually I will use more of the feaures to get everything nice and themeable.&lt;/p&gt;
&lt;p&gt;You can check out the &lt;a href=&#34;https://googledrive.com/host/0B3SHb_huRFdyNENfQjVzSGpIOFU/index.html&#34; title=&#34;Hosted Demo of custom Google Form&#34;&gt;Demo form in action&lt;/a&gt; or just jump right to the &lt;a href=&#34;https://github.com/james2doyle/google-form-styling&#34; title=&#34;james2doyle/google-form-styling&#34;&gt;Github Repo&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CSS3 badge logo in SVG</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/css3-badge-logo-in-svg/</link>
      <pubDate>Sun, 21 Apr 2013 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/css3-badge-logo-in-svg/</guid>
      <description>&lt;p&gt;I have been trying to find the CSS3 badge in a SVG format but it wasn’t that easy. The HTML5 one was the first result on Google. Now finally I found one. I am posting it here because now I will never lose it!&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/html5css3badges.png&#34; alt=&#34;HTML5 and CSS3 badges&#34;&gt;
&lt;/div&gt;
&lt;p&gt;Here is the CSS3 logo:&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/css3.svg&#34; target=&#34;_blank&#34; title=&#34;Download CSS3.svg&#34;&gt;&lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/css3.svg&#34; alt=&#34;CSS3 Scalable vector graphic&#34;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;Here is the HTML5 logo in-case you need it:&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/html5.svg&#34; target=&#34;_blank&#34; title=&#34;Download HTML5.svg&#34;&gt;&lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/html5.svg&#34; alt=&#34;HTML5 Scalable vector graphic&#34;&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;h3 id=&#34;references&#34;&gt;References&lt;/h3&gt;
&lt;p&gt;I found the logos on &lt;a href=&#34;http://www.bobbyberberyan.com/2012/03/html-5-css-3-logos/&#34; title=&#34;bobby berberyan - html-5-css-3-logos&#34;&gt;this website&lt;/a&gt;. They were in one single SVG file and I split them up.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>AngularJS Hangout - Promises Promises</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/angularjs-hangout-promises-promises/</link>
      <pubDate>Wed, 17 Apr 2013 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/angularjs-hangout-promises-promises/</guid>
      <description>&lt;p&gt;I somehow managed to find my way into an &lt;a href=&#34;https://plus.google.com/u/0/events/cljavmi7kpup1fso43k3fkpk2eg&#34; title=&#34;AngularJS Promises&#34;&gt;AngularJS hangout&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The hangout is about promises and deffereds. On the google plus &lt;a href=&#34;https://plus.google.com/u/0/events/cljavmi7kpup1fso43k3fkpk2eg&#34; title=&#34;Angularjs Promises Event Page&#34;&gt;event page&lt;/a&gt;, there are links to all the plunkrs in the video. Here is the direct &lt;a href=&#34;https://www.youtube.com/watch?v=XLaYaaq2Miw&#34; title=&#34;Angularjs Promises Youtube&#34;&gt;youtube link&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>View Folder Tree in MacOSX Terminal</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/view-folder-tree-in-macosx-terminal/</link>
      <pubDate>Mon, 19 Nov 2012 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/view-folder-tree-in-macosx-terminal/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://coderwall.com/p/owb6eg&#34; title=&#34;terminal tree command&#34;&gt;View Folder Tree in MacOSX Terminal&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://james2doyle.github.io/ohdoylerules.com/images/Screen-Shot-2012-11-19-at-1.05.22-PM11.png&#34;&gt;&lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/Screen-Shot-2012-11-19-at-1.05.22-PM11.png&#34; alt=&#34;zsh tree alias&#34; title=&#34;zsh tree alias&#34;&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Source Code Pro on Sublime Text</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/source-code-pro-sublime/</link>
      <pubDate>Fri, 19 Oct 2012 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/source-code-pro-sublime/</guid>
      <description>&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/githubgistlogo.png&#34; alt=&#34;Github Gists Logo&#34;&gt;
&lt;/div&gt;
&lt;p&gt;I recently switched my font in sublime text to the new Adobe font, &lt;a href=&#34;http://blogs.adobe.com/typblography/2012/09/source-code-pro.html&#34; title=&#34;Adobe Blog - Source Code Pro&#34;&gt;Source Code Pro&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/sourcecodepro.png&#34; alt=&#34;Source Code Pro sublime text 2 screenshot&#34;&gt;
&lt;/div&gt;
&lt;p&gt;It looks fantastic! It is so smooth and crisp. To switch to it as your main font, first download the font. Then add the line “font_face”: “Source Code Pro” in your Preferences-&amp;gt;User Settings(keyboard shortcut command+comma to open the settings) and that’s it! Pretty fly.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Styling Radios and Checkboxes. Redux.</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/styling-input-redux/</link>
      <pubDate>Sun, 19 Aug 2012 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/styling-input-redux/</guid>
      <description>&lt;p&gt;A few weeks ago, or something like that, I made a post about &lt;a href=&#34;https://ohdoylerules.com/web/radio-checkboxes/&#34; title=&#34;Styling radio and checkbox inputs&#34;&gt;styling your labels to act as checkboxes/radios&lt;/a&gt;. I recently saw &lt;a href=&#34;http://dribbble.com/shots/693245-Untitled-iPhone-synth-app-waveforms&#34; title=&#34;iPhone-synth-app-waveforms&#34;&gt;a post on Dribbble by Mikael Eidenberg&lt;/a&gt; which inspired me to make some nicely styled examples of that method in action.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/synthappbuttons.png&#34; alt=&#34;Synth App Buttons in pure CSS&#34;&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&#34;http://codepen.io/james2doyle/pen/AKblD&#34; title=&#34;Synth App Buttons&#34;&gt;Here is the pen on Codepen.io&lt;/a&gt;. I usually use jsFidddle but I decided to change it up this time. Maybe my next post will be hosted on tinker.io or dabblet… although tinker does not have accounts like the others.&lt;/p&gt;
&lt;p&gt;This is the exact same method as my &lt;a href=&#34;https://ohdoylerules.com/web/radio-checkboxes/&#34; title=&#34;Styling radio and checkbox inputs&#34;&gt;previous article&lt;/a&gt;, only there is a lot more css.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>WordPress Plugin Swipe.js</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/wordpress-plugin-swipe-js/</link>
      <pubDate>Tue, 14 Aug 2012 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/wordpress-plugin-swipe-js/</guid>
      <description>&lt;p&gt;I have made my first WordPress plugin and github project: &lt;a href=&#34;https://github.com/james2doyle/Swipe.js-WordPress-Plugin&#34; title=&#34;WordPress Plugin: SwipeJS&#34;&gt;A WordPress plugin for Swipe.js&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is my first attempt at a WordPress plugin and a Github project.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Making Checkboxes in WordPress options pages</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/checkboxes-options/</link>
      <pubDate>Sat, 11 Aug 2012 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/checkboxes-options/</guid>
      <description>&lt;p&gt;I am in the process of building my first WordPress plugin. Of course I am wildly researching how to do things. One thing that was particularly hard to find was how to use checkboxes in options pages. Here is the solution I used.&lt;/p&gt;
&lt;p&gt;WordPress has a function called &lt;a href=&#34;http://codex.wordpress.org/Function_Reference/checked&#34; title=&#34;WordPress Codex For Checked Function&#34;&gt;checked()&lt;/a&gt;. This basically returns a true checked attribute if the conditions it is passed are met. Here is how I used it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;input type=&amp;quot;checkbox&amp;quot; name=&amp;quot;my_options&amp;quot; &amp;lt;?php checked( get_option(&#39;my_option&#39;) == &#39;on&#39;,true); ?&amp;gt; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What I found is that when the option was getting updated it was being stored as &amp;lsquo;on&amp;rsquo;. So this little PHP snippet says: &amp;ldquo;If the option named &amp;lsquo;my_option&amp;rsquo; is equal to &amp;lsquo;on&amp;rsquo; then add a checked=&amp;quot;checked&amp;rdquo; attribute to this input tag.&amp;rdquo; Anyway, I found it quite hard to get a straight up answer to this problem. Since the reason I made this blog is to share my discoveries; here you go.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Styling radio and checkbox inputs</title>
      <link>https://james2doyle.github.io/ohdoylerules.com/web/radio-checkboxes/</link>
      <pubDate>Tue, 07 Aug 2012 00:00:00 +0000</pubDate>
      <author>james2doyle@gmail.com (James Doyle)</author>
      <guid>https://james2doyle.github.io/ohdoylerules.com/web/radio-checkboxes/</guid>
      <description>&lt;p&gt;Styling inputs can be pretty annoying. I don’t think I really have any consistent way of making custom inputs. Especially when it comes to radio and checkboxes. I will always prefer using CSS instead of images for obvious reasons. But for radios and checkboxes I normally use images. I usually just make a png sprite and use the :checked selector to move its position.&lt;/p&gt;
&lt;p&gt;But now, I have discovered a new way! I took the idea from &lt;a href=&#34;http://css-tricks.com/snippets/css/custom-checkboxes-and-radio-buttons/&#34;&gt;CSS Tricks&lt;/a&gt;/&lt;a href=&#34;https://examples.wufoo.com/forms/custom-checkboxes-and-radio-buttons/&#34; title=&#34;WuFoo Forms Example&#34;&gt;Wufoo Forms&lt;/a&gt;. It basically uses the label as the element. You hide the input tag and then style the label with checked and unchecked states.&lt;/p&gt;
&lt;div class=&#34;center&#34;&gt;
  &lt;img src=&#34;https://james2doyle.github.io/ohdoylerules.com/images/radio-checkboxes.png&#34; alt=&#34;End Results&#34;&gt;
&lt;/div&gt;
&lt;pre&gt;&lt;code&gt;/* style this span element so we can display nicely, this styling is not necessary */
span {
    margin: 10px 0;
    display: block;
    width: 100%;
    float: left;
}

input[type=&amp;quot;radio&amp;quot;],
input[type=&amp;quot;checkbox&amp;quot;] {
    /* hide the inputs */
    opacity: 0;
}

/* style your lables/button */
input[type=&amp;quot;radio&amp;quot;] + label,
input[type=&amp;quot;checkbox&amp;quot;] + label {
    /* keep pointer so that you get the little hand showing when you are on a button */
    cursor: pointer;
    /* the following are the styles */
    padding: 4px 10px;
    border: 1px solid #ccc;
    background: #efefef;
    color: #aaa;
    border-radius: 3px;
    text-shadow: 1px 1px 0 rgba(0,0,0,0);
}

input[type=&amp;quot;radio&amp;quot;]:checked + label,
input[type=&amp;quot;checkbox&amp;quot;]:checked + label{
    /* style for the checked/selected state */
    background: #777;
    border: 1px solid #444;
    text-shadow: 1px 1px 0 rgba(0,0,0,0.4);
    color: white;
}​
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I have removed all the unnecessary styles and only put in the relevant stylings. Of course you could always use a background image that moves/changes but for this demo I just styled the labels to resemble buttons.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;span&amp;gt;
  &amp;lt;input id=&amp;quot;Radio1&amp;quot; name=&amp;quot;Radios&amp;quot; type=&amp;quot;radio&amp;quot; value=&amp;quot;Option 1&amp;quot;&amp;gt;
  &amp;lt;label for=&amp;quot;Radio1&amp;quot;&amp;gt;Option 1&amp;lt;/label&amp;gt;
&amp;lt;/span&amp;gt;
&amp;lt;span&amp;gt;
  &amp;lt;input id=&amp;quot;Check1&amp;quot; name=&amp;quot;Checks&amp;quot; type=&amp;quot;checkbox&amp;quot; value=&amp;quot;Item 1&amp;quot;&amp;gt;
  &amp;lt;label for=&amp;quot;Check1&amp;quot;&amp;gt;Item 1&amp;lt;/label&amp;gt;
&amp;lt;/span&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The text inside the label will be the text displayed as your button. You must have the ID and FOR attributes on the input and labels. Removing those will break the functionality. As always I have added a little &lt;a href=&#34;http://jsfiddle.net/james2doyle/YB5c3/&#34; title=&#34;Styling radios and checkboxes jsFiddle demo&#34;&gt;jsFiddle demo&lt;/a&gt; into the mix.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
