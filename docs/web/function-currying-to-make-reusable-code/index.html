<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Cache-control" content="public">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5">
  
    <title>James Doyle | Function Currying To Make Reusable Code</title>
  
  <meta name="google-site-verification" content="KM-5h_iJ7JJsGeUp4ncEoYCBKft1ko1A4gBpjIzT0p4" />
  <link href="https://plus.google.com/109231487156400680487" rel="author publisher" />
  
  <meta itemprop="name" content="James Doyle">
  <meta property="og:site_name" content="OhDoyleRules">
  <meta itemprop="url" content="https://ohdoylerules.com/web/function-currying-to-make-reusable-code/">
  <meta itemprop="email" content="james2doyle@gmail.com">
  <meta property="og:url" content="https://ohdoylerules.com/web/function-currying-to-make-reusable-code/">

  <meta itemprop="image logo" content="https://ohdoylerules.com/icons/logo.png">
  <meta property="og:image" content="https://ohdoylerules.com/icons/logo.png">

  <link rel="apple-touch-icon" sizes="180x180" href="https://ohdoylerules.com/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://ohdoylerules.com/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://ohdoylerules.com/icons/favicon-16x16.png">

  <link rel="manifest" href="https://ohdoylerules.com/site.webmanifest">
  <link rel="mask-icon" href="https://ohdoylerules.com/icons/safari-pinned-tab.svg" color="#333333">
  <link rel="icon" href="https://ohdoylerules.com/icons/favicon.ico" sizes="any">
  <link rel="icon" href="https://ohdoylerules.com/icons/favicon.svg" type="image/svg+xml">

  <meta name="msapplication-config" content="https://ohdoylerules.com/browserconfig.xml">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@james2doyle">
  <meta name="twitter:title" content="Function Currying To Make Reusable Code">
  <meta name="twitter:creator" content="@james2doyle">
  <meta name="twitter:image" content="https://ohdoylerules.com/icons/logo.png">
  <meta name="twitter:domain" content="https://ohdoylerules.com/">
  <link rel="icon" href="https://ohdoylerules.com/icons/logo.svg">
  
  
    <link rel="dns-prefetch" href="https://c.disquscdn.com">
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Function Currying To Make Reusable Code">
    <meta property="article:author" content="James Doyle" />
    <meta property="article:section" content="Web" />
    <meta property="article:tag" content="javascript, currying, event, handlers, react, state" />
    <meta itemprop="keywords" content="javascript, currying, event, handlers, react, state">
    <meta property="og:keywords" content="javascript, currying, event, handlers, react, state">
    
    
      <meta name="description" content="Function currying. If you haven&#39;t heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve readability">
      <meta itemprop="description" content="Function currying. If you haven&#39;t heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve readability">
      <meta property="og:description" content="Function currying. If you haven&#39;t heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve readability">
      <meta name="twitter:description" content="Function currying. If you haven&#39;t heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve readability">
    
  
  <link rel="dns-prefetch" href="https://www.google-analytics.com">
  <link rel="shortcut icon" href="https://ohdoylerules.com/favicon.ico" />
  <link rel="canonical" href="https://ohdoylerules.com/web/function-currying-to-make-reusable-code/">
  <link rel="sitemap" type="application/xml" title="Sitemap" href="https://ohdoylerules.com/sitemap.xml" />
  <meta id="themes" name="themes" content="https://ohdoylerules.com/css/new.light.css,https://ohdoylerules.com/css/new.dark.css">
  <link id="stylesheet" rel="stylesheet" href="https://ohdoylerules.com/css/new.light.css">
  <style type="text/css">
    body {
      font-feature-settings: 'lnum' 1;
      font-variant-numeric: slashed-zero;
      text-rendering: geometricPrecision;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
      opacity: 0;
      transition: opacity 0.2s ease;
      will-change: opacity;
    }
    body.light, body.dark {
      opacity: 1;
    }
    .show-on-light,
    .show-on-dark {
      display: none;
    }
    .light .show-on-light,
    .dark .show-on-dark {
      display: block;
    }
    .post-info {
      margin-bottom: 1rem;
    }
    a.none {
      color: inherit;
      border: none;
      opacity: 1;
    }
    a.none:hover {
      background: none;
      opacity: 0.6;
    }
    .center {
      text-align: center;
    }
    .center img {
      max-width: 100%;
      height: auto;
    }
    pre {
      color: #f8f8f2;
      background-color: #282a36;
      -moz-tab-size: 4;
      -o-tab-size: 4;
      tab-size: 4;
    }
    pre code.language-diff span:nth-child(1n + 7) {
      color: #50fa7b;
    }
    .switch-wrapper {
      display: flex;
      align-items: center;
      position: absolute;
      top: 1rem;
      right: 2rem;
      font-size: 80%;
    }
    .switch {
      position: relative;
      margin: 0 0.4rem;
    }
    .switch input {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
      opacity: 0;
      cursor: pointer;
    }
    .switch label {
      display: flex;
      border-radius: 9999px;
      height: 0.8rem;
      width: 1.8rem;
      background-color: rgba(0, 0, 0, .1);
      border: 1px solid rgba(0, 0, 0, .3);
    }
    .switch input:checked + label {
      background-color: #357edd;
      border: 1px solid #357edd;
      justify-content: flex-end;
    }
    .switch div {
      width: calc(0.8rem - 2px);
      height: calc(0.8rem - 2px);
      border-radius: 9999px;
      border: 1px solid rgba(0, 0, 0, .3);
      background-color: #FFF;
    }
     
    body.dark table.highlight tr:nth-child(even) {
      background-color: rgb(246, 248, 250);
    }
    body.dark table.highlight td,
    body.dark table.highlight th {
      border-color: rgba(27,31,35,.3);
    }
  </style>
  <script type="text/javascript" charset="utf-8" defer>
    document.addEventListener('DOMContentLoaded', function() {
      
      const defaultIndex = window.matchMedia('(prefers-color-scheme)').media !== 'not all' ? '1' : '0';
      
      const activeIndex = JSON.parse(window.localStorage.getItem('activeIndex') || defaultIndex);

      const themes = document.getElementById('themes').content.split(',');
      const stylesheet = document.getElementById('stylesheet');
      if (stylesheet.href !== themes[activeIndex]) {
        stylesheet.href = themes[activeIndex];
      }

      document.body.className = activeIndex === 0 ? 'light' : 'dark';

      const theSwitch = document.getElementById('switch');
      theSwitch.checked = Boolean(activeIndex);
      theSwitch.addEventListener('change', function() {
        const newIndex = Number(this.checked);
        stylesheet.href = themes[newIndex];
        document.body.className = newIndex === 0 ? 'light' : 'dark';
        window.localStorage.setItem('activeIndex', newIndex);
      });
    });
  </script>
</head>
<body>
<div class="switch-wrapper">
  <div>Light</div>
  <div class="switch">
    <input id="switch" type="checkbox" style="display: none" />
    <label for="switch">
      <div></div>
    </label>
  </div>
  <div>Dark</div>
</div>

<style type="text/css" media="screen">
body.dark .gist table.highlight tr:nth-child(even) { background-color: inherit }
 
.gist{font-size: 18px}.gist-meta, .gist-file, .octotree_toggle, ul.comparison-list > li.title,button.button, a.button, span.button, button.minibutton, a.minibutton,span.minibutton, .clone-url-button > .clone-url-link{background: linear-gradient(#202020, #181818) !important;border-color: #383838 !important;border-radius: 0 0 3px 3px !important;text-shadow: none !important;color: #b5b5b5 !important}.markdown-format pre, .markdown-body pre, .markdown-format .highlight pre,.markdown-body .highlight pre, body.blog pre, #facebox pre, .blob-expanded,.terminal, .copyable-terminal, #notebook .input_area, .blob-code-context,.markdown-format code, body.blog pre > code, .api pre, .api code,.CodeMirror,.highlight{background-color: #1D1F21!important;color: #C5C8C6!important}.gist .blob-code{padding: 1px 10px !important;text-align: left;background: #000;border: 0}::selection{background: #24890d;color: #fff;text-shadow: none}::-moz-selection{background: #24890d;color: #fff;text-shadow: none}.blob-num{padding: 10px 8px 9px;text-align: right;color: #6B6B6B!important;border: 0}.blob-code,.blob-code-inner{color: #C5C8C6!important}.pl-c,.pl-c span{color: #969896!important;font-style: italic!important}.pl-c1{color: #DE935F!important}.pl-cce{color: #DE935F!important}.pl-cn{color: #DE935F!important}.pl-coc{color: #DE935F!important}.pl-cos{color: #B5BD68!important}.pl-e{color: #F0C674!important}.pl-ef{color: #F0C674!important}.pl-en{color: #F0C674!important}.pl-enc{color: #DE935F!important}.pl-enf{color: #F0C674!important}.pl-enm{color: #F0C674!important}.pl-ens{color: #DE935F!important}.pl-ent{color: #B294BB!important}.pl-entc{color: #F0C674!important}.pl-enti{color: #F0C674!important;font-weight: 700!important}.pl-entm{color: #C66!important}.pl-eoa{color: #B294BB!important}.pl-eoac{color: #C66!important}.pl-eoac .pl-pde{color: #C66!important}.pl-eoai{color: #B294BB!important}.pl-eoai .pl-pde{color: #B294BB!important}.pl-eoi{color: #F0C674!important}.pl-k{color: #B294BB!important}.pl-ko{color: #B294BB!important}.pl-kolp{color: #B294BB!important}.pl-kos{color: #DE935F!important}.pl-kou{color: #DE935F!important}.pl-mai .pl-sf{color: #C66!important}.pl-mb{color: #B5BD68!important;font-weight: 700!important}.pl-mc{color: #B294BB!important}.pl-mh .pl-pdh{color: #DE935F!important}.pl-mi{color: #B294BB!important;font-style: italic!important}.pl-ml{color: #B5BD68!important}.pl-mm{color: #C66!important}.pl-mp{color: #81A2BE!important}.pl-mp1 .pl-sf{color: #81A2BE!important}.pl-mq{color: #DE935F!important}.pl-mr{color: #B294BB!important}.pl-ms{color: #B294BB!important}.pl-pdb{color: #B5BD68!important;font-weight: 700!important}.pl-pdc{color: #969896!important;font-style: italic!important}.pl-pdc1{color: #DE935F!important}.pl-pde{color: #DE935F!important}.pl-pdi{color: #B294BB!important;font-style: italic!important}.pl-pds{color: #B5BD68!important}.pl-pdv{color: #C66!important}.pl-pse{color: #DE935F!important}.pl-pse .pl-s2{color: #DE935F!important}.pl-s{color: #B294BB!important}.pl-s1{color: #B5BD68!important}.pl-s2{color: #c5c8c6!important}.pl-mp .pl-s3{color: #B294BB!important}.pl-s3{color: #81a2be!important}.pl-sc{color: #c5c8c6!important}.pl-scp{color: #DE935F!important}.pl-sf{color: #DAD085!important}.pl-smc{color: #F0C674!important}.pl-smi{color: #c5c8c6!important}.pl-smp{color: #c5c8c6!important}.pl-sok{color: #B294BB!important}.pl-sol{color: #B5BD68!important}.pl-som{color: #C66!important}.pl-sr{color: #C66!important}.pl-sra{color: #B294BB!important}.pl-src{color: #B294BB!important}.pl-sre{color: #B294BB!important}.pl-st{color: #B294BB!important}.pl-stj{color: #c5c8c6!important}.pl-stp{color: #DE935F!important}.pl-sv{color: #DE935F!important}.pl-v{color: #DE935F!important}.pl-vi{color: #DE935F!important}.pl-vo{color: #C66!important}.pl-vpf{color: #DE935F!important}.pl-mi1{color: #8F9D6A!important;background: rgba(0,64,0,.5)!important}.pl-mdht{color: #8F9D6A!important;background: rgba(0,64,0,.5)!important}.pl-md{color: #C66!important;background: rgba(64,0,0,.5)!important}.pl-mdhf{color: #C66!important;background: rgba(64,0,0,.5)!important}.pl-mdr{color: #DE935F!important;font-weight: 400!important}.pl-mdh{color: #C66!important;font-weight: 400!important}.pl-mdi{color: #C66!important;font-weight: 400!important}.pl-ib{background-color: #C66!important}.pl-id{background-color: #C66!important;color: #fff!important}.pl-ii{background-color: #C66!important;color: #fff!important}.pl-iu{background-color: #C66!important}.pl-mo{color: #c5c8c6!important}.pl-mri{color: #DE935F!important}.pl-ms1{background-color: #c5c8c6!important}.pl-va{color: #DE935F!important}.pl-vpu{color: #DE935F!important}.pl-entl{color: #c5c8c6!important}.CodeMirror-gutters{background: #222!important;border-right: 1px solid #484848!important}.CodeMirror-guttermarker{color: #fff!important}.CodeMirror-guttermarker-subtle{color: #aaa!important}.CodeMirror-linenumber{color: #aaa!important}.CodeMirror-cursor{border-left: 1px solid #fff!important}.CodeMirror-activeline-background{background: #27282E!important}.CodeMirror-matchingbracket{outline: 1px solid grey!important;color: #fff!important}.cm-keyword{color: #f9ee98!important}.cm-atom{color: #FC0!important}.cm-number{color: #ca7841!important}.cm-def{color: #8DA6CE!important}.cm-variable-2,span.cm-tag{color: #607392!important}.cm-variable-3,span.cm-def{color: #607392!important}.cm-operator{color: #cda869!important}.cm-comment{color: #777!important;font-style: italic!important;font-weight: 400!important}.cm-string{color: #8f9d6a!important}.cm-string-2{color: #bd6b18!important}.cm-meta{background-color: #141414!important;color: #f7f7f7!important}.cm-builtin{color: #cda869!important}.cm-tag{color: #997643!important}.cm-attribute{color: #d6bb6d!important}.cm-header{color: #FF6400!important}.cm-hr{color: #AEAEAE!important}.cm-link{color: #ad9361!important;font-style: italic!important;text-decoration: none!important}.cm-error{border-bottom: 1px solid red!important}#notebook .highlight table{background: #1d1f21!important;color: #c5c8c6!important}.highlight .hll{background-color: #373b41!important}.highlight .c{color: #969896!important}.highlight .err{color: #c66!important}.highlight .k{color: #b294bb!important}.highlight .l{color: #de935f!important}.highlight .h,.highlight .n{color: #c5c8c6!important}.highlight .o{color: #8abeb7!important}.highlight .p{color: #c5c8c6!important}.highlight .cm{color: #969896!important}.highlight .cp{color: #969896!important}.highlight .c1{color: #969896!important}.highlight .cs{color: #969896!important}.highlight .gd{color: #c66!important}.highlight .ge{font-style: italic!important}.highlight .gh{color: #c5c8c6!important;font-weight: 700!important}.highlight .gi{color: #b5bd68!important}.highlight .gp{color: #969896!important;font-weight: 700!important}.highlight .gs{font-weight: 700!important}.highlight .gu{color: #8abeb7!important;font-weight: 700!important}.highlight .kc{color: #b294bb!important}.highlight .kd{color: #b294bb!important}.highlight .kn{color: #8abeb7!important}.highlight .kp{color: #b294bb!important}.highlight .kr{color: #b294bb!important}.highlight .kt{color: #f0c674!important}.highlight .ld{color: #b5bd68!important}.highlight .m{color: #de935f!important}.highlight .s{color: #b5bd68!important}.highlight .na{color: #81a2be!important}.highlight .nb{color: #c5c8c6!important}.highlight .nc{color: #f0c674!important}.highlight .no{color: #c66!important}.highlight .nd{color: #8abeb7!important}.highlight .ni{color: #c5c8c6!important}.highlight .ne{color: #c66!important}.highlight .nf{color: #81a2be!important}.highlight .nl{color: #c5c8c6!important}.highlight .nn{color: #f0c674!important}.highlight .nx{color: #81a2be!important}.highlight .py{color: #c5c8c6!important}.highlight .nt{color: #8abeb7!important}.highlight .nv{color: #c66!important}.highlight .ow{color: #8abeb7!important}.highlight .w{color: #c5c8c6!important}.highlight .mf{color: #de935f!important}.highlight .mh{color: #de935f!important}.highlight .mi{color: #de935f!important}.highlight .mo{color: #de935f!important}.highlight .sb{color: #b5bd68!important}.highlight .sc{color: #c5c8c6!important}.highlight .sd{color: #969896!important}.highlight .s2{color: #b5bd68!important}.highlight .se{color: #de935f!important}.highlight .sh{color: #b5bd68!important}.highlight .si{color: #de935f!important}.highlight .sx{color: #b5bd68!important}.highlight .sr{color: #b5bd68!important}.highlight .s1{color: #b5bd68!important}.highlight .ss{color: #b5bd68!important}.highlight .bp{color: #c5c8c6!important}.highlight .vc{color: #c66!important}.highlight .vg{color: #c66!important}.highlight .vi{color: #c66!important}.highlight .il{color: #de935f!important}
</style>
<div itemscope itemtype="http://schema.org/BlogPosting">
  <div class="container">
    <header class="grid center">
      <div class="cell menu">
        <h1 itemprop="name headline">Function Currying To Make Reusable Code</h1>
      </div>
    </header>
    <p><a href="https://ohdoylerules.com/" title="Go Back Home">Go home</a></p>
    <div class="the-loop">
      <p class="post-info">
        
          <span class="post-date" itemprop="datePublished">🕒&nbsp;&nbsp;<span>February 17, 2019</span></span>
        
        
        
          &nbsp;<span class="post-category" itemprop="genre about">🏷&nbsp;&nbsp;<span>Web</span></span>
        
      </p>
      <div itemprop="ArticleBody text" class="main-content"><p>Function currying. If you haven&rsquo;t heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve readability.</p>
<p>Currying is just a fancy way to describe a <em>function that returns a function</em>. Pretty simple right? I mean this literally. There are no gotchas here. A <em>function that returns a function</em> is a curried function. Enough words though. I will show you some common code samples and then refactor them to use curried functions.</p>
<h3 id="cleaning-up-prototype-chains">Cleaning up prototype chains</h3>
<p>I&rsquo;m sure everyone has written code like this before:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#ff79c6">const</span> items <span style="color:#ff79c6">=</span> [<span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">2</span>, <span style="color:#bd93f9">3</span>, <span style="color:#bd93f9">4</span>];
</span></span><span style="display:flex;"><span>items.map((num) =&gt; <span style="color:#f1fa8c">`item-</span><span style="color:#f1fa8c">${</span>num<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>);
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// returns [&#39;item-1&#39;, &#39;item-2&#39;, &#39;item-3&#39;, &#39;item-4&#39;]
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>items.map((num) =&gt; <span style="color:#f1fa8c">`key-</span><span style="color:#f1fa8c">${</span>num<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>);
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// returns [&#39;key-1&#39;, &#39;key-2&#39;, &#39;key-3&#39;, &#39;key-4&#39;]
</span></span></span></code></pre></div><p>You can see that this function is very specific to the area it&rsquo;s being used. We support a variable number of items via our array and they don&rsquo;t even have to be numbers. We can build new results with either numbers or strings. That&rsquo;s great. But we do have repeated code that essentially does the same thing. The only difference is the string we are prepending.</p>
<p>Here is an example using currying to <em>D.R.Y</em> (don&rsquo;t repeat yourself) this up:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#ff79c6">const</span> labelMaker <span style="color:#ff79c6">=</span> (label) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> (num) =&gt; <span style="color:#f1fa8c">`</span><span style="color:#f1fa8c">${</span>label<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">-</span><span style="color:#f1fa8c">${</span>num<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> items <span style="color:#ff79c6">=</span> [<span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">2</span>, <span style="color:#bd93f9">3</span>, <span style="color:#bd93f9">4</span>];
</span></span><span style="display:flex;"><span>items.map(labelMaker(<span style="color:#f1fa8c">&#39;item&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// returns [&#39;item-1&#39;, &#39;item-2&#39;, &#39;item-3&#39;, &#39;item-4&#39;]
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>items.map(labelMaker(<span style="color:#f1fa8c">&#39;key&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// returns [&#39;key-1&#39;, &#39;key-2&#39;, &#39;key-3&#39;, &#39;key-4&#39;]
</span></span></span></code></pre></div><p>When refactoring to curried functions, the thing to keep in mind is <em>what is unique about each function and what is the same?</em></p>
<p>Things that are unique should be the arguments to the first function call. The things that are the same should be the second function that is called. At least when using this pattern of currying.</p>
<p>We can actually go a step further again and make this function very flexible:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#ff79c6">const</span> labelMaker <span style="color:#ff79c6">=</span> (label, splitter <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;-&#39;</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> (num) =&gt; <span style="color:#f1fa8c">`</span><span style="color:#f1fa8c">${</span>label<span style="color:#f1fa8c">}${</span>splitter<span style="color:#f1fa8c">}${</span>num<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> items <span style="color:#ff79c6">=</span> [<span style="color:#bd93f9">1</span>, <span style="color:#bd93f9">2</span>, <span style="color:#bd93f9">3</span>, <span style="color:#bd93f9">4</span>];
</span></span><span style="display:flex;"><span>items.map(labelMaker(<span style="color:#f1fa8c">&#39;item&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// returns [&#39;item-1&#39;, &#39;item-2&#39;, &#39;item-3&#39;, &#39;item-4&#39;]
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>items.map(labelMaker(<span style="color:#f1fa8c">&#39;key&#39;</span>, <span style="color:#f1fa8c">&#39;_&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// returns [&#39;key_1&#39;, &#39;key_2&#39;, &#39;key_3&#39;, &#39;key_4&#39;]
</span></span></span></code></pre></div><p>Now that you have seen this in action under a simple example. I think it is useful to chat about using currying to create &ldquo;constructors&rdquo;.</p>
<h3 id="using-currying-to-create-constructors">Using currying to create &ldquo;constructors&rdquo;</h3>
<p>Take this example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#ff79c6">const</span> logger <span style="color:#ff79c6">=</span> (level <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;info&#39;</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> console[level].bind(console);
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>In this example, we have a function called <code>logger</code> which returns an instance of <code>console</code> but bound to whichever <code>level</code> you want. Here is how we might use it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#ff79c6">const</span> logger <span style="color:#ff79c6">=</span> (level <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;info&#39;</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> console[level].bind(console);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> infoLogger <span style="color:#ff79c6">=</span> logger();
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> errorLogger <span style="color:#ff79c6">=</span> logger(<span style="color:#f1fa8c">&#39;error&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> traceLogger <span style="color:#ff79c6">=</span> logger(<span style="color:#f1fa8c">&#39;trace&#39;</span>);
</span></span></code></pre></div><p>See what I mean about creating &ldquo;constructors&rdquo;? We can use the first function almost like a constructor that will return a function that will be called with that first set of arguments applied in some way. Pretty useful right? Instead of making classes or global variables, we can make curried functions that can store those values for use in the returned function.</p>
<h3 id="currying-event-handlers">Currying event handlers</h3>
<p>Given the &ldquo;constructor&rdquo; nature of function currying, I typically use these for event handlers. I think of it like tagging. I&rsquo;ll show you why here:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#6272a4">/* &lt;input type=&#34;text&#34; id=&#34;username&#34;&gt; */</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> handleInput <span style="color:#ff79c6">=</span> (name) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> ({ target<span style="color:#ff79c6">:</span> { value } }) =&gt; {
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#f1fa8c">`</span><span style="color:#f1fa8c">${</span>name<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c"> input was set to &#34;</span><span style="color:#f1fa8c">${</span>value<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">&#34;`</span>);
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> username <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;username&#39;</span>);
</span></span><span style="display:flex;"><span>username.addEventListener(<span style="color:#f1fa8c">&#39;input&#39;</span>, handleInput(<span style="color:#f1fa8c">&#39;username&#39;</span>));
</span></span></code></pre></div><p>In this example, we are adding an event handler to an input and basically giving it a label of &ldquo;username&rdquo;. Not too special at the moment. If we wanted just the name that would be easy. So let&rsquo;s make this function handle more input types:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#6272a4">/**
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * &lt;input type=&#34;text&#34; id=&#34;username&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * &lt;input type=&#34;checkbox&#34; id=&#34;accept&#34; value=&#34;1&#34; /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * &lt;select id=&#34;age&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *   &lt;option value=&#34;below 18&#34;&gt;below 18&lt;/option&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *   &lt;option value=&#34;above 18&#34;&gt;above 18&lt;/option&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * &lt;/select&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> **/</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> handleInput <span style="color:#ff79c6">=</span> (name) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> ({ target<span style="color:#ff79c6">:</span> { type, value, checked } }) =&gt; {
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#f1fa8c">`</span><span style="color:#f1fa8c">${</span>name<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c"> input was set to &#34;</span><span style="color:#f1fa8c">${</span>type <span style="color:#ff79c6">!==</span> <span style="color:#f1fa8c">&#39;checkbox&#39;</span> <span style="color:#ff79c6">?</span> value <span style="color:#ff79c6">:</span> checked<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">&#34;`</span>);
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> username <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;username&#39;</span>);
</span></span><span style="display:flex;"><span>username.addEventListener(<span style="color:#f1fa8c">&#39;input&#39;</span>, handleInput(<span style="color:#f1fa8c">&#39;username&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> accept <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;accept&#39;</span>);
</span></span><span style="display:flex;"><span>accept.addEventListener(<span style="color:#f1fa8c">&#39;change&#39;</span>, handleInput(<span style="color:#f1fa8c">&#39;accept&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> age <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;age&#39;</span>);
</span></span><span style="display:flex;"><span>age.addEventListener(<span style="color:#f1fa8c">&#39;change&#39;</span>, handleInput(<span style="color:#f1fa8c">&#39;age&#39;</span>));
</span></span></code></pre></div><p>Ok, so now we see 3 different input types, all using the same function but the output is &ldquo;tagged&rdquo; via that first function&rsquo;s argument.</p>
<p>We can actually clean this up more though:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#6272a4">/**
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * &lt;input type=&#34;text&#34; id=&#34;username&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * &lt;input type=&#34;checkbox&#34; id=&#34;accept&#34; value=&#34;1&#34; /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * &lt;select id=&#34;age&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *   &lt;option value=&#34;below 18&#34;&gt;below 18&lt;/option&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *   &lt;option value=&#34;above 18&#34;&gt;above 18&lt;/option&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * &lt;/select&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> **/</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> handleInput <span style="color:#ff79c6">=</span> (name, prop <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;value&#39;</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">return</span> ({ target }) =&gt; {
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#f1fa8c">`</span><span style="color:#f1fa8c">${</span>name<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c"> input was set to &#34;</span><span style="color:#f1fa8c">${</span>target[prop]<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">&#34;`</span>);
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> username <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;username&#39;</span>);
</span></span><span style="display:flex;"><span>username.addEventListener(<span style="color:#f1fa8c">&#39;input&#39;</span>, handleInput(<span style="color:#f1fa8c">&#39;username&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> accept <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;accept&#39;</span>);
</span></span><span style="display:flex;"><span>accept.addEventListener(<span style="color:#f1fa8c">&#39;change&#39;</span>, handleInput(<span style="color:#f1fa8c">&#39;accept&#39;</span>, <span style="color:#f1fa8c">&#39;checked&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">const</span> age <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;age&#39;</span>);
</span></span><span style="display:flex;"><span>age.addEventListener(<span style="color:#f1fa8c">&#39;change&#39;</span>, handleInput(<span style="color:#f1fa8c">&#39;age&#39;</span>));
</span></span></code></pre></div><p>Now you can see our function handles the one special exception on the &ldquo;checkbox&rdquo; via an optional argument instead of a ternary. <strong>Slick!</strong></p>
<p>This becomes a really nice pattern when working in React or other virtual DOMs since your function can really only access the data directly available to it. Here is the same thing wrapped up to use just a single class method to manage the state for 3 different inputs:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#ff79c6">import</span> React from <span style="color:#f1fa8c">&#39;react&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">import</span> ReactDOM from <span style="color:#f1fa8c">&#39;react-dom&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">class</span> Form <span style="color:#ff79c6">extends</span> React.Component {
</span></span><span style="display:flex;"><span>  state <span style="color:#ff79c6">=</span> {
</span></span><span style="display:flex;"><span>    username<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">null</span>,
</span></span><span style="display:flex;"><span>    accept<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">false</span>,
</span></span><span style="display:flex;"><span>    age<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;below 18&#39;</span>,
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  handleInput <span style="color:#ff79c6">=</span> (name, prop <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;value&#39;</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">return</span> ({ target }) =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">this</span>.setState({
</span></span><span style="display:flex;"><span>        [name]<span style="color:#ff79c6">:</span> target[prop]
</span></span><span style="display:flex;"><span>      });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  render() {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">return</span> (<span style="color:#ff79c6">&lt;</span>div className<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;form&#39;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;</span>input type<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;text&#39;</span> onInput<span style="color:#ff79c6">=</span>{<span style="color:#ff79c6">this</span>.handleInput(<span style="color:#f1fa8c">&#39;username&#39;</span>)} <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;</span>input type<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;checkbox&#39;</span> onChange<span style="color:#ff79c6">=</span>{<span style="color:#ff79c6">this</span>.handleInput(<span style="color:#f1fa8c">&#39;accept&#39;</span>, <span style="color:#f1fa8c">&#39;checked&#39;</span>)} <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;</span>select onChange<span style="color:#ff79c6">=</span>{<span style="color:#ff79c6">this</span>.handleInput(<span style="color:#f1fa8c">&#39;age&#39;</span>)}<span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;</span>option value<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;below 18&#39;</span><span style="color:#ff79c6">&gt;</span>below <span style="color:#bd93f9">18</span><span style="color:#ff79c6">&lt;</span>/option&gt;
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">&lt;</span>option value<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#39;above 18&#39;</span><span style="color:#ff79c6">&gt;</span>above <span style="color:#bd93f9">18</span><span style="color:#ff79c6">&lt;</span>/option&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;</span>/select&gt;
</span></span><span style="display:flex;"><span>      {<span style="color:#6272a4">/* shows the state in the document body - not required */</span>}
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;</span>pre<span style="color:#ff79c6">&gt;&lt;</span>code<span style="color:#ff79c6">&gt;</span>{JSON.stringify(<span style="color:#ff79c6">this</span>.state)}<span style="color:#ff79c6">&lt;</span>/code&gt;&lt;/pre&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;</span>/div&gt;);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ReactDOM.render(<span style="color:#ff79c6">&lt;</span>Form <span style="color:#ff79c6">/&gt;</span>, <span style="color:#8be9fd;font-style:italic">document</span>.body);
</span></span></code></pre></div><p><em><a href="https://6nv8q86yk3.codesandbox.io/">View this example on codesandbox.</a></em></p>
<p>This is where I think curried functions really shine. This is a very compact way to support a lot of different form items but they can all use the same function even though they may all be unique items. Obviously, you can use this for any type of event handlers. Hopefully you can see the flexibility here and the potential to make simpler code that is more usable.</p>
<h3 id="in-summation">In summation</h3>
<p>So next time you see some of these patterns pop up in your code (or some smells with global variables and repeated code) maybe reach for a curried function instead. <em>Delicious</em>.</p>
</div>
      <p><a href="https://ohdoylerules.com/" title="Go Back Home">Go home</a></p>
      <hr>
      <div class="media grid">
        <div class="media-left">
          <a href="https://twitter.com/james2doyle" target="_blank" class="post-author-link">
            <img src="https://www.gravatar.com/avatar/b7375c88e1864c4ddf0d7bdab58e4cca?s=120&amp;d=mm&amp;r=g" alt="James Doyle Profile Picture" width="120" height="120">
          </a>
        </div>
        <div class="media-body cell -9of12">
          <div class="media-heading"><h3 itemprop="author publisher creator provider">James Doyle</h3></div>
          <div class="media-content">
            <p>I'm a full-stack developer, co-organizer of <a href="https://www.meetup.com/vancouver-php" title="PHP Vancouver" target="_blank">PHP Vancouver</a> meetup, and winner of a <a href="http://www.canadianbusiness.com/innovation/developer-30-under-30-gallery/image/20/" title="Canadian Developer 30 under 30 award" target="_blank">Canadian Developer 30 under 30 award</a>. I'm a huge Open Source advocate and contributor to a lot of projects in my community. When I am not sitting at a computer, I'm trying to perfect some other skill.</p>
          </div>
        </div>
      </div>
      <hr>
      
        <div id="disqus_thread" itemprop="comment"></div>
        <script type="text/javascript">(function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//ohdoylerules.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })();</script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
    </div>
  </div>
</div>


<script defer>
  
  
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('https:\/\/ohdoylerules.com\/sw.js');
  }
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30413344-2']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'https://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  
</script>
</body>
</html>

