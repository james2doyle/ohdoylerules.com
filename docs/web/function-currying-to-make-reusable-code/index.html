<!doctype html><html lang=en><head><meta charset=utf-8><meta content=public http-equiv=Cache-control><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1,maximum-scale=5" name=viewport><title>Function Currying To Make Reusable Code | OhDoyleRules</title><meta content="Function Currying To Make Reusable Code | OhDoyleRules" name=twitter:title><meta content=KM-5h_iJ7JJsGeUp4ncEoYCBKft1ko1A4gBpjIzT0p4 name=google-site-verification><meta content="Function Currying To Make Reusable Code" itemprop=name><meta content=OhDoyleRules property=og:site_name><meta content=https://ohdoylerules.com/web/function-currying-to-make-reusable-code/ itemprop=url><meta content=james2doyle@gmail.com itemprop=email><meta content=https://ohdoylerules.com/web/function-currying-to-make-reusable-code/ property=og:url><meta itemprop="image logo" content=/icons/logo.png><meta content=/icons/logo.png property=og:image><link href=/icons/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/icons/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/icons/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/site.webmanifest rel=manifest><link color=#333333 href=/icons/safari-pinned-tab.svg rel=mask-icon><link href=/icons/favicon.ico rel=icon sizes=any><link href=/icons/favicon.svg rel=icon type=image/svg+xml><meta content=/browserconfig.xml name=msapplication-config><meta content=#ffffff name=msapplication-TileColor><meta content=#ffffff name=theme-color><meta content=summary name=twitter:card><meta content=@james2doyle name=twitter:site><meta content="Function Currying To Make Reusable Code" name=twitter:title><meta content=@james2doyle name=twitter:creator><meta content=/icons/logo.png name=twitter:image><meta content=/ name=twitter:domain><link href=/icons/logo.svg rel=icon><meta content="Function currying. If you haven't heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve reaâ€¦" name=description><meta content="Function currying. If you haven't heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve reaâ€¦" itemprop=description><meta content="Function currying. If you haven't heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve reaâ€¦" property=og:description><meta content="Function currying. If you haven't heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve reaâ€¦" name=twitter:description><link href=https://c.disquscdn.com rel=dns-prefetch><meta content=article property=og:type><meta content="Function Currying To Make Reusable Code | OhDoyleRules" property=og:title><meta content="james2doyle@gmail.com James Doyle" property=article:author><meta content="javascript, currying, event, handlers, react, state" itemprop=keywords><meta content="javascript, currying, event, handlers, react, state" property=article:tag><meta content="javascript, currying, event, handlers, react, state" property=og:keywords><link href=https://www.google-analytics.com rel=dns-prefetch><link rel="shortcut icon" href=/favicon.ico><link href=https://ohdoylerules.com/web/function-currying-to-make-reusable-code/ rel=canonical><link href=https://ohdoylerules.com/atom.xml rel=alternate title=atom type=application/atom+xml><style>body{font-feature-settings:'lnum' 1;font-variant-numeric:slashed-zero;text-rendering:geometricPrecision;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}.post-info{margin-bottom:1rem}a.none{color:inherit;border:none;opacity:1}a.none:hover {background:none;opacity:.6}.center{text-align:center}.center img{max-width:100%;height:auto}pre{color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4}pre code.language-diff span:nth-child(1n + 7){color:#50fa7b}body.dark table.highlight tr:nth-child(even){background-color:#f6f8fa}body.dark table.highlight td,body.dark table.highlight th{border-color:rgba(27,31,35,.3)}html.is-changing .transition-fade{view-transition-name:main}:view-transition-old(main){animation:fade .25s ease-in-out both}:view-transition-new(main){animation:fade .25s ease-in-out both reverse}@keyframes fade{from{opacity:1}to{opacity:0}}html.is-changing:not(.swup-native) .transition-fade {will-change:opacity;transition:.25s opacity;opacity:1}html.is-animating:not(.swup-native) .transition-fade {opacity:0}:root{--nc-font-sans:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--nc-font-mono:Consolas,monaco,'Ubuntu Mono','Liberation Mono','Courier New',Courier,monospace;--nc-tx-1:#fff;--nc-tx-2:#eee;--nc-bg-1:#000;--nc-bg-2:#111;--nc-bg-3:#222;--nc-lk-1:#3291ff;--nc-lk-2:#0070f3;--nc-lk-tx:#fff;--nc-ac-1:#7928ca;--nc-ac-tx:#fff}@media (prefers-color-scheme:dark){:root{--nc-tx-1:#fff;--nc-tx-2:#eee;--nc-bg-1:#000;--nc-bg-2:#111;--nc-bg-3:#222;--nc-lk-1:#3291ff;--nc-lk-2:#0070f3;--nc-lk-tx:#fff;--nc-ac-1:#7928ca;--nc-ac-tx:#fff}}*{margin:0;padding:0}address,area,article,aside,audio,blockquote,datalist,details,dl,fieldset,figure,form,iframe,img,input,meter,nav,ol,optgroup,option,output,p,pre,progress,ruby,section,table,textarea,ul,video{margin-bottom:1rem}button,html,input,select{font-family:var(--nc-font-sans)}body{margin:0 auto;max-width:750px;padding:2rem;border-radius:6px;overflow-x:hidden;word-break:break-word;overflow-wrap:break-word;background:var(--nc-bg-1);color:var(--nc-tx-2);font-size:1.03rem;line-height:1.5}:selection{background:var(--nc-ac-1);color:var(--nc-ac-tx)}h1,h2,h3,h4,h5,h6{line-height:1;color:var(--nc-tx-1);padding-top:.875rem}h1,h2,h3{color:var(--nc-tx-1);padding-bottom:2px;margin-bottom:8px;border-bottom:1px solid var(--nc-bg-2)}h4,h5,h6{margin-bottom:.3rem}h1{font-size:2.25rem}h2{font-size:1.85rem}h3{font-size:1.55rem}h4{font-size:1.25rem}h5{font-size:1rem}h6{font-size:.875rem}a{color:var(--nc-lk-1)}a:hover{color:var(--nc-lk-2)}abbr:hover{cursor:help}blockquote{padding:1.5rem;background:var(--nc-bg-2);border-left:5px solid var(--nc-bg-3)}abbr{cursor:help}blockquote:last-child{padding-bottom:0;margin-bottom:0}header{background:var(--nc-bg-2);border-bottom:1px solid var(--nc-bg-3);padding:2rem 1.5rem;margin:-2rem calc(0px - (50vw - 50%)) 2rem;padding-left:calc(50vw - 50%);padding-right:calc(50vw - 50%)}header h1,header h2,header h3{padding-bottom:0;border-bottom:0}header>:first-child{margin-top:0;padding-top:0}header>:last-child{margin-bottom:0}a button,button,input[type=button],input[type=reset],input[type=submit]{font-size:1rem;display:inline-block;padding:6px 12px;text-align:center;text-decoration:none;white-space:nowrap;background:var(--nc-lk-1);color:var(--nc-lk-tx);border:0;border-radius:4px;box-sizing:border-box;cursor:pointer}a button[disabled],button[disabled],input[type=button][disabled],input[type=reset][disabled],input[type=submit][disabled]{cursor:not-allowed;opacity:.5}.button:focus,.button:hover,button:focus,button:hover,input[type=button]:focus,input[type=button]:hover,input[type=reset]:focus,input[type=reset]:hover,input[type=submit]:focus,input[type=submit]:hover{background:var(--nc-lk-2)}code,kbd,pre,samp{font-family:var(--nc-font-mono)}code,kbd,pre,samp{background:var(--nc-bg-2);border:1px solid var(--nc-bg-3);border-radius:4px;padding:3px 6px;font-size:.9rem}kbd{border-bottom:3px solid var(--nc-bg-3)}pre{padding:1rem 1.4rem;max-width:100%;overflow:auto}pre code{background:inherit;font-size:inherit;color:inherit;border:0;padding:0;margin:0}code pre{display:inline;background:inherit;font-size:inherit;color:inherit;border:0;padding:0;margin:0}details{padding:.6rem 1rem;background:var(--nc-bg-2);border:1px solid var(--nc-bg-3);border-radius:4px}summary{cursor:pointer;font-weight:700}details[open]{padding-bottom:.75rem}details[open] summary{margin-bottom:6px}details[open]>:last-child{margin-bottom:0}dt{font-weight:700}dd:before{content:'â†’ '}hr{border:0;border-bottom:1px solid var(--nc-bg-3);margin:1rem auto}fieldset{margin-top:1rem;padding:2rem;border:1px solid var(--nc-bg-3);border-radius:4px}legend{padding:auto .5rem}table{border-collapse:collapse;width:100%}td,th{border:1px solid var(--nc-bg-3);text-align:left;padding:.5rem}th{background:var(--nc-bg-2)}tr:nth-child(even){background:var(--nc-bg-2)}table caption{font-weight:700;margin-bottom:.5rem}textarea{max-width:100%}ol,ul{padding-left:2rem}li{margin-top:.4rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}mark{padding:3px 6px;background:var(--nc-ac-1);color:var(--nc-ac-tx)}input,select,textarea{padding:6px 12px;margin-bottom:.5rem;background:var(--nc-bg-2);color:var(--nc-tx-2);border:1px solid var(--nc-bg-3);border-radius:4px;box-shadow:none;box-sizing:border-box}img{max-width:100%}iframe{border:0;width:100%;height:100%;min-height:300px}</style><style media=screen>body .gist table.highlight tr:nth-child(even){background-color:inherit}.gist{font-size:18px}.clone-url-button > .clone-url-link,.gist-file,.gist-meta,.octotree_toggle,a.button,a.minibutton,button.button,button.minibutton,span.button,span.minibutton,ul.comparison-list > li.title{background:linear-gradient(#202020,#181818)!important;border-color:#383838!important;border-radius:0 0 3px 3px!important;text-shadow:none!important;color:#b5b5b5!important}#facebox pre,#notebook .input_area,.CodeMirror,.api code,.api pre,.blob-code-context,.blob-expanded,.copyable-terminal,.highlight,.markdown-body .highlight pre,.markdown-body pre,.markdown-format .highlight pre,.markdown-format code,.markdown-format pre,.terminal,body.blog pre,body.blog pre > code{background-color:#1d1f21!important;color:#c5c8c6!important}.gist .blob-code{padding:1px 10px!important;text-align:left;background:#000;border:0}:selection{background:#24890d;color:#fff;text-shadow:none}:-moz-selection{background:#24890d;color:#fff;text-shadow:none}.blob-num{padding:10px 8px 9px;text-align:right;color:#6b6b6b!important;border:0}.blob-code,.blob-code-inner{color:#c5c8c6!important}.pl-c,.pl-c span{color:#969896!important;font-style:italic!important}.pl-c1{color:#de935f!important}.pl-cce{color:#de935f!important}.pl-cn{color:#de935f!important}.pl-coc{color:#de935f!important}.pl-cos{color:#b5bd68!important}.pl-e{color:#f0c674!important}.pl-ef{color:#f0c674!important}.pl-en{color:#f0c674!important}.pl-enc{color:#de935f!important}.pl-enf{color:#f0c674!important}.pl-enm{color:#f0c674!important}.pl-ens{color:#de935f!important}.pl-ent{color:#b294bb!important}.pl-entc{color:#f0c674!important}.pl-enti{color:#f0c674!important;font-weight:700!important}.pl-entm{color:#c66!important}.pl-eoa{color:#b294bb!important}.pl-eoac{color:#c66!important}.pl-eoac .pl-pde{color:#c66!important}.pl-eoai{color:#b294bb!important}.pl-eoai .pl-pde{color:#b294bb!important}.pl-eoi{color:#f0c674!important}.pl-k{color:#b294bb!important}.pl-ko{color:#b294bb!important}.pl-kolp{color:#b294bb!important}.pl-kos{color:#de935f!important}.pl-kou{color:#de935f!important}.pl-mai .pl-sf{color:#c66!important}.pl-mb{color:#b5bd68!important;font-weight:700!important}.pl-mc{color:#b294bb!important}.pl-mh .pl-pdh{color:#de935f!important}.pl-mi{color:#b294bb!important;font-style:italic!important}.pl-ml{color:#b5bd68!important}.pl-mm{color:#c66!important}.pl-mp{color:#81a2be!important}.pl-mp1 .pl-sf{color:#81a2be!important}.pl-mq{color:#de935f!important}.pl-mr{color:#b294bb!important}.pl-ms{color:#b294bb!important}.pl-pdb{color:#b5bd68!important;font-weight:700!important}.pl-pdc{color:#969896!important;font-style:italic!important}.pl-pdc1{color:#de935f!important}.pl-pde{color:#de935f!important}.pl-pdi{color:#b294bb!important;font-style:italic!important}.pl-pds{color:#b5bd68!important}.pl-pdv{color:#c66!important}.pl-pse{color:#de935f!important}.pl-pse .pl-s2{color:#de935f!important}.pl-s{color:#b294bb!important}.pl-s1{color:#b5bd68!important}.pl-s2{color:#c5c8c6!important}.pl-mp .pl-s3{color:#b294bb!important}.pl-s3{color:#81a2be!important}.pl-sc{color:#c5c8c6!important}.pl-scp{color:#de935f!important}.pl-sf{color:#dad085!important}.pl-smc{color:#f0c674!important}.pl-smi{color:#c5c8c6!important}.pl-smp{color:#c5c8c6!important}.pl-sok{color:#b294bb!important}.pl-sol{color:#b5bd68!important}.pl-som{color:#c66!important}.pl-sr{color:#c66!important}.pl-sra{color:#b294bb!important}.pl-src{color:#b294bb!important}.pl-sre{color:#b294bb!important}.pl-st{color:#b294bb!important}.pl-stj{color:#c5c8c6!important}.pl-stp{color:#de935f!important}.pl-sv{color:#de935f!important}.pl-v{color:#de935f!important}.pl-vi{color:#de935f!important}.pl-vo{color:#c66!important}.pl-vpf{color:#de935f!important}.pl-mi1{color:#8f9d6a!important;background:rgba(0,64,0,.5)!important}.pl-mdht{color:#8f9d6a!important;background:rgba(0,64,0,.5)!important}.pl-md{color:#c66!important;background:rgba(64,0,0,.5)!important}.pl-mdhf{color:#c66!important;background:rgba(64,0,0,.5)!important}.pl-mdr{color:#de935f!important;font-weight:400!important}.pl-mdh{color:#c66!important;font-weight:400!important}.pl-mdi{color:#c66!important;font-weight:400!important}.pl-ib{background-color:#c66!important}.pl-id{background-color:#c66!important;color:#fff!important}.pl-ii{background-color:#c66!important;color:#fff!important}.pl-iu{background-color:#c66!important}.pl-mo{color:#c5c8c6!important}.pl-mri{color:#de935f!important}.pl-ms1{background-color:#c5c8c6!important}.pl-va{color:#de935f!important}.pl-vpu{color:#de935f!important}.pl-entl{color:#c5c8c6!important}.CodeMirror-gutters{background:#222!important;border-right:1px solid #484848!important}.CodeMirror-guttermarker{color:#fff!important}.CodeMirror-guttermarker-subtle{color:#aaa!important}.CodeMirror-linenumber{color:#aaa!important}.CodeMirror-cursor{border-left:1px solid #fff!important}.CodeMirror-activeline-background{background:#27282e!important}.CodeMirror-matchingbracket{outline:1px solid grey!important;color:#fff!important}.cm-keyword{color:#f9ee98!important}.cm-atom{color:#fc0!important}.cm-number{color:#ca7841!important}.cm-def{color:#8da6ce!important}.cm-variable-2,span.cm-tag{color:#607392!important}.cm-variable-3,span.cm-def{color:#607392!important}.cm-operator{color:#cda869!important}.cm-comment{color:#777!important;font-style:italic!important;font-weight:400!important}.cm-string{color:#8f9d6a!important}.cm-string-2{color:#bd6b18!important}.cm-meta{background-color:#141414!important;color:#f7f7f7!important}.cm-builtin{color:#cda869!important}.cm-tag{color:#997643!important}.cm-attribute{color:#d6bb6d!important}.cm-header{color:#ff6400!important}.cm-hr{color:#aeaeae!important}.cm-link{color:#ad9361!important;font-style:italic!important;text-decoration:none!important}.cm-error{border-bottom:1px solid red!important}#notebook .highlight table{background:#1d1f21!important;color:#c5c8c6!important}.highlight .hll{background-color:#373b41!important}.highlight .c{color:#969896!important}.highlight .err{color:#c66!important}.highlight .k{color:#b294bb!important}.highlight .l{color:#de935f!important}.highlight .h,.highlight .n{color:#c5c8c6!important}.highlight .o{color:#8abeb7!important}.highlight .p{color:#c5c8c6!important}.highlight .cm{color:#969896!important}.highlight .cp{color:#969896!important}.highlight .c1{color:#969896!important}.highlight .cs{color:#969896!important}.highlight .gd{color:#c66!important}.highlight .ge{font-style:italic!important}.highlight .gh{color:#c5c8c6!important;font-weight:700!important}.highlight .gi{color:#b5bd68!important}.highlight .gp{color:#969896!important;font-weight:700!important}.highlight .gs{font-weight:700!important}.highlight .gu{color:#8abeb7!important;font-weight:700!important}.highlight .kc{color:#b294bb!important}.highlight .kd{color:#b294bb!important}.highlight .kn{color:#8abeb7!important}.highlight .kp{color:#b294bb!important}.highlight .kr{color:#b294bb!important}.highlight .kt{color:#f0c674!important}.highlight .ld{color:#b5bd68!important}.highlight .m{color:#de935f!important}.highlight .s{color:#b5bd68!important}.highlight .na{color:#81a2be!important}.highlight .nb{color:#c5c8c6!important}.highlight .nc{color:#f0c674!important}.highlight .no{color:#c66!important}.highlight .nd{color:#8abeb7!important}.highlight .ni{color:#c5c8c6!important}.highlight .ne{color:#c66!important}.highlight .nf{color:#81a2be!important}.highlight .nl{color:#c5c8c6!important}.highlight .nn{color:#f0c674!important}.highlight .nx{color:#81a2be!important}.highlight .py{color:#c5c8c6!important}.highlight .nt{color:#8abeb7!important}.highlight .nv{color:#c66!important}.highlight .ow{color:#8abeb7!important}.highlight .w{color:#c5c8c6!important}.highlight .mf{color:#de935f!important}.highlight .mh{color:#de935f!important}.highlight .mi{color:#de935f!important}.highlight .mo{color:#de935f!important}.highlight .sb{color:#b5bd68!important}.highlight .sc{color:#c5c8c6!important}.highlight .sd{color:#969896!important}.highlight .s2{color:#b5bd68!important}.highlight .se{color:#de935f!important}.highlight .sh{color:#b5bd68!important}.highlight .si{color:#de935f!important}.highlight .sx{color:#b5bd68!important}.highlight .sr{color:#b5bd68!important}.highlight .s1{color:#b5bd68!important}.highlight .ss{color:#b5bd68!important}.highlight .bp{color:#c5c8c6!important}.highlight .vc{color:#c66!important}.highlight .vg{color:#c66!important}.highlight .vi{color:#c66!important}.highlight .il{color:#de935f!important}</style><body><div class="container transition-fade" id=swup><div itemscope itemtype=http://schema.org/BlogPosting><div class=container><header class="grid center"><div class="cell menu"><h1 itemprop="name headline">Function Currying To Make Reusable Code</h1></div></header><p><a title="Go Back Home" href=https://ohdoylerules.com>Go home</a><div class=the-loop><p class=post-info><span class=post-date itemprop=datePublished>ðŸ•’Â Â <span>February 17, 2019</span></span><div itemprop="ArticleBody text" class=main-content><p>Function currying. If you haven't heard of it before, let me introduce you to this magical pattern that can help reduce duplicate code and improve readability.<p>Currying is just a fancy way to describe a <em>function that returns a function</em>. Pretty simple right? I mean this literally. There are no gotchas here. A <em>function that returns a function</em> is a curried function. Enough words though. I will show you some common code samples and then refactor them to use curried functions.<h3 id=cleaning-up-prototype-chains>Cleaning up prototype chains</h3><p>I'm sure everyone has written code like this before:<pre class=language-js data-lang=js style=background:#2b303b;color:#c0c5ce><code class=language-js data-lang=js><span style=color:#b48ead>const </span><span style=color:#bf616a>items </span><span>= [</span><span style=color:#d08770>1</span><span>, </span><span style=color:#d08770>2</span><span>, </span><span style=color:#d08770>3</span><span>, </span><span style=color:#d08770>4</span><span>];
</span><span style=color:#bf616a>items</span><span>.</span><span style=color:#8fa1b3>map</span><span>((</span><span style=color:#bf616a>num</span><span>) </span><span style=color:#b48ead>=> </span><span>`</span><span style=color:#a3be8c>item-${</span><span style=color:#bf616a>num</span><span style=color:#a3be8c>}</span><span>`);
</span><span style=color:#65737e>// returns ['item-1', 'item-2', 'item-3', 'item-4']
</span><span style=color:#bf616a>items</span><span>.</span><span style=color:#8fa1b3>map</span><span>((</span><span style=color:#bf616a>num</span><span>) </span><span style=color:#b48ead>=> </span><span>`</span><span style=color:#a3be8c>key-${</span><span style=color:#bf616a>num</span><span style=color:#a3be8c>}</span><span>`);
</span><span style=color:#65737e>// returns ['key-1', 'key-2', 'key-3', 'key-4']
</span></code></pre><p>You can see that this function is very specific to the area it's being used. We support a variable number of items via our array and they don't even have to be numbers. We can build new results with either numbers or strings. That's great. But we do have repeated code that essentially does the same thing. The only difference is the string we are prepending.<p>Here is an example using currying to <em>D.R.Y</em> (don't repeat yourself) this up:<pre class=language-js data-lang=js style=background:#2b303b;color:#c0c5ce><code class=language-js data-lang=js><span style=color:#b48ead>const </span><span style=color:#8fa1b3>labelMaker </span><span>= (</span><span style=color:#bf616a>label</span><span>) </span><span style=color:#b48ead>=> </span><span>{
</span><span>  </span><span style=color:#b48ead>return </span><span>(</span><span style=color:#bf616a>num</span><span>) </span><span style=color:#b48ead>=> </span><span>`</span><span style=color:#a3be8c>${</span><span style=color:#bf616a>label</span><span style=color:#a3be8c>}-${</span><span style=color:#bf616a>num</span><span style=color:#a3be8c>}</span><span>`;
</span><span>};
</span><span>
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>items </span><span>= [</span><span style=color:#d08770>1</span><span>, </span><span style=color:#d08770>2</span><span>, </span><span style=color:#d08770>3</span><span>, </span><span style=color:#d08770>4</span><span>];
</span><span style=color:#bf616a>items</span><span>.</span><span style=color:#8fa1b3>map</span><span>(</span><span style=color:#8fa1b3>labelMaker</span><span>('</span><span style=color:#a3be8c>item</span><span>'));
</span><span style=color:#65737e>// returns ['item-1', 'item-2', 'item-3', 'item-4']
</span><span style=color:#bf616a>items</span><span>.</span><span style=color:#8fa1b3>map</span><span>(</span><span style=color:#8fa1b3>labelMaker</span><span>('</span><span style=color:#a3be8c>key</span><span>'));
</span><span style=color:#65737e>// returns ['key-1', 'key-2', 'key-3', 'key-4']
</span></code></pre><p>When refactoring to curried functions, the thing to keep in mind is <em>what is unique about each function and what is the same?</em><p>Things that are unique should be the arguments to the first function call. The things that are the same should be the second function that is called. At least when using this pattern of currying.<p>We can actually go a step further again and make this function very flexible:<pre class=language-js data-lang=js style=background:#2b303b;color:#c0c5ce><code class=language-js data-lang=js><span style=color:#b48ead>const </span><span style=color:#8fa1b3>labelMaker </span><span>= (</span><span style=color:#bf616a>label</span><span>, </span><span style=color:#bf616a>splitter </span><span>= '</span><span style=color:#a3be8c>-</span><span>') </span><span style=color:#b48ead>=> </span><span>{
</span><span>  </span><span style=color:#b48ead>return </span><span>(</span><span style=color:#bf616a>num</span><span>) </span><span style=color:#b48ead>=> </span><span>`</span><span style=color:#a3be8c>${</span><span style=color:#bf616a>label</span><span style=color:#a3be8c>}${</span><span style=color:#bf616a>splitter</span><span style=color:#a3be8c>}${</span><span style=color:#bf616a>num</span><span style=color:#a3be8c>}</span><span>`;
</span><span>};
</span><span>
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>items </span><span>= [</span><span style=color:#d08770>1</span><span>, </span><span style=color:#d08770>2</span><span>, </span><span style=color:#d08770>3</span><span>, </span><span style=color:#d08770>4</span><span>];
</span><span style=color:#bf616a>items</span><span>.</span><span style=color:#8fa1b3>map</span><span>(</span><span style=color:#8fa1b3>labelMaker</span><span>('</span><span style=color:#a3be8c>item</span><span>'));
</span><span style=color:#65737e>// returns ['item-1', 'item-2', 'item-3', 'item-4']
</span><span style=color:#bf616a>items</span><span>.</span><span style=color:#8fa1b3>map</span><span>(</span><span style=color:#8fa1b3>labelMaker</span><span>('</span><span style=color:#a3be8c>key</span><span>', '</span><span style=color:#a3be8c>_</span><span>'));
</span><span style=color:#65737e>// returns ['key_1', 'key_2', 'key_3', 'key_4']
</span></code></pre><p>Now that you have seen this in action under a simple example. I think it is useful to chat about using currying to create "constructors".<h3 id=using-currying-to-create-constructors>Using currying to create "constructors"</h3><p>Take this example:<pre class=language-js data-lang=js style=background:#2b303b;color:#c0c5ce><code class=language-js data-lang=js><span style=color:#b48ead>const </span><span style=color:#8fa1b3>logger </span><span>= (</span><span style=color:#bf616a>level </span><span>= '</span><span style=color:#a3be8c>info</span><span>') </span><span style=color:#b48ead>=> </span><span>{
</span><span>  </span><span style=color:#b48ead>return </span><span style=color:#ebcb8b>console</span><span>[</span><span style=color:#bf616a>level</span><span>].</span><span style=color:#8fa1b3>bind</span><span>(</span><span style=color:#ebcb8b>console</span><span>);
</span><span>};
</span></code></pre><p>In this example, we have a function called <code>logger</code> which returns an instance of <code>console</code> but bound to whichever <code>level</code> you want. Here is how we might use it:<pre class=language-js data-lang=js style=background:#2b303b;color:#c0c5ce><code class=language-js data-lang=js><span style=color:#b48ead>const </span><span style=color:#8fa1b3>logger </span><span>= (</span><span style=color:#bf616a>level </span><span>= '</span><span style=color:#a3be8c>info</span><span>') </span><span style=color:#b48ead>=> </span><span>{
</span><span>  </span><span style=color:#b48ead>return </span><span style=color:#ebcb8b>console</span><span>[</span><span style=color:#bf616a>level</span><span>].</span><span style=color:#8fa1b3>bind</span><span>(</span><span style=color:#ebcb8b>console</span><span>);
</span><span>};
</span><span>
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>infoLogger </span><span>= </span><span style=color:#8fa1b3>logger</span><span>();
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>errorLogger </span><span>= </span><span style=color:#8fa1b3>logger</span><span>('</span><span style=color:#a3be8c>error</span><span>');
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>traceLogger </span><span>= </span><span style=color:#8fa1b3>logger</span><span>('</span><span style=color:#a3be8c>trace</span><span>');
</span></code></pre><p>See what I mean about creating "constructors"? We can use the first function almost like a constructor that will return a function that will be called with that first set of arguments applied in some way. Pretty useful right? Instead of making classes or global variables, we can make curried functions that can store those values for use in the returned function.<h3 id=currying-event-handlers>Currying event handlers</h3><p>Given the "constructor" nature of function currying, I typically use these for event handlers. I think of it like tagging. I'll show you why here:<pre class=language-js data-lang=js style=background:#2b303b;color:#c0c5ce><code class=language-js data-lang=js><span style=color:#65737e>/* &LTinput type="text" id="username"> */
</span><span style=color:#b48ead>const </span><span style=color:#8fa1b3>handleInput </span><span>= (</span><span style=color:#bf616a>name</span><span>) </span><span style=color:#b48ead>=> </span><span>{
</span><span>  </span><span style=color:#b48ead>return </span><span>({ </span><span style=color:#bf616a>target</span><span>: { </span><span style=color:#bf616a>value </span><span>} }) </span><span style=color:#b48ead>=> </span><span>{
</span><span>    </span><span style=color:#ebcb8b>console</span><span>.</span><span style=color:#96b5b4>log</span><span>(`</span><span style=color:#a3be8c>${</span><span style=color:#bf616a>name</span><span style=color:#a3be8c>} input was set to "${</span><span style=color:#bf616a>value</span><span style=color:#a3be8c>}"</span><span>`);
</span><span>  };
</span><span>};
</span><span>
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>username </span><span>= document.</span><span style=color:#96b5b4>getElementById</span><span>('</span><span style=color:#a3be8c>username</span><span>');
</span><span style=color:#bf616a>username</span><span>.</span><span style=color:#96b5b4>addEventListener</span><span>('</span><span style=color:#a3be8c>input</span><span>', </span><span style=color:#8fa1b3>handleInput</span><span>('</span><span style=color:#a3be8c>username</span><span>'));
</span></code></pre><p>In this example, we are adding an event handler to an input and basically giving it a label of "username". Not too special at the moment. If we wanted just the name that would be easy. So let's make this function handle more input types:<pre class=language-js data-lang=js style=background:#2b303b;color:#c0c5ce><code class=language-js data-lang=js><span style=color:#65737e>/**
</span><span style=color:#65737e> * &LTinput type="text" id="username"/>
</span><span style=color:#65737e> * &LTinput type="checkbox" id="accept" value="1" />
</span><span style=color:#65737e> * &LTselect id="age">
</span><span style=color:#65737e> *   &LToption value="below 18">below 18&LT/option>
</span><span style=color:#65737e> *   &LToption value="above 18">above 18&LT/option>
</span><span style=color:#65737e> * &LT/select>
</span><span style=color:#65737e> **/
</span><span style=color:#b48ead>const </span><span style=color:#8fa1b3>handleInput </span><span>= (</span><span style=color:#bf616a>name</span><span>) </span><span style=color:#b48ead>=> </span><span>{
</span><span>  </span><span style=color:#b48ead>return </span><span>({ </span><span style=color:#bf616a>target</span><span>: { </span><span style=color:#bf616a>type</span><span>, </span><span style=color:#bf616a>value</span><span>, </span><span style=color:#bf616a>checked </span><span>} }) </span><span style=color:#b48ead>=> </span><span>{
</span><span>    </span><span style=color:#ebcb8b>console</span><span>.</span><span style=color:#96b5b4>log</span><span>(`</span><span style=color:#a3be8c>${</span><span style=color:#bf616a>name</span><span style=color:#a3be8c>} input was set to "${</span><span style=color:#bf616a>type </span><span>!== '</span><span style=color:#a3be8c>checkbox</span><span>' ? </span><span style=color:#bf616a>value </span><span>: </span><span style=color:#bf616a>checked</span><span style=color:#a3be8c>}"</span><span>`);
</span><span>  };
</span><span>};
</span><span>
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>username </span><span>= document.</span><span style=color:#96b5b4>getElementById</span><span>('</span><span style=color:#a3be8c>username</span><span>');
</span><span style=color:#bf616a>username</span><span>.</span><span style=color:#96b5b4>addEventListener</span><span>('</span><span style=color:#a3be8c>input</span><span>', </span><span style=color:#8fa1b3>handleInput</span><span>('</span><span style=color:#a3be8c>username</span><span>'));
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>accept </span><span>= document.</span><span style=color:#96b5b4>getElementById</span><span>('</span><span style=color:#a3be8c>accept</span><span>');
</span><span style=color:#bf616a>accept</span><span>.</span><span style=color:#96b5b4>addEventListener</span><span>('</span><span style=color:#a3be8c>change</span><span>', </span><span style=color:#8fa1b3>handleInput</span><span>('</span><span style=color:#a3be8c>accept</span><span>'));
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>age </span><span>= document.</span><span style=color:#96b5b4>getElementById</span><span>('</span><span style=color:#a3be8c>age</span><span>');
</span><span style=color:#bf616a>age</span><span>.</span><span style=color:#96b5b4>addEventListener</span><span>('</span><span style=color:#a3be8c>change</span><span>', </span><span style=color:#8fa1b3>handleInput</span><span>('</span><span style=color:#a3be8c>age</span><span>'));
</span></code></pre><p>Ok, so now we see 3 different input types, all using the same function but the output is "tagged" via that first function's argument.<p>We can actually clean this up more though:<pre class=language-js data-lang=js style=background:#2b303b;color:#c0c5ce><code class=language-js data-lang=js><span style=color:#65737e>/**
</span><span style=color:#65737e> * &LTinput type="text" id="username"/>
</span><span style=color:#65737e> * &LTinput type="checkbox" id="accept" value="1" />
</span><span style=color:#65737e> * &LTselect id="age">
</span><span style=color:#65737e> *   &LToption value="below 18">below 18&LT/option>
</span><span style=color:#65737e> *   &LToption value="above 18">above 18&LT/option>
</span><span style=color:#65737e> * &LT/select>
</span><span style=color:#65737e> **/
</span><span style=color:#b48ead>const </span><span style=color:#8fa1b3>handleInput </span><span>= (</span><span style=color:#bf616a>name</span><span>, </span><span style=color:#bf616a>prop </span><span>= '</span><span style=color:#a3be8c>value</span><span>') </span><span style=color:#b48ead>=> </span><span>{
</span><span>  </span><span style=color:#b48ead>return </span><span>({ </span><span style=color:#bf616a>target </span><span>}) </span><span style=color:#b48ead>=> </span><span>{
</span><span>    </span><span style=color:#ebcb8b>console</span><span>.</span><span style=color:#96b5b4>log</span><span>(`</span><span style=color:#a3be8c>${</span><span style=color:#bf616a>name</span><span style=color:#a3be8c>} input was set to "${</span><span style=color:#bf616a>target</span><span style=color:#a3be8c>[</span><span style=color:#bf616a>prop</span><span style=color:#a3be8c>]}"</span><span>`);
</span><span>  };
</span><span>};
</span><span>
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>username </span><span>= document.</span><span style=color:#96b5b4>getElementById</span><span>('</span><span style=color:#a3be8c>username</span><span>');
</span><span style=color:#bf616a>username</span><span>.</span><span style=color:#96b5b4>addEventListener</span><span>('</span><span style=color:#a3be8c>input</span><span>', </span><span style=color:#8fa1b3>handleInput</span><span>('</span><span style=color:#a3be8c>username</span><span>'));
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>accept </span><span>= document.</span><span style=color:#96b5b4>getElementById</span><span>('</span><span style=color:#a3be8c>accept</span><span>');
</span><span style=color:#bf616a>accept</span><span>.</span><span style=color:#96b5b4>addEventListener</span><span>('</span><span style=color:#a3be8c>change</span><span>', </span><span style=color:#8fa1b3>handleInput</span><span>('</span><span style=color:#a3be8c>accept</span><span>', '</span><span style=color:#a3be8c>checked</span><span>'));
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>age </span><span>= document.</span><span style=color:#96b5b4>getElementById</span><span>('</span><span style=color:#a3be8c>age</span><span>');
</span><span style=color:#bf616a>age</span><span>.</span><span style=color:#96b5b4>addEventListener</span><span>('</span><span style=color:#a3be8c>change</span><span>', </span><span style=color:#8fa1b3>handleInput</span><span>('</span><span style=color:#a3be8c>age</span><span>'));
</span></code></pre><p>Now you can see our function handles the one special exception on the "checkbox" via an optional argument instead of a ternary. <strong>Slick!</strong><p>This becomes a really nice pattern when working in React or other virtual DOMs since your function can really only access the data directly available to it. Here is the same thing wrapped up to use just a single class method to manage the state for 3 different inputs:<pre class=language-js data-lang=js style=background:#2b303b;color:#c0c5ce><code class=language-js data-lang=js><span style=color:#b48ead>import </span><span style=color:#bf616a>React </span><span style=color:#b48ead>from </span><span>'</span><span style=color:#a3be8c>react</span><span>';
</span><span style=color:#b48ead>import </span><span style=color:#bf616a>ReactDOM </span><span style=color:#b48ead>from </span><span>'</span><span style=color:#a3be8c>react-dom</span><span>';
</span><span>
</span><span style=color:#b48ead>class </span><span style=color:#ebcb8b>Form </span><span style=color:#b48ead>extends </span><span style=color:#eff1f5>React.</span><span style=color:#a3be8c>Component </span><span style=color:#eff1f5>{
</span><span style=color:#eff1f5>  </span><span style=color:#bf616a>state </span><span>= </span><span style=color:#eff1f5>{
</span><span style=color:#eff1f5>    username: </span><span style=color:#d08770>null</span><span style=color:#eff1f5>,
</span><span style=color:#eff1f5>    accept: </span><span style=color:#d08770>false</span><span style=color:#eff1f5>,
</span><span style=color:#eff1f5>    age: </span><span>'</span><span style=color:#a3be8c>below 18</span><span>'</span><span style=color:#eff1f5>,
</span><span style=color:#eff1f5>  }
</span><span style=color:#eff1f5>
</span><span style=color:#eff1f5>  </span><span style=color:#8fa1b3>handleInput </span><span>= (</span><span style=color:#bf616a>name</span><span style=color:#eff1f5>, </span><span style=color:#bf616a>prop </span><span>= '</span><span style=color:#a3be8c>value</span><span>') </span><span style=color:#b48ead>=> </span><span style=color:#eff1f5>{
</span><span style=color:#eff1f5>    </span><span style=color:#b48ead>return </span><span>(</span><span style=color:#eff1f5>{ </span><span style=color:#bf616a>target </span><span style=color:#eff1f5>}</span><span>) </span><span style=color:#b48ead>=> </span><span style=color:#eff1f5>{
</span><span style=color:#eff1f5>      </span><span style=color:#bf616a>this</span><span style=color:#eff1f5>.</span><span style=color:#8fa1b3>setState</span><span style=color:#eff1f5>({
</span><span style=color:#eff1f5>        [</span><span style=color:#bf616a>name</span><span style=color:#eff1f5>]: </span><span style=color:#bf616a>target</span><span style=color:#eff1f5>[</span><span style=color:#bf616a>prop</span><span style=color:#eff1f5>]
</span><span style=color:#eff1f5>      });
</span><span style=color:#eff1f5>    }
</span><span style=color:#eff1f5>  }
</span><span style=color:#eff1f5>
</span><span style=color:#eff1f5>  </span><span style=color:#8fa1b3>render</span><span>() </span><span style=color:#eff1f5>{
</span><span style=color:#eff1f5>    </span><span style=color:#b48ead>return </span><span style=color:#eff1f5>(&LTdiv className=</span><span>'</span><span style=color:#a3be8c>form</span><span>'</span><span style=color:#eff1f5>>
</span><span style=color:#eff1f5>      </span><span><</span><span style=color:#bf616a>input type</span><span>='</span><span style=color:#a3be8c>text</span><span>' </span><span style=color:#bf616a>onInput</span><span>=</span><span style=color:#eff1f5>{this.handleInput(</span><span>'</span><span style=color:#a3be8c>username</span><span>'</span><span style=color:#eff1f5>)} />
</span><span style=color:#eff1f5>      &LTinput type=</span><span>'</span><span style=color:#a3be8c>checkbox</span><span>'</span><span style=color:#eff1f5> onChange={this.handleInput(</span><span>'</span><span style=color:#a3be8c>accept</span><span>'</span><span style=color:#eff1f5>, </span><span>'</span><span style=color:#a3be8c>checked</span><span>'</span><span style=color:#eff1f5>)} />
</span><span style=color:#eff1f5>      &LTselect onChange={this.handleInput(</span><span>'</span><span style=color:#a3be8c>age</span><span>'</span><span style=color:#eff1f5>)}>
</span><span style=color:#eff1f5>        &LToption value=</span><span>'</span><span style=color:#a3be8c>below 18</span><span>'</span><span style=color:#eff1f5>>below 18&LT/option>
</span><span style=color:#eff1f5>        &LToption value=</span><span>'</span><span style=color:#a3be8c>above 18</span><span>'</span><span style=color:#eff1f5>>above 18&LT/option>
</span><span style=color:#eff1f5>      &LT/select>
</span><span style=color:#eff1f5>      {</span><span style=color:#65737e>/* shows the state in the document body - not required */</span><span style=color:#eff1f5>}
</span><span style=color:#eff1f5>      &LTpre>&LTcode>{JSON.stringify(this.state)}&LT/code>&LT/pre>
</span><span style=color:#eff1f5>    &LT/div>);
</span><span style=color:#eff1f5>  }
</span><span style=color:#eff1f5>}
</span><span style=color:#eff1f5>
</span><span style=color:#eff1f5>ReactDOM.render(&LTForm />, document.body);
</span></code></pre><p><em><a rel="noopener nofollow noreferrer" href=https://6nv8q86yk3.codesandbox.io/ target=_blank>View this example on codesandbox.</a></em><p>This is where I think curried functions really shine. This is a very compact way to support a lot of different form items but they can all use the same function even though they may all be unique items. Obviously, you can use this for any type of event handlers. Hopefully you can see the flexibility here and the potential to make simpler code that is more usable.<h3 id=in-summation>In summation</h3><p>So next time you see some of these patterns pop up in your code (or some smells with global variables and repeated code) maybe reach for a curried function instead. <em>Delicious</em>.</div><p><a title="Go Back Home" href=https://ohdoylerules.com>Go home</a><hr><div class="media grid"><div class=media-left><a class=post-author-link href=https://twitter.com/james2doyle target=_blank> <img alt="James Doyle Profile Picture" src="https://www.gravatar.com/avatar/b7375c88e1864c4ddf0d7bdab58e4cca?s=120&d=mm&r=g" height=120 width=120> </a></div><div class="media-body cell -9of12"><div class=media-heading><h3 itemprop="author publisher creator provider">James Doyle</h3></div><div class=media-content><p>I'm a full-stack developer, co-organizer of <a title="PHP Vancouver" href=https://www.meetup.com/vancouver-php target=_blank>PHP Vancouver</a> meetup, and winner of a <a title="Canadian Developer 30 under 30 award" href=http://www.canadianbusiness.com/innovation/developer-30-under-30-gallery/image/20/ target=_blank>Canadian Developer 30 under 30 award</a>. I'm a huge Open Source advocate and contributor to a lot of projects in my community. When I am not sitting at a computer, I'm trying to perfect some other skill.</div></div></div><hr><div id=disqus_thread itemprop=comment></div><script>(function(){var a=document.createElement('script');a.type='text/javascript';a.async=true;a.src='//ohdoylerules.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a class=dsq-brlink href=https://disqus.com>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><script src=https://unpkg.com/swup@4.6.1/dist/Swup.umd.js></script><script>const swup=new Swup({native:true});function handleGists(){const a=document.querySelectorAll('.iframes');[...a].forEach(function(b){b.onload=function(){b.style.height=b.contentWindow.document.body.scrollHeight+ 'px'};b.style.height=b.contentWindow.document.body.scrollHeight+ 'px'})}document.addEventListener('DOMContentLoaded',handleGists);swup.hooks.on('visit:end',handleGists,{priority:100})</script>