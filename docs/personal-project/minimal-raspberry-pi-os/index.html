<!doctype html><html lang=en><head><meta charset=utf-8><meta content=public http-equiv=Cache-control><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1,maximum-scale=5" name=viewport><title>Minimal Raspberry Pi OS | OhDoyleRules</title><meta content="Minimal Raspberry Pi OS | OhDoyleRules" name=twitter:title><meta content=KM-5h_iJ7JJsGeUp4ncEoYCBKft1ko1A4gBpjIzT0p4 name=google-site-verification><meta content="Minimal Raspberry Pi OS" itemprop=name><meta content=OhDoyleRules property=og:site_name><meta content=https://ohdoylerules.com/personal-project/minimal-raspberry-pi-os/ itemprop=url><meta content=james2doyle@gmail.com itemprop=email><meta content=https://ohdoylerules.com/personal-project/minimal-raspberry-pi-os/ property=og:url><meta itemprop="image logo" content=/icons/logo.png><meta content=/icons/logo.png property=og:image><link href=/icons/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/icons/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/icons/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/site.webmanifest rel=manifest><link color=#333333 href=/icons/safari-pinned-tab.svg rel=mask-icon><link href=/icons/favicon.ico rel=icon sizes=any><link href=/icons/favicon.svg rel=icon type=image/svg+xml><meta content=/browserconfig.xml name=msapplication-config><meta content=#ffffff name=msapplication-TileColor><meta content=#ffffff name=theme-color><meta content=summary name=twitter:card><meta content=@james2doyle name=twitter:site><meta content="Minimal Raspberry Pi OS" name=twitter:title><meta content=@james2doyle name=twitter:creator><meta content=/icons/logo.png name=twitter:image><meta content=/ name=twitter:domain><link href=/icons/logo.svg rel=icon><meta content="Setup and improve the Moebius OS for the Raspberry Pi" name=description><meta content="Setup and improve the Moebius OS for the Raspberry Pi" itemprop=description><meta content="Setup and improve the Moebius OS for the Raspberry Pi" property=og:description><meta content="Setup and improve the Moebius OS for the Raspberry Pi" name=twitter:description><meta content=article property=og:type><meta content="Minimal Raspberry Pi OS | OhDoyleRules" property=og:title><meta content="james2doyle@gmail.com James Doyle" property=article:author><meta content=2015-03-20 itemprop=dateModified><meta content="Moebius, debian, linux, raspberry, pi, os, operating system, minimal, small, tiny" itemprop=keywords><meta content="Moebius, debian, linux, raspberry, pi, os, operating system, minimal, small, tiny" property=article:tag><meta content="Moebius, debian, linux, raspberry, pi, os, operating system, minimal, small, tiny" property=og:keywords><link href=https://www.google-analytics.com rel=dns-prefetch><link rel="shortcut icon" href=/favicon.ico><link href=https://ohdoylerules.com/personal-project/minimal-raspberry-pi-os/ rel=canonical><link href=https://ohdoylerules.com/atom.xml rel=alternate title=atom type=application/atom+xml><style>:root{--b-font-main:system-ui,sans-serif;--b-font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--b-txt:#dcd7ba;--b-bg-1:#18171f;--b-bg-2:#2d4f67;--b-line:#727169;--b-link:#7fb4ca;--b-btn-bg:#2d4f67;--b-btn-txt:#c8c093;--b-focus:#2d4f67;--b-accent-1:#e6c384;--b-accent-2:#c34043;--b-selection-color:#c8c093;--b-selection-bg:#2d4f67}*,:before,:after{box-sizing:border-box}::selection{color:var(--b-selection-color);background-color:var(--b-selection-bg)}html:focus-within{scroll-behavior:smooth}body{background:var(--b-bg-1);font-family:var(--b-font-main);font-feature-settings:"lnum" 1;font-variant-numeric:slashed-zero;text-rendering:geometricprecision;color:var(--b-txt);-moz-tab-size:4;tab-size:4;word-break:break-word;overflow-wrap:break-word;-webkit-tap-highlight-color:#0000;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;max-width:70ch;margin:auto;padding:0 1rem;line-height:1.5}h1,h2,h3,h4,h5,h6,p,ul,ol,dl,dd,details,blockquote,pre,figure,table,address,hr,fieldset,iframe,audio,video{margin:0 0 1.5rem}h1,h2,h3,h4,h5,h6{text-wrap:balance;margin-top:2rem;line-height:1.25}h1{font-size:2rem}h2{font-size:1.5rem}h3{font-size:1.25rem}h4{font-size:1rem}h5{font-size:.875rem}h6{font-size:.75rem}a{color:var(--b-link);text-decoration:none}a:hover{text-decoration:underline}img,video,svg{max-width:100%;height:auto}embed,iframe,object{max-width:100%}iframe{border-style:none;width:100%;height:100%}abbr[title]{text-decoration:underline dotted}b,strong{font-weight:700}blockquote{margin-trim:block;border-left:.25rem solid var(--b-accent-2);margin-left:0;padding:.5rem 0 .5rem 1.5rem}blockquote p{margin-bottom:0}small{font-size:.875rem}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}hr{border:0;border-bottom:1px solid var(--b-line);height:0}mark{background:var(--b-bg-2);color:var(--b-txt);border-radius:.25rem;padding:.125rem .25rem}pre,code,kbd,samp,tt,var{background:var(--b-bg-2);font-family:var(--b-font-mono);border-radius:.25rem;padding:.125rem .25rem;font-size:.875em}pre{white-space:pre;padding:1rem;overflow:auto}pre code{background-color:inherit;padding:0}p code{background-color:var(--b-bg-2);color:var(--b-accent-1)}details{background:var(--b-bg-2);border:1px solid var(--b-line);margin-trim:block;border-radius:.25rem;padding:.5rem 1rem;display:block}details[open]>summary{margin-bottom:1.5rem}summary{cursor:pointer;font-weight:700;display:list-item}summary:focus{box-shadow:none}table{border-collapse:collapse;text-indent:0;width:100%}table caption{margin-bottom:.5rem}tr{border-bottom:1px solid var(--b-line)}td,th{word-break:normal;padding:.5rem 0 .5rem 1rem}td:first-child,th:first-child{padding-left:0}th{text-align:left}ul,ol,dd{padding-left:2rem}li>ul,li>ol{margin-bottom:0}fieldset{border:1px solid var(--b-line);border-radius:.25rem;padding:.5rem .75rem}legend{padding:0 .25rem}label{cursor:pointer;margin-bottom:.25rem;display:block}button,input,select,textarea{background:var(--b-bg-2);font:inherit;color:var(--b-txt);border:0;border-radius:.25rem;max-width:100%;margin:0;padding:.5rem .75rem;line-height:1.125}button,select{text-transform:none}select,[type=date],[type=datetime-local],[type=datetime],[type=email],[type=month],[type=number],[type=password],[type=search],[type=tel],[type=text],[type=time],[type=url],[type=week]{width:100%}[type=image],[type=checkbox],[type=radio]{cursor:pointer}[type=color]{min-height:2.125rem}select:not([multiple]):not([size]){-webkit-appearance:none;-moz-appearance:none;appearance:none;background-position:right .5rem center;background-repeat:no-repeat;padding-right:1.5rem}textarea{resize:vertical;width:100%}textarea:not([rows]){height:8rem}button{touch-action:manipulation}button,[type=button],[type=submit],[type=reset]{-webkit-appearance:button;text-align:center;white-space:nowrap;background:var(--b-btn-bg);color:var(--b-btn-txt);cursor:pointer;border:0;transition:opacity .25s;display:inline-block}button:hover,[type=button]:hover,[type=submit]:hover,[type=reset]:hover{opacity:.75}button[disabled],[type=button][disabled],[type=submit][disabled],[type=reset][disabled]{opacity:.5}progress{vertical-align:baseline}[type=search]{-webkit-appearance:none;outline-offset:-2px}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-input-placeholder{color:inherit;opacity:.5}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted buttontext}:-moz-ui-invalid{box-shadow:none}[aria-busy=true]{cursor:progress}[aria-disabled=true],[disabled]{cursor:not-allowed}:focus,details:focus-within{box-shadow:0 0 0 2px var(--b-focus);outline:none}@media (prefers-reduced-motion:reduce){html:focus-within{scroll-behavior:auto}*,:before,:after{background-attachment:initial!important;scroll-behavior:auto!important;transition-delay:0!important;transition-duration:0!important;animation-duration:1ms!important;animation-iteration-count:1!important;animation-delay:-1ms!important}}select:not([multiple]):not([size]){background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23eceff4'%3E%3Cpath d='M5 6l5 5 5-5 2 1-7 7-7-7 2-1z'/%3E%3C/svg%3E")}.post-info{margin-bottom:1rem}a.none{color:inherit;opacity:1;border:none}a.none:hover{opacity:.6;background:0 0}.center{text-align:center}html.is-changing .transition-fade{view-transition-name:main}::view-transition-old(main){animation:.25s ease-in-out both fade}::view-transition-new(main){animation:.25s ease-in-out reverse both fade}@keyframes fade{0%{opacity:1}to{opacity:0}}html.is-changing:not(.swup-native) .transition-fade{will-change:opacity;opacity:1;transition:opacity .25s}html.is-animating:not(.swup-native) .transition-fade{opacity:0}.render-later{content-visibility:auto;contain-intrinsic-size:auto 166px}</style><style>.center img{max-width:100%;height:auto}pre code.language-diff span:nth-child(n+7){color:#50fa7b}iframe{border:0;min-height:300px;margin:0}.gist-iframe{filter:invert()hue-rotate(180deg)brightness();background-color:#fff}body table.highlight tr:nth-child(2n){background-color:#f6f8fa}body table.highlight td,body table.highlight th{border-color:#1b1f234d}</style><body><main class=transition-fade id=swup><header class=center><h1 itemprop="name headline">Minimal Raspberry Pi OS</h1></header><hr><div itemscope itemtype=http://schema.org/BlogPosting><div><p><a title="Go Back Home" href=https://ohdoylerules.com>Go home</a><article><section class=post-info><span itemprop=datePublished> ðŸ•’Â Â  <time datetime=2015-03-14T00:00:00>March 14, 2015</time> </span> Â <span itemprop=dateUpdated> ðŸ•™Â Â  <time datetime=2015-03-20T00:00:00>Updated: March 20, 2015</time> </span></section><div itemprop="ArticleBody text" class=main-content><h2 id=introduction>Introduction</h2><p>I have had a <a rel="noopener nofollow noreferrer" href=http://www.raspberrypi.org/products/model-b/ target=_blank>Raspberry Pi B+</a> for a while now, and I was looking to setup a very minimal Linux OS. I am sure this would work fine with the Pi 2.<p>Although the other <a rel="noopener nofollow noreferrer" href=http://www.raspberrypi.org/downloads/ target=_blank>Raspberry Pi OSs</a> are great, a lot of them are too feature-full (read bloated) and have a packaged GUI that I would never use. Therefore, I wanted to install something much more <em>naked</em> than the ones on the Raspberry Pi website.<p>Enter, <a rel="noopener nofollow noreferrer" href=http://sourceforge.net/projects/moebiuslinux/ target=_blank>Moebius</a>. A few words from the Moebius site:<blockquote><p>[Moebius] is a Raspberry Pi armhf Debian based distribution targeted to have a minimal footprint. Size, speed and optimizations are main goals for this distro...</blockquote><p>With that said, the <em>unzipped <code>img</code></em> file is about <strong>110Mb</strong>. That is pretty small!<p>The other thing that Moebius does is remove the default Raspbian sources from <code>apt-get</code>. This means <em>you can't just download all the Rasbian packages</em> you want.<p>Moebius introduces the idea of containers. This isn't the same container technology like Docker. The "containers" are more like groups of packages. When installing a Moebius container, everything is installed in <code>/usr/bin</code> as if it came with the system.<p>I am going to provide a little walkthrough to get started with Moebius as a light-weight development environment, as well as how to install some other tools.<h3 id=initial-setup>Initial Setup</h3><p>First, visit the Moebius Sourceforge page and follow the instructions to <a rel="noopener nofollow noreferrer" href=http://sourceforge.net/projects/moebiuslinux/files/raspberry.stable/ target=_blank>download Moebius</a>. The basic instructions tell you how to copy the img to the SD Card. Once everything is setup and the Raspberry Pi has booted, complete the following:<ul><li>Either connect a screen and keyboard to the pi, or SSH to the pi<li>The default user is <code>root</code> and password is <code>moebius</code><li>When logged in, run <code>moebius</code></ul><div class=center><a title="Moebius command line app" href=/images/moebius-tool.png target=_blank><img alt="Moebius command line app" src=/images/moebius-tool.png></a><p>Moebius command line app</div><p>Moebius is the name of the OS, but also the name of a sweet little built-in command line tool to setup the rest of the Pi.<h4 id=ssh-niceness>SSH Niceness</h4><p><strong>Optional:</strong> Add your public key to Moebius in order to ssh without a password. This is not required, but it does make popping in and out of the Pi nice and quick. Plus, no password to remember!<p>Moebius does not come with <code>nano</code>! If you are not familiar with the <code>vi</code> tool, you should <a rel="noopener nofollow noreferrer" href=http://www.washington.edu/computing/unix/vi.html target=_blank>use this site to learn some basics</a>.<p>Just create <code>~/.ssh</code> and then use <code>vi ~/.ssh/authorized_keys</code> to create a new file, then paste in your public key.<h3 id=dev-environment-setup>Dev Environment Setup</h3><ul><li>Run <code>moebius</code> and select <code>Basic/Initial Setup</code><li>Choose <code>Autoresize SD partition</code>, follow the instructions<li>Run <code>apt-get update</code><li>Run <code>apt-get install tzdata</code><li>Run <code>moebius</code> and select <code>Basic/Initial Setup</code>, choose <code>System timezone setup</code> and follow instructions<li>In <code>moebius</code>, select <code>Software Management</code> and select <code>Update containers list from repository</code><li>Do the same as above except choose <code>Install a container</code> from the <code>Software Management</code> menu<li>Select the <code>lang.gcc</code> container</ul><div class=center><a title="Moebius container command line app" href=/images/moebius-container-tool.png target=_blank><img alt="Moebius container command line app" src=/images/moebius-container-tool.png></a><p>Moebius container command line app</div><p><strong>You may get an error</strong> telling you to run <code>dpkg --configure -a</code>. If this happens, press any key to close the container installed and then run that command. When that completes, try to install the <code>lang.gcc</code> container again.<p>You may have to repeat the process above <em>multiple times</em>. I did it twice.<p>Once the container is installed, you should have <code>make</code> and <code>gcc</code>, and a bunch of other tools on your system.<hr><h3 id=install-git>Install git</h3><p><strong>You must install the lang.gcc container first</strong>. That container provides the necessary compilers we need in order to build git.<ul><li>Get the required development files with <code>apt-get install openssl-dev curl-dev libexpat-dev dropbear-dev coreutils coreutils-dev</code><li>Download the latest zip archive <code>wget https://github.com/git/git/archive/v2.3.3.zip</code><li>Run <code>unzip v2.3.3.zip</code> and then <code>cd v2.3.3/</code><li>Allow the scripts to run with <code>chmod +x *.sh && chmod +x check_bindir</code></ul><p>Following the official <a rel="noopener nofollow noreferrer" href=https://github.com/git/git/blob/master/INSTALL target=_blank>INSTALL</a> in the git source code repository, we want to leave out some of the features in order to build without some of the required libraries.<p>To do this, we need to run:<pre style=color:#c0c5ce;background-color:#2b303b><code><span>make NO_PERL=YesPlease NO_TCLTK=YesPlease NO_GETTEXT=YesPlease prefix=/usr install
</span></code></pre><p>This will take a while to build, so <em>grab a coffee or a beer</em>.<p><strong>Note:</strong> This command does not build the docs, so if you want those, you will have to consult the <a rel="noopener nofollow noreferrer" href=https://github.com/git/git/blob/master/INSTALL target=_blank>INSTALL</a> file in the git repo.<h3 id=samba-setup>Samba setup</h3><p><a rel="noopener nofollow noreferrer" href=http://en.wikipedia.org/wiki/Samba_%28software%29 target=_blank>Samba</a> lets us access the Pi like a hard drive on our local network. Samba <em>works well with Windows and OSX</em>, and of course Linux as well.<p>If you are not familiar with the <code>vi</code> tool, you should <a rel="noopener nofollow noreferrer" href=http://www.washington.edu/computing/unix/vi.html target=_blank>use this site to learn some basics</a>.<p>Complete the following to setup Samba:<ul><li>run <code>apt-get install samba</code><li>open the config with <code>vi /etc/samba/smb.conf</code><li>then complete the following:</ul><pre style=color:#c0c5ce;background-color:#2b303b><code><span># find in the top part of the file
</span><span>workgroup = your_workgroup_name
</span><span># find and uncomment this line
</span><span>wins support = yes
</span><span># add to the bottom of the file
</span><span>[pihome]
</span><span>  comment= Pi Home
</span><span>  path=/home/
</span><span>  browseable=Yes
</span><span>  writeable=Yes
</span><span>  only guest=no
</span><span>  create mask=0777
</span><span>  directory mask=0777
</span><span>  public=no
</span></code></pre><ul><li>set the samba password with <code>smbpasswd -a root</code></ul><h3 id=install-lit-and-luvit>Install lit and luvit</h3><p><em>Again, have lang.gcc installed before continuing</em>.<p>I have been playing with <a rel="noopener nofollow noreferrer" href=https://github.com/luvit/lit target=_blank>Lit</a> and <a rel="noopener nofollow noreferrer" href=https://github.com/luvit/luvit target=_blank>Luvit</a>. They are like lightweight versions of Node.js, but written with Lua. So let's install them with a series of commands:<pre style=color:#c0c5ce;background-color:#2b303b><code><span>apt-get install curl
</span><span>curl -L https://github.com/luvit/lit/raw/master/get-lit.sh | sh
</span><span>mkdir -p /usr/local/bin
</span><span>mv lit /usr/local/bin/lit
</span><span>lit make lit://luvit/luvit
</span><span>mv luvit /usr/local/bin/luvit
</span></code></pre><p>Try running <code>lit version</code> and then <code>luvit --version</code> to see if the frameworks are installed.<hr><h3 id=finished>Finished</h3><p>You should now have everything setup to get around. If you find any problems with my instructions, <strong>please let me know in the comments</strong> and I will update them!</div><p><a title="Go Back Home" href=https://ohdoylerules.com>Go home</a><hr><div class="media grid"><div class=media-left><a class=post-author-link href=https://twitter.com/james2doyle target=_blank> <img alt="James Doyle Profile Picture" src="https://www.gravatar.com/avatar/b7375c88e1864c4ddf0d7bdab58e4cca?s=120&d=mm&r=g" height=120 width=120> </a></div><div class="media-body cell -9of12"><div class=media-heading><h3 itemprop="author publisher creator provider">James Doyle</h3></div><div class=media-content><p>I'm a full-stack developer, co-organizer of <a title="PHP Vancouver" href=https://www.meetup.com/vancouver-php target=_blank>PHP Vancouver</a> meetup, and winner of a <a title="Canadian Developer 30 under 30 award" href=http://www.canadianbusiness.com/innovation/developer-30-under-30-gallery/image/20/ target=_blank>Canadian Developer 30 under 30 award</a>. I'm a huge Open Source advocate and contributor to a lot of projects in my community. When I am not sitting at a computer, I'm trying to perfect some other skill.</div></div></div></article></div></div></main><script defer src=https://unpkg.com/swup@4.8.1/dist/Swup.umd.js></script><script>var handleGists=(()=>{let b=16,c=`px`;const a=document.querySelectorAll(`.iframes`);[...a].forEach((a=>{a.onload=(()=>{a.style.height=a.contentWindow.document.body.scrollHeight+ b+ c});a.style.height=a.contentWindow.document.body.scrollHeight+ b+ c}))});document.addEventListener(`DOMContentLoaded`,(()=>{handleGists();const a=new Swup({native:!0});a.hooks.on(`visit:end`,handleGists,{priority:100})}))</script>